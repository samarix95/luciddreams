(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{333:function(e,t,a){"use strict";var n=a(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(45)).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=c},863:function(e,t,a){"use strict";var n=a(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(45)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=c},864:function(e,t,a){"use strict";var n=a(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(45)).default)(r.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=c},865:function(e,t,a){"use strict";var n=a(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(45)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{fill:"none",d:"m0 0h24v24H0z"}),r.default.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})),"VisibilityOff");t.default=c},866:function(e,t,a){"use strict";var n=a(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(45)).default)(r.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=c},867:function(e,t,a){"use strict";var n=a(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(45)).default)(r.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.default=c},878:function(e,t,a){"use strict";var n=a(1),r=a(3),c=a(0),o=a.n(c),l=(a(4),a(5)),i=a(29),s=a(6),u=a(92),d=a(11),m=a(8),f=a(376),p=Object(f.a)(o.a.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function b(e,t){if(null==e)return e;var a,n=Math.round(e/t)*t;return Number(n.toFixed((a=t.toString().split(".")[1])?a.length:0))}function g(e){e.value;var t=Object(r.a)(e,["value"]);return o.a.createElement("span",t)}var v=o.a.createElement(p,{fontSize:"inherit"});function h(e){return"".concat(e," Star").concat(1!==e?"s":"")}var y=o.a.forwardRef((function(e,t){var a=e.classes,c=e.className,s=e.disabled,f=void 0!==s&&s,p=e.emptyIcon,y=e.emptyLabelText,E=void 0===y?"Empty":y,O=e.getLabelText,j=void 0===O?h:O,P=e.icon,x=void 0===P?v:P,k=e.IconContainerComponent,L=void 0===k?g:k,w=e.max,C=void 0===w?5:w,D=e.name,N=e.onChange,S=e.onChangeActive,M=e.onMouseLeave,_=e.onMouseMove,R=e.precision,z=void 0===R?1:R,F=e.readOnly,A=void 0!==F&&F,T=e.size,I=void 0===T?"medium":T,q=e.value,B=void 0===q?null:q,V=Object(r.a)(e,["classes","className","disabled","emptyIcon","emptyLabelText","getLabelText","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"]),H=o.a.useState(),U=H[0],W=H[1],X=D||U;o.a.useEffect((function(){W("mui-rating-".concat(Math.round(1e5*Math.random())))}),[]);var G=b(B,z),J=Object(i.a)(),$=o.a.useState({hover:-1,focus:-1}),Y=$[0],K=Y.hover,Q=Y.focus,Z=$[1],ee=G;-1!==K&&(ee=K),-1!==Q&&(ee=Q);var te=Object(u.a)(),ae=te.isFocusVisible,ne=te.onBlurVisible,re=te.ref,ce=o.a.useState(!1),oe=ce[0],le=ce[1],ie=o.a.useRef(),se=Object(d.a)(re,ie),ue=Object(d.a)(se,t),de=function(e){N&&N(e,parseFloat(e.target.value))},me=function(e){0===e.clientX&&0===e.clientY||(Z({hover:-1,focus:-1}),N&&parseFloat(e.target.value)===G&&N(e,null))},fe=function(e){ae(e)&&le(!0);var t=parseFloat(e.target.value);Z((function(e){return{hover:e.hover,focus:t}})),S&&Q!==t&&S(e,t)},pe=function(e){if(-1===K){!1!==oe&&(le(!1),ne());Z((function(e){return{hover:e.hover,focus:-1}})),S&&-1!==Q&&S(e,-1)}},be=function(e,t){var r="".concat(X,"-").concat(String(e.value).replace(".","-")),c=o.a.createElement(L,Object(n.a)({},e,{className:Object(l.a)(a.icon,t.filled?a.iconFilled:a.iconEmpty,t.hover&&a.iconHover,t.focus&&a.iconFocus,t.active&&a.iconActive)}),p&&!t.filled?p:x);return A||f?o.a.createElement(o.a.Fragment,{key:e.value},c):o.a.createElement(o.a.Fragment,{key:e.value},o.a.createElement("label",{className:a.label,htmlFor:r},c,o.a.createElement("span",{className:a.visuallyhidden},j(e.value))),o.a.createElement("input",{onFocus:fe,onBlur:pe,onChange:de,onClick:me,value:e.value,id:r,type:"radio",name:X,checked:t.checked,className:a.visuallyhidden}))};return o.a.createElement("span",Object(n.a)({ref:ue,onMouseMove:function(e){_&&_(e);var t,n=ie.current,r=n.getBoundingClientRect(),c=r.right,o=r.left,l=n.querySelector(".".concat(a.label)).getBoundingClientRect().width;t="rtl"===J.direction?(c-e.clientX)/(l*C):(e.clientX-o)/(l*C);var i=b(C*t+z/2,z);i=function(e,t,a){return e<t?t:e>a?a:e}(i,z,C),Z((function(e){return e.hover===i&&e.focus===i?e:{hover:i,focus:i}})),le(!1),S&&K!==i&&S(e,i)},onMouseLeave:function(e){M&&M(e);Z({hover:-1,focus:-1}),S&&-1!==K&&S(e,-1)},className:Object(l.a)(a.root,c,"medium"!==I&&a["size".concat(Object(m.a)(I))],f&&a.disabled,oe&&a.focusVisible,A&&a.readOnly),role:A?"img":null,"aria-label":A?j(ee):null},V),!A&&!f&&null==G&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{value:"",id:"".concat(X,"-empty"),type:"radio",name:X,defaultChecked:!0,className:a.visuallyhidden}),o.a.createElement("label",{className:a.pristine,htmlFor:"".concat(X,"-empty")},o.a.createElement("span",{className:a.visuallyhidden},E))),Array.from(new Array(C)).map((function(e,t){var n=t+1;if(z<1){var r=Array.from(new Array(1/z));return o.a.createElement("span",{key:n,className:Object(l.a)(a.decimal,n===Math.ceil(ee)&&(-1!==K||-1!==Q)&&a.iconActive)},r.map((function(e,t){var a=b(n-1+(t+1)*z,z);return be({value:a,style:r.length-1===t?{}:{width:a===ee?"".concat((t+1)*z*100,"%"):"0%",overflow:"hidden",zIndex:1,position:"absolute"}},{filled:a<=ee,hover:a<=K,focus:a<=Q,checked:a===G})})))}return be({value:n},{active:n===ee&&(-1!==K||-1!==Q),filled:n<=ee,hover:n<=K,focus:n<=Q,checked:n===G})})))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#ffb400",cursor:"pointer",WebkitTapHighlightColor:"transparent","&$disabled":{opacity:.5,pointerEvents:"none"},"&$focusVisible $iconActive":{outline:"1px solid #999"}},sizeSmall:{fontSize:e.typography.pxToRem(18)},sizeLarge:{fontSize:e.typography.pxToRem(30)},readOnly:{pointerEvents:"none"},disabled:{},focusVisible:{},visuallyhidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,color:"#000",overflow:"hidden",padding:0,position:"absolute",top:20,width:1},pristine:{"input:focus ~ &":{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}},label:{cursor:"inherit"},icon:{display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},iconEmpty:{color:e.palette.action.disabled},iconFilled:{},iconHover:{},iconFocus:{},iconActive:{transform:"scale(1.2)"},decimal:{position:"relative"}}}),{name:"MuiRating"})(y)},904:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a(23),l=a(4),i=a.n(l),s=a(272),u=a(886),d=a(350),m=a(397),f=a(349),p=a(263),b=a(158),g=a(217),v=a(270),h=a(525),y=a(516),E=a(899),O=a(346),j=a(379),P=a(226),x=a(268),k=a(900),L=a(146),w=a(264),C=a(907),D=a(99),N=a(262),S=a(5),M=a(417),_=a.n(M),R=a(363),z=a(481),F=a(889),A=a(573),T=a(574),I=a(271),q=a(884),B=a(885),V=a(893),H=a(145),U=a(570),W=a(142),X=a(878),G=a(436),J=a.n(G),$=a(865),Y=a.n($),K=a(867),Q=a.n(K),Z=a(864),ee=a.n(Z),te=a(866),ae=a.n(te),ne=a(333),re=a.n(ne),ce=a(863),oe=a.n(ce),le=a(39),ie=a(40),se=a(2),ue=a(7);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){fe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function be(e){var t=Object(le.b)(),a=e.item,n=a.post_id,c=a.post_title,o=a.post_content,l=a.post_type,i=a.tags,s=a.technics,p=a.rating,b=a.dream_date,g=a.is_public,h=e.lang,P=e.palette,k=e.history,L=e.setSnackbar,D=pe(r.a.useState(!1),2),N=D[0],M=D[1],G=pe(r.a.useState(null),2),$=G[0],K=G[1],Z=pe(r.a.useState(!1),2),te=Z[0],ne=Z[1],ce=pe(r.a.useState(!1),2),ue=ce[0],de=ce[1],be=pe(r.a.useState({header:"",body:"",commit:"",action:""}),2),ge=be[0],ve=be[1],he=new Date(b).getDate()+"."+(new Date(b).getMonth()+1)+"."+new Date(b).getFullYear()+" "+new Date(b).getHours()+":"+("0"+new Date(b).getMinutes()).slice(-2),ye=o.toString(),Ee=JSON.parse(ye),Oe=Object(R.convertFromRaw)(Ee),je=R.EditorState.createWithContent(Oe).getCurrentContent().getPlainText("");r.a.useEffect((function(){de(1===g)}),[g]);var Pe=function(){K(null)},xe=function(t,a){var r=ge;switch(t){case"public":a.target.checked?(r=me({},r,{header:h.currLang.texts.PublicAlert}),r=me({},r,{body:h.currLang.texts.PublicText}),r=me({},r,{commit:h.currLang.texts.Publish}),r=me({},r,{action:"publicOk"}),ve(r)):(r=me({},r,{header:h.currLang.texts.UnpublicAlert}),r=me({},r,{body:h.currLang.texts.UnpublicText}),r=me({},r,{commit:h.currLang.texts.Unpublish}),r=me({},r,{action:"publicOk"}),ve(r)),ne(!0),Pe();break;case"edit":Pe(),0===l?k.push({pathname:"/addregulardream",defaultData:{post_id:n,post_title:c,dream_date:new Date(b),post_content:o,tags:i}}):1===l&&k.push({pathname:"/addcdream",defaultData:{post_id:n,post_title:c,dream_date:new Date(b),post_content:o,tags:i,technics:s,rating:p}});break;case"delete":r=me({},r,{header:h.currLang.texts.DeleteAlert}),r=me({},r,{body:h.currLang.texts.DeleteText}),r=me({},r,{commit:h.currLang.buttons.Delete}),r=me({},r,{action:"deleteOk"}),ve(r),Pe(),ne(!0);break;case"closeAlert":ne(!1);break;case"deleteOk":var u={post_id:n};ie.l.post("/actions/users/deletepost",u).then((function(t){Pe(),L({type:se.O,snackbar:{open:!0,variant:"success",message:h.currLang.texts.success}}),ne(!1),e.loadPosts()})).catch((function(e){L({type:se.O,snackbar:{open:!0,variant:"error",message:h.currLang.texts.CantDeletePost}}),Pe(),ne(!1)}));break;case"publicOk":if(Pe(),ne(!1),ue){var d={post_id:n,newPublic:0};ie.l.post("/actions/users/updatepost",d).then((function(e){de(!1),L({type:se.O,snackbar:{open:!0,variant:"success",message:h.currLang.texts.success}})})).catch((function(e){de(!0)}))}else{var m={post_id:n,newPublic:1};ie.l.post("/actions/users/updatepost",m).then((function(e){de(!0),L({type:se.O,snackbar:{open:!0,variant:"success",message:h.currLang.texts.success}})})).catch((function(e){de(!1)}))}break;default:console.log("Command not found")}};return r.a.createElement(w.a,{item:!0,className:t.dreamCardDiv},r.a.createElement(O.a,{open:te,onClose:function(){return xe("closeAlert")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(f.a,{id:"alert-dialog-title"},ge.header),r.a.createElement(d.a,null,r.a.createElement(z.a,{id:"alert-dialog-description"},ge.body)),r.a.createElement(m.a,null,r.a.createElement(x.a,{onClick:function(){return xe("closeAlert")},color:"secondary"},h.currLang.buttons.cancel),r.a.createElement(x.a,{onClick:function(){return xe(ge.action)},color:"primary",autoFocus:!0},ge.commit))),r.a.createElement(W.a,{id:"simple-menu",anchorEl:$,keepMounted:!0,open:Boolean($),onClose:Pe},r.a.createElement(y.a,null,r.a.createElement(F.a,null,r.a.createElement(u.a,{control:r.a.createElement(E.a,{onChange:function(e){return xe("public",e)},checked:ue,value:"checkedB",color:"primary"})})),h.currLang.texts.Public),r.a.createElement(y.a,{onClick:function(){return xe("edit")}},r.a.createElement(F.a,null,r.a.createElement(re.a,{fontSize:"small"})),h.currLang.buttons.Edit),r.a.createElement(y.a,{onClick:function(){return xe("delete")}},r.a.createElement(F.a,null,r.a.createElement(oe.a,{fontSize:"small"})),h.currLang.buttons.Delete)),r.a.createElement(U.a,{raised:!0,className:t.card},r.a.createElement(q.a,{style:{paddingBottom:"0px"},title:r.a.createElement(w.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(w.a,{item:!0,xs:10},r.a.createElement(v.a,{variant:"subtitle1"},c," (",0===l?h.currLang.texts.Dream:h.currLang.texts.Cdream,")")),r.a.createElement(w.a,{item:!0,xs:2},r.a.createElement(V.a,{disableFocusListener:!0,disableTouchListener:!0,title:ue?h.currLang.texts.PublicDescription:h.currLang.texts.UnpublicDescription},ue?r.a.createElement(ee.a,{className:t.iconCenter}):r.a.createElement(Y.a,{className:t.iconCenter})))),subheader:he,action:r.a.createElement(I.a,{"aria-label":"settings",onClick:function(e){K(e.currentTarget)}},r.a.createElement(ae.a,null))}),r.a.createElement(T.a,{disableSpacing:!0},r.a.createElement(v.a,{noWrap:!N,variant:"body2",style:{padding:"12px"}},N?h.currLang.texts.TapToShow:je),r.a.createElement(I.a,{className:Object(S.a)(t.expand,fe({},t.expandOpen,N)),onClick:function(){M(!N)},"aria-expanded":N,"aria-label":"show more"},r.a.createElement(Q.a,null))),r.a.createElement(B.a,{in:N,timeout:"auto",unmountOnExit:!0},r.a.createElement(A.a,null,r.a.createElement("div",{className:t.avatarRoot},s.map((function(e,a){return e[0]?r.a.createElement(C.a,{className:t.smallChip,key:a,label:"Ru"===h.currLang.current?e[1]:e[2]}):""}))),r.a.createElement("div",{className:t.avatarRoot},i.map((function(e,a){return e[0]?r.a.createElement(V.a,{key:a,disableFocusListener:!0,disableTouchListener:!0,title:"Ru"===h.currLang.current?e[1]:e[2]},r.a.createElement(j.a,{className:t.smallAvatar,src:e[3],style:"dark"===P.type?{filter:"invert(1)"}:{}})):""}))),r.a.createElement(H.a,{className:t.contentPaper},r.a.createElement(_.a,{controls:["bold","italic","underline","strikethrough","colorfill"],customControls:[{name:"colorfill",icon:r.a.createElement(J.a,null),type:"inline",inlineStyle:{backgroundColor:"yellow",color:"black"}}],readOnly:!0,toolbar:!1,value:o})),0===l?"":r.a.createElement(w.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",style:{paddingTop:"10px"}},r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(v.a,{component:"legend",variant:"body2"},h.currLang.texts.rating,":")),r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(X.a,{name:"simple-controlled",value:p,readOnly:!0})))))))}be.propTypes={setSnackbar:i.a.func.isRequired,lang:i.a.object.isRequired,palette:i.a.object.isRequired};var ge=Object(c.b)((function(e){return{lang:e.lang,palette:e.themeMode.palette}}),(function(e){return{setSnackbar:function(t){return e(Object(ue.M)(t))}}}))(be),ve=a(90),he=a(91),ye=a(96),Ee=a(54);function Oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(a),!0).forEach((function(t){Pe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ke=!0;function Le(e){var t=e.lang,a=e.themeMode,n=e.history,c=e.auth,o=e.tags,l=e.tagsError,i=(e.tagsPending,e.fetchTags),S=e.userPosts,M=e.userPostsError,_=e.userPostsPending,R=e.fetchUserPosts,z=e.connectPosts,F=e.connectPostsError,A=e.connectPostsPending,T=e.fetchConnectPosts;l&&(console.log("ViewDreams"),console.log(l),alert("Error")),M&&(console.log("ViewDreams"),console.log(M),alert("Error")),F&&(console.log("ViewDreams"),console.log(F),alert("Error"));var I=Object(D.a)(a),q=Object(le.b)(),B=xe(r.a.useState(!1),2),V=B[0],H=B[1],U=xe(r.a.useState([]),2),W=U[0],X=U[1],G=xe(r.a.useState(!1),2),J=G[0],$=G[1],Y=xe(r.a.useState(!1),2),K=Y[0],Q=Y[1],Z=xe(r.a.useState(null),2),ee=Z[0],te=Z[1],ae=xe(r.a.useState(2),2),ne=ae[0],re=ae[1],ce=xe(r.a.useState({location:null,type:2}),2),oe=ce[0],ie=ce[1];_||null!=M||ke||V||(ke=!0,X(S)),A||null!=F||ke||!V||(ke=!0,X(z));var se=function(){$(!1)},ue=r.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.user.id;ke=!1,i();var t=Object(Ee.b)();e===c.user.id?(H(!1),R(e,t)):(H(!0),T(e,t))}),[c.user.id]);return r.a.useEffect((function(){if(void 0!==e.location.defaultData){if("fromMap"===e.location.defaultData.mode){var a=oe;a=je({},a,{location:e.location.defaultData.location.name_eng}),ie(a),Q(!0),"Ru"===t.currLang.current?te(e.location.defaultData.location.name_rus):te(e.location.defaultData.location.name_eng),ue()}"fromFriend"===e.location.defaultData.mode&&ue(e.location.defaultData.friend_id)}else ue()}),[ue]),r.a.createElement(N.a,{theme:I},r.a.createElement(p.a,null),r.a.createElement(O.a,{open:J,onClose:se,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(f.a,{id:"alert-dialog-title"},t.currLang.buttons.Filter),r.a.createElement(d.a,null,r.a.createElement(w.a,{container:!0,className:"".concat(q.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(w.a,{item:!0,className:"".concat(q.mainGridBodyItem," ").concat(q.height6," ").concat(q.margin)},r.a.createElement(w.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(w.a,{item:!0,xs:3,className:"".concat(q.relativePosition)},r.a.createElement(E.a,{className:q.centerButton,color:"primary",checked:K,onChange:function(e){Q(e.target.checked)},inputProps:{"aria-Location":"primary checkbox"}})),r.a.createElement(w.a,{item:!0,xs:9},r.a.createElement(b.a,{className:"".concat(q.fullWidth),disabled:!K},r.a.createElement(g.a,{id:"location-chip-label"},t.currLang.texts.tags),r.a.createElement(P.a,{labelId:"location-chip-label",id:"location-chip",value:ee,onChange:function(e){te(e.target.value)},input:r.a.createElement(L.a,{id:"select-location-chip"}),renderValue:function(e){return r.a.createElement("div",{className:q.chips},r.a.createElement(C.a,{size:"small",avatar:o.length?r.a.createElement(j.a,{src:o.find((function(e){return e.name_rus===ee||e.name_eng===ee})).img_url}):null,key:ee,label:ee,className:q.chip}))},MenuProps:{PaperProps:{style:{maxHeight:248,width:250}}}},Object.keys(o).map((function(e){return r.a.createElement(y.a,{key:o[e].id+" chip",value:"Ru"===t.currLang.current?o[e].name_rus:o[e].name_eng},"Ru"===t.currLang.current?o[e].name_rus:o[e].name_eng)}))))))),r.a.createElement(w.a,{item:!0,className:"".concat(q.mainGridBodyItem," ").concat(q.height6," ").concat(q.margin)},r.a.createElement(h.a,{className:"".concat(q.height12," ").concat(q.margin),"aria-label":"post-type",value:ne,onChange:function(e){re(parseInt(e.target.value))}},r.a.createElement(u.a,{value:0,control:r.a.createElement(k.a,{color:"primary"}),label:t.currLang.texts.Dream}),r.a.createElement(u.a,{value:1,control:r.a.createElement(k.a,{color:"primary"}),label:t.currLang.texts.Cdream}),r.a.createElement(u.a,{value:2,control:r.a.createElement(k.a,{color:"primary"}),label:t.currLang.texts.All}))))),r.a.createElement(m.a,null,r.a.createElement(x.a,{color:"secondary",onClick:se},t.currLang.texts.cancel),r.a.createElement(x.a,{color:"primary",onClick:function(){Q(!1),te(null),re(2);var e=oe;e=je({},e,{location:null}),e=je({},e,{type:2}),ie(e),se()}},t.currLang.buttons.Reset),r.a.createElement(x.a,{color:"primary",autoFocus:!0,onClick:function(){var e=oe;e=je({},e,K?{location:ee}:{location:null}),e=je({},e,{type:ne}),ie(e),se()}},t.currLang.buttons.Apply))),r.a.createElement("div",{className:q.root},r.a.createElement(w.a,{container:!0,className:"".concat(q.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(w.a,{item:!0,className:"".concat(q.height11," ").concat(q.width12," ").concat(q.autoOverflowX," ").concat(q.relativePosition)},V&&!A||!V&&!_?0!==W.length?r.a.createElement(w.a,{className:"".concat(q.absolutePosition," ").concat(q.width12),container:!0,direction:"column",justify:"center",alignItems:"stretch"},0!==o.length?W.filter((function(e){return oe.location?e.tags.includes(e.tags.find((function(e){return e[0]===o.find((function(e){return e.name_eng===oe.location||e.name_rus===oe.location})).id.toString()}))):e})).filter((function(e){return 2===oe.type?e:e.post_type===oe.type})).map((function(e,t){return r.a.createElement(ge,{item:e,key:t,history:n,loadPosts:ue})})):""):r.a.createElement("div",null,r.a.createElement("div",{className:q.divDreamsNotFound}),r.a.createElement("div",{className:"".concat(q.divDreamsNotFound," ").concat(q.divDreamsNotFoundImg)}),r.a.createElement("div",{className:q.divDreamsNotFound},r.a.createElement(v.a,null,t.currLang.texts.NoDreams))):r.a.createElement("div",{className:"".concat(q.formControl," ").concat(q.centerTextAlign)},r.a.createElement("div",{className:"".concat(q.inlineBlock," ").concat(q.relativePosition)},r.a.createElement(s.a,null)),r.a.createElement(v.a,{className:"".concat(q.relativePosition),component:"div"},t.currLang.texts.Loading))),r.a.createElement(w.a,{item:!0,className:"".concat(q.mainGridBodyItem," ").concat(q.height1)},r.a.createElement(w.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(x.a,{className:q.actionButton,variant:"contained",color:"secondary",onClick:function(){void 0!==e.location.defaultData?"fromFriend"===e.location.defaultData.mode?n.push({pathname:e.location.defaultData.prevUrl,defaultData:{friend_id:e.location.defaultData.friend_id}}):n.push(e.location.defaultData.prevUrl):n.push("/")}},t.currLang.buttons.Back)),r.a.createElement(w.a,{item:!0},r.a.createElement(x.a,{className:q.actionButton,variant:"contained",color:"primary",onClick:function(){$(!0)}},t.currLang.buttons.Filter)))))))}Le.propTypes={themeMode:i.a.object.isRequired,lang:i.a.object.isRequired,auth:i.a.object.isRequired,tagsError:i.a.object.isRequired,tags:i.a.object.isRequired,tagsPending:i.a.object.isRequired,userPostsError:i.a.object.isRequired,userPosts:i.a.object.isRequired,userPostsPending:i.a.object.isRequired,connectPostsError:i.a.object.isRequired,connectPosts:i.a.object.isRequired,connectPostsPending:i.a.object.isRequired};t.default=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,auth:e.auth,tagsError:Object(ve.b)(e),tags:Object(ve.a)(e),tagsPending:Object(ve.c)(e),userPostsError:Object(he.b)(e),userPosts:Object(he.a)(e),userPostsPending:Object(he.c)(e),connectPostsError:Object(ye.c)(e),connectPosts:Object(ye.b)(e),connectPostsPending:Object(ye.d)(e)}}),(function(e){return Object(o.bindActionCreators)({fetchTags:ie.f,fetchUserPosts:ie.k,fetchConnectPosts:ie.b},e)}))(Le)}}]);
//# sourceMappingURL=10.index-bundle.js.map