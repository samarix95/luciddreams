(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{323:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,n(a(43)).default)(c.default.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=r},418:function(e,t,a){"use strict";t.a={current:"Ru",buttons:{signIn:"Вход",signOut:"Выход",signUp:"Регистрация",dreamJoirnal:"Дневник снов",addDream:"Добавить сон",addCDream:"Добавить ос",techniques:"Техники",adventures:"Приключения",close:"Закрыть",about:"О сайте",cancel:"Отмена",add:"Добавить",Edit:"Изменить",Delete:"Удалить",Save:"Сохранить",addTag:"+ место",Filter:"Фильтр",Apply:"Применить",Reset:"Сброс",Connections:"Контакты",Home:"Домой",Back:"Назад"},texts:{about:"О нас О нас О нас О нас О нас О нас О нас О нас О нас О нас О нас О нас",Nothink:"Ничего",nickname:"Отображаемое имя",password:"Пароль",passwordAgain:"Поторите пароль",cancel:"Отмена",sucessRegistration:"Вы успешно зарегистрировались",hello:"Привет, ",changleLanguage:"Сохранить изменение языка на ",success:"Успешно",title:"Заголовок",description:"Описание",content:"Что снилось",tags:"Места",DreamsMap:"Карта снов",CountDreams:"Снов",InfoDreams:"Сны",technics:"Техники",rating:"Реалистичность",Dream:"Обычный сон",Regular:"Обычный",Cdream:"ОC",All:"Все",Total:"Всего",NoDreams:"У вас нет снов",pickDate:"Дата",pickTime:"Время",TapToShow:"Нажмите на текст, чтобы отобразить подсвечивание",Public:"Опубликовано",Publish:"Опубликовать",Unpublish:"Скрыть",PublicAlert:"Вы точно хотите опубликовать сон?",PublicText:"После публикации ваши друзья смогут прочитать этот сон.",PublicDescription:"Ваши друзья могут прочитать этот сон",UnpublicAlert:"Вы точно хотите скрыть сон?",UnpublicText:"После скрытия ваши друзья не смогут прочитать этот сон.",UnpublicDescription:"Ваши друзья не могут прочитать этот сон",DeleteAlert:"Вы точно хотите удалить?",DeleteText:"После удаления запись не получится восстановить.",Name:"Наименование",ChangeIcon:"Иконка",FindIcon:"Поиск иконки (English only)",LogOutQuestion:"Вы точно хотите выйти?",Loading:"Загрузка",Avatar:"Аватар",Admin:"Администратор",Moderator:"Модератор",User:"Пользователь",AddConnections:"Добавить контакты",AddedConnections:"Контакт добавлен",DeletedConnections:"Контакт удален"},errors:{emailLenght:"Введите email",nicknameLenght:"Введите отображаемое имя",passwordLenght:"Введите пароль",password2Lenght:"Введите пароль",passwordsCompare:"Пароли не совпадают",UserNotExist:"Неверный email или пароль",EmailIsNotValid:"Введен некорректный email",IncorrectPassword:"Неверный email или пароль",EmailIsBusy:"Email занят",PasswordLenght5Symbols:"Длина пароля - больше 5 символов",NotLogin:"Вы не авторизированы",EmptyName:"Пустое наименование",EmptyTitle:"Пустой заголовок",EmptyDescription:"Пустое описание",EmptyDream:"Пустое поле сна",NoChanges:"Нет изменений",CantDeletePost:"Ошибка удаления сна",CantAddLocation:"Ошибка добавления локации",CantUpdateLocation:"Ошибка обновления локации",IconNotChange:"Выберите иконку",ColorNotChange:"Выберите цвет"}}},469:function(e,t,a){"use strict";var n=a(1),c=a(0),r=a.n(c),i=(a(3),a(6)),o=a(258),s=r.a.forwardRef((function(e,t){return r.a.createElement(o.a,Object(n.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(i.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(s)},880:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),i=a(30),o=a(3),s=a.n(o),l=a(469),u=a(260),m=a(211),d=a(468),g=a(470),p=a(467),h=a(139),b=a(259),f=a(258),E=a(261),v=a(464),y=a(256),N=a(869),k=a(252),C=a(5),j=a(11),D=a(13),L=a(70),O=a(92),B=a(85),w=a(54),R=a(94),S=a(250),A=a(251),I=a(113),T=a.n(I),x=a(323),P=a.n(x),M=a(418),U=a(90);function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,c=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){c=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(c)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function z(e){return c.a.createElement(N.a,G({},e,{direction:"down"}))}var J=!0;function Y(e){var t=e.lang,a=e.themeMode,n=e.auth,r=e.history,i=e.setCurrLangAction,o=e.setTheme,s=e.setSnackbar,N=e.userData,O=e.userDataError,I=e.userDataPending,x=e.fetchUserData;O&&(console.log("MainPage"),console.log(O)),!I&&null==O&&J&&(0===N.language?i(U.a):i(M.a),J=!1);var G=Object(D.d)(),Y=Object(R.a)(a),F=q(c.a.useState(void 0),2),H=F[0],V=F[1],Q=q(c.a.useState(!1),2),_=Q[0],K=Q[1],W=q(c.a.useState(""),2),X=W[0],Z=W[1],$=q(c.a.useState(void 0),2),ee=$[0],te=$[1],ae=q(c.a.useState(!1),2),ne=ae[0],ce=ae[1],re=function(){ce(!1)},ie=function(e){e!==t.currLang.current&&("Ru"===e&&(V(t.currLang.current),i(M.a),Z(e),te((function(){return z})),K(!0)),"En"!==t.currLang.current&&(V(t.currLang.current),i(U.a),Z(e),te((function(){return z})),K(!0)))},oe=function(){switch(H){case"En":i(U.a);break;case"Ru":i(M.a);break;default:i(U.a)}K(!1)};return c.a.useEffect((function(){x(n.user.id,Object(B.b)())}),[]),c.a.createElement(S.a,{theme:Y},c.a.createElement(A.a,null),c.a.createElement(E.a,{key:"top, center",open:_,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:ee},c.a.createElement(m.a,{"aria-describedby":"lang-snackbar",message:c.a.createElement(f.a,{id:"lang-snackbar",className:"".concat(G.height12),align:"center",variant:"body2"},t.currLang.texts.changleLanguage+X+" ?"),action:[c.a.createElement("div",{key:"lang-snackbar-buttons"},c.a.createElement(b.a,{key:"save","aria-label":"save",color:"inherit",onClick:function(){var e;switch(t.currLang.current){case"En":e=0;break;case"Ru":e=1;break;default:e=0}var a={language:e,id:n.user.id,nickname:n.user.nickname};Object(B.a)()?L.g.post("/actions/users/updateuserdata",a).then((function(e){s({type:C.v,snackbar:{open:!0,variant:"success",message:t.currLang.texts.success}}),K(!1)})).catch((function(e){oe()})):(s({type:C.v,snackbar:{open:!0,variant:"error",message:t.currLang.errors.NotLogin}}),oe())}},c.a.createElement(P.a,null)),c.a.createElement(b.a,{key:"close","aria-label":"close",color:"inherit",onClick:oe},c.a.createElement(T.a,null)))]})),c.a.createElement(v.a,{open:ne,onClose:re,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(p.a,{id:"alert-dialog-title"},t.currLang.buttons.signOut),c.a.createElement(d.a,null,c.a.createElement(l.a,{id:"alert-dialog-description"},t.currLang.texts.LogOutQuestion)),c.a.createElement(g.a,null,c.a.createElement(y.a,{color:"secondary",onClick:re},t.currLang.texts.cancel),c.a.createElement(y.a,{color:"primary",onClick:function(){Object(w.a)(!1),localStorage.removeItem("jwtToken"),Object(j.v)({type:C.t,payload:null}),r.push("/")},autoFocus:!0},t.currLang.buttons.signOut))),c.a.createElement("div",{className:G.root},c.a.createElement(k.a,{container:!0,className:"".concat(G.height12),direction:"column",justify:"center",alignItems:"stretch"},c.a.createElement(k.a,{item:!0,className:"".concat(G.mainGridBodyItem," ").concat(G.height4)},c.a.createElement(k.a,{container:!0,className:G.mainGridContainer,direction:"row",justify:"space-around",alignItems:"stretch"},c.a.createElement(k.a,{item:!0,xs:4},c.a.createElement(h.a,{className:G.AstronautButton,focusRipple:!0,onClick:function(){Object(B.a)()?r.push("/profile"):r.push("/")}},c.a.createElement("div",{className:G.AstronautDiv},c.a.createElement("div",{className:G.AstronautImg,style:"light"===a.palette.type?{filter:"invert(0)"}:{filter:"invert(1)"}})))),c.a.createElement(k.a,{item:!0,xs:4},c.a.createElement(h.a,{className:G.image,focusRipple:!0,onClick:function(){var e="light"===a.palette.type?"dark":"light",t="light"===a.palette.type?"#f9a825":"#3f51b5",n=(a.palette.type,"#f50057");o({type:C.w,palette:{type:e,primary:{main:t},secondary:{main:n}}})}},c.a.createElement("div",{className:G.SkyDiv},c.a.createElement("div",{className:G.SunSrc,style:"dark"===a.palette.type?{transform:"translateY(36vw)"}:{transform:"translateY(0)"}}),c.a.createElement("div",{className:G.MoonSrc,style:"dark"===a.palette.type?{transform:"translateY(0)"}:{transform:"translateY(-36vw)"}})))),c.a.createElement(k.a,{item:!0,xs:4},c.a.createElement(h.a,{className:G.MapButton,focusRipple:!0,onClick:function(){Object(B.a)()?r.push("/dreammap"):r.push("/")}},c.a.createElement("div",{className:G.MapDiv},c.a.createElement("div",{className:G.MapImg,style:"light"===a.palette.type?{filter:"invert(0)"}:{filter:"invert(1)"}})))))),c.a.createElement(k.a,{item:!0,className:"".concat(G.mainGridBodyItem," ").concat(G.height1)},c.a.createElement(k.a,{container:!0,className:"".concat(G.menuButtonContainer),direction:"column",justify:"center",alignItems:"stretch"},c.a.createElement(k.a,{item:!0,className:"".concat(G.mainGridBodyItem," ").concat(G.height12)},I?c.a.createElement("div",{className:"".concat(G.formControl," ").concat(G.centerTextAlign)},c.a.createElement("div",{className:"".concat(G.inlineBlock," ").concat(G.relativePosition)},c.a.createElement(u.a,null))):c.a.createElement(f.a,{className:G.mainGridContainer,align:"center",variant:"h6"},t.currLang.texts.hello," ",N.nickname)))),c.a.createElement(k.a,{item:!0,className:"".concat(G.mainGridBodyItem," ").concat(G.height6)},c.a.createElement(k.a,{container:!0,className:"".concat(G.menuButtonContainer," ").concat(G.height12),direction:"column",justify:"center",alignItems:"stretch"},c.a.createElement(k.a,{item:!0,className:"".concat(G.menuDivButton," ").concat(G.height2),align:"center"},c.a.createElement(y.a,{variant:"contained",color:"primary",className:"".concat(G.menuButton," ").concat(G.centerButton),onClick:function(){Object(B.a)()?r.push("/dreams"):r.push("/")}},t.currLang.buttons.dreamJoirnal)),c.a.createElement(k.a,{item:!0,className:"".concat(G.menuDivButton," ").concat(G.height2),align:"center"},c.a.createElement(y.a,{variant:"contained",color:"primary",className:"".concat(G.menuButton," ").concat(G.centerButton),onClick:function(){Object(B.a)()?r.push("/addregulardream"):r.push("/")}},t.currLang.buttons.addDream)),c.a.createElement(k.a,{item:!0,className:"".concat(G.menuDivButton," ").concat(G.height2),align:"center"},c.a.createElement(y.a,{variant:"contained",color:"primary",className:"".concat(G.menuButton," ").concat(G.centerButton),onClick:function(){Object(B.a)()?r.push("/addcdream"):r.push("/")}},t.currLang.buttons.addCDream)),c.a.createElement(k.a,{item:!0,className:"".concat(G.menuDivButton," ").concat(G.height2),align:"center"},c.a.createElement(y.a,{variant:"contained",color:"primary",className:"".concat(G.menuButton," ").concat(G.centerButton),onClick:function(){Object(B.a)()?r.push("/technics"):r.push("/")}},t.currLang.buttons.techniques)),c.a.createElement(k.a,{item:!0,className:"".concat(G.menuDivButton," ").concat(G.height2),align:"center"},c.a.createElement(y.a,{variant:"contained",color:"primary",className:"".concat(G.menuButton," ").concat(G.centerButton)},t.currLang.buttons.adventures)),c.a.createElement(k.a,{item:!0,className:"".concat(G.menuDivButton," ").concat(G.height2),align:"center"},c.a.createElement(y.a,{variant:"contained",color:"primary",className:"".concat(G.menuButton," ").concat(G.centerButton),onClick:function(){ce(!0)}},t.currLang.buttons.signOut)))),c.a.createElement(k.a,{item:!0,className:"".concat(G.mainGridBodyItem," ").concat(G.height1)},c.a.createElement(k.a,{container:!0,className:"".concat(G.menuButtonContainer),direction:"row",justify:"center",alignItems:"center",spacing:1},c.a.createElement(k.a,{item:!0},c.a.createElement(y.a,{onClick:function(){ie("Ru")},size:"small"},"RU")),c.a.createElement(k.a,{item:!0},c.a.createElement(y.a,{onClick:function(){ie("En")},size:"small"},"EN")))))))}Y.propTypes={setCurrLangAction:s.a.func.isRequired,setTheme:s.a.func.isRequired,setSnackbar:s.a.func.isRequired,setUserState:s.a.func.isRequired,lang:s.a.object.isRequired,themeMode:s.a.object.isRequired,auth:s.a.object.isRequired,userDataError:s.a.object.isRequired,userData:s.a.object.isRequired,userDataPending:s.a.object.isRequired};t.default=Object(r.b)((function(e){return{lang:e.lang,themeMode:e.themeMode,auth:e.auth,userDataError:Object(O.b)(e),userData:Object(O.a)(e),userDataPending:Object(O.c)(e)}}),(function(e){return Object(i.bindActionCreators)({setCurrLangAction:function(t){return e(Object(j.s)(t))},setTheme:function(t){return e(Object(j.u)(t))},setSnackbar:function(t){return e(Object(j.t)(t))},setUserState:function(t){return e(Object(j.v)(t))},fetchUserData:L.d},e)}))(Y)}}]);
//# sourceMappingURL=11.index-bundle.js.map