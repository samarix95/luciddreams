(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{866:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),i=a(3),l=a.n(i),o=a(370),s=a(254),m=a(462),u=a(461),d=a(460),h=a(245),E=a(252),g=a(133),f=a(253),p=a(247),b=a(457),v=a(250),y=a(413),w=a(128),N=a(246),j=a(89),C=a(244),P=a(12),x=a(70),O=a(102),k=a.n(O),S=a(318),I=a.n(S),D=a(317),R=a.n(D);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){A(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var L=[{id:1,value:"1"},{id:2,value:"2"},{id:3,value:"3"},{id:4,value:"4"},{id:5,value:"5"}];function M(e){var t=e.lang,a=e.themeMode,n=e.history,c=e.user_id,i=e.user_nickname,l=e.user_role,O=Object(P.d)(),S=Object(j.a)(a),D=G(r.a.useState(!1),2),B=D[0],A=D[1],M=r.a.useRef(null),T=G(r.a.useState(!0),2),q=T[0],F=T[1],z=G(r.a.useState(!1),2),J=z[0],W=z[1],X=G(r.a.useState({about:null,fb:null,ig:null}),2),Y=X[0],U=X[1],H=G(r.a.useState(!0),2),K=H[0],Q=H[1],V=G(r.a.useState(!1),2),Z=V[0],$=V[1],ee=G(r.a.useState(""),2),te=ee[0],ae=ee[1],ne=G(r.a.useState(null),2),re=ne[0],ce=ne[1],ie=function(){A(!1)};return r.a.useEffect((function(){if(void 0!==e.location.defaultData&&(F(!1),W(!0)),x.a.post("/actions/users/getuserdata",{id:c}).then((function(e){var t=Y;e.data.result.about?(t=_({},t,{about:e.data.result.about}),ae(e.data.result.about)):(t=_({},t,{about:""}),ae("")),t=_({},t,{fb:e.data.result.fb}),t=_({},t,{ig:e.data.result.ig}),U(t),Q(!1)})),B){var t=M.current;null!==t&&t.focus()}}),[B]),r.a.createElement(C.a,{theme:S},r.a.createElement(h.a,null),r.a.createElement(b.a,{open:B,scroll:"paper",fullWidth:!0,maxWidth:"md","aria-labelledby":"avatar-dialog-title","aria-describedby":"avatar-dialog-description"},r.a.createElement(d.a,{id:"scroll-dialog-title"},"Change avatars"),r.a.createElement(u.a,{dividers:!0},r.a.createElement(o.a,{id:"scroll-dialog-description",ref:M,tabIndex:-1}),r.a.createElement(N.a,{className:"".concat(O.height12),container:!0,spacing:2},L.map((function(e,t){return r.a.createElement(N.a,{item:!0,xs:4,sm:3,key:t},r.a.createElement("div",{style:{width:"100%",height:0,paddingBottom:"100%",position:"relative"}},r.a.createElement(g.a,{onClick:function(){return t=e.id,void ce(t);var t},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%"}},r.a.createElement(y.a,{src:"/images/example.jpg",style:{position:"absolute",width:"100%",height:"100%"}})),re===e.id?r.a.createElement(k.a,{style:{position:"absolute",top:0,right:0}}):r.a.createElement(r.a.Fragment,null)))})))),r.a.createElement(m.a,null,r.a.createElement(v.a,{onClick:ie,color:"secondary"},"Cancel"),r.a.createElement(v.a,{onClick:ie,color:"primary"},"Change"))),r.a.createElement("div",{className:O.root},r.a.createElement(N.a,{className:"".concat(O.height12),container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(N.a,{item:!0,className:"".concat(O.mainGridBodyItem," ").concat(O.height11)},r.a.createElement(N.a,{container:!0,className:"".concat(O.height5," ").concat(O.relativePosition)},r.a.createElement(N.a,{item:!0,xs:12,sm:6,className:"".concat(O.height6," ").concat(O.relativePosition)},r.a.createElement(f.a,{disabled:!q,className:"".concat(O.formControl),onClick:function(){A(!0)}},r.a.createElement(y.a,{src:"/images/example.jpg",style:{width:"120px",height:"120px"}}))),r.a.createElement(N.a,{item:!0,xs:12,sm:6,className:"".concat(O.height6," ").concat(O.relativePosition)},r.a.createElement("div",{className:"".concat(O.formControl)},r.a.createElement(E.a,{variant:"h5",align:"center",color:"textPrimary"},i),r.a.createElement(E.a,{variant:"body2",align:"center",color:"textPrimary"},l),r.a.createElement(E.a,{variant:"body2",align:"center",color:"textPrimary"},"SUMMARY DAYS")))),r.a.createElement(N.a,{className:"".concat(O.height3," ").concat(O.relativePosition),container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement(N.a,{className:"".concat(O.height12),container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(N.a,{className:"".concat(O.height3),container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement(E.a,null,"Regular:")),r.a.createElement(N.a,{item:!0,xs:3},r.a.createElement(E.a,null,"0"))),r.a.createElement(N.a,{className:"".concat(O.height3),container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement(E.a,null,"C-dreams:")),r.a.createElement(N.a,{item:!0,xs:3},r.a.createElement(E.a,null,"0"))),r.a.createElement(N.a,{className:"".concat(O.height3),container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement(E.a,null,"Total:")),r.a.createElement(N.a,{item:!0,xs:3},r.a.createElement(E.a,null,"0"))))),r.a.createElement(N.a,{item:!0,xs:3,className:"".concat(O.relativePosition)},r.a.createElement("div",{className:"".concat(O.formControl)},r.a.createElement(v.a,{variant:"contained",color:"secondary"},"РљРЅРѕРїРєР°")))),r.a.createElement(N.a,{container:!0,className:"".concat(O.height2," ").concat(O.relativePosition)},r.a.createElement(w.a,{className:"".concat(O.mainGridDreamsContainer," ").concat(O.mainGridDreamsBodyItemContainerPaper)},K?r.a.createElement("div",{className:"".concat(O.formControl," ").concat(O.centerTextAlign)},r.a.createElement("div",{className:"".concat(O.inlineBlock," ").concat(O.relativePosition)},r.a.createElement(s.a,null)),r.a.createElement(E.a,{className:"".concat(O.relativePosition),component:"div"},t.currLang.texts.Loading)):Z?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflowX:"hidden"}},r.a.createElement(p.a,{style:{position:"absolute",top:0,left:"50%",width:"90%",transform:"translate(-50%)",marginTop:10,marginBottom:10},value:te,onChange:function(e){ae(e.target.value)},multiline:!0})),J?r.a.createElement(r.a.Fragment,null):r.a.createElement(f.a,{size:"small",className:"".concat(O.topLeftCorner),onClick:function(){if(Y.about!==te){Q(!0);var e={id:c,nickname:i,about:te};x.a.post("/actions/users/updateuserdata",e).then((function(e){var t=Y;t=_({},t,{about:te}),U(t),Q(!1)})).catch((function(e){alert("Cant update profile"),Q(!1)}))}$(!1)}},r.a.createElement(R.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflowX:"hidden"}},r.a.createElement(E.a,{component:"div",style:{position:"absolute",top:0,left:"50%",width:"90%",transform:"translate(-50%)",marginTop:10,marginBottom:10}},Y.about)),J?r.a.createElement(r.a.Fragment,null):r.a.createElement(f.a,{size:"small",className:"".concat(O.topLeftCorner),onClick:function(){$(!0)}},r.a.createElement(I.a,null))))),r.a.createElement(N.a,{container:!0,className:"".concat(O.height1," ").concat(O.relativePosition)}),r.a.createElement(N.a,{container:!0,className:"".concat(O.height1," ").concat(O.relativePosition)},r.a.createElement(w.a,{className:"".concat(O.mainGridDreamsContainer," ").concat(O.mainGridDreamsBodyItemContainerPaper)},r.a.createElement("div",{className:O.avatarRoot}),r.a.createElement(f.a,{size:"small",className:"".concat(O.topLeftCorner)},r.a.createElement(I.a,null))))),r.a.createElement(N.a,{item:!0,className:"".concat(O.mainGridBodyItem," ").concat(O.height1)},r.a.createElement(N.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(N.a,{item:!0},r.a.createElement(v.a,{className:O.actionButton,variant:"contained",color:"secondary",onClick:function(){n.push("/luciddreams")}},t.currLang.buttons.close)))))))}M.propTypes={themeMode:l.a.object.isRequired,lang:l.a.object.isRequired,user_id:l.a.number.isRequired,user_nickname:l.a.number.isRequired,user_role:l.a.number.isRequired};t.default=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,user_id:e.auth.user.id,user_nickname:e.auth.user.nickname,user_role:e.auth.user.roles}}),(function(e){return{}}))(M)}}]);
//# sourceMappingURL=15.index-bundle.js.map