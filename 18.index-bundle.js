(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{887:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(23),o=t(24),i=t(3),l=t.n(i),s=t(269),u=t(394),m=t(393),d=t(392),g=t(260),p=t(267),f=t(145),b=t(268),h=t(142),E=t(389),v=t(265),P=t(440),y=t(140),j=t(261),N=t(96),O=t(259),x=t(13),k=t(45),w=t(42),C=t(90),D=t(94),L=t(74),R=t(110),S=t.n(R),_=t(337),q=t.n(_),I=t(336),F=t.n(I);function A(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function H(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?A(Object(t),!0).forEach((function(a){U(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function U(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function W(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.a.lazy((function(){return t.e(10).then(t.bind(null,439))}));var B=!0,M=!0,T={regular:0,cdream:0,is_public:0},G={nickname:null,about:null,role:null,fb:null,ig:null},z=[{id:1,url:"https://api.adorable.io/avatars/227/1.png"},{id:2,url:"https://api.adorable.io/avatars/227/2.png"},{id:3,url:"https://api.adorable.io/avatars/227/3.png"},{id:4,url:"https://api.adorable.io/avatars/227/4.png"},{id:5,url:"https://api.adorable.io/avatars/227/5.png"},{id:6,url:"https://api.adorable.io/avatars/227/6.png"},{id:7,url:"https://api.adorable.io/avatars/227/7.png"},{id:8,url:"https://api.adorable.io/avatars/227/8.png"},{id:9,url:"https://api.adorable.io/avatars/227/9.png"},{id:10,url:"https://api.adorable.io/avatars/227/10.png"},{id:11,url:"https://api.adorable.io/avatars/227/11.png"},{id:12,url:"https://api.adorable.io/avatars/227/12.png"},{id:13,url:"https://api.adorable.io/avatars/227/13.png"},{id:14,url:"https://api.adorable.io/avatars/227/14.png"},{id:15,url:"https://api.adorable.io/avatars/227/15.png"},{id:16,url:"https://api.adorable.io/avatars/227/16.png"}];function J(e){var a=e.lang,t=e.themeMode,n=e.history,c=e.user_id,o=e.userData,i=e.userDataError,l=e.userDataPending,w=e.fetchUserData,C=e.userPosts,D=e.userPostsError,R=e.userPostsPending,_=e.fetchUserPosts,I=e.connectPosts,A=e.connectPostsError,U=e.connectPostsPending,J=e.fetchConnectPosts;i&&(console.log("Profile"),console.log(i),alert("Error")),D&&(console.log("Profile"),console.log(D),alert("Error")),A&&(console.log("Profile"),console.log(A),alert("Error"));var X=Object(x.d)(),K=Object(N.a)(t),Q=W(r.a.useState(),2),V=Q[0],Y=Q[1],Z=W(r.a.useState(!1),2),$=Z[0],ee=Z[1],ae=W(r.a.useState(!1),2),te=(ae[0],ae[1],r.a.useRef(null)),ne=W(r.a.useState(!1),2),re=ne[0],ce=ne[1],oe=W(r.a.useState(G),2),ie=oe[0],le=oe[1],se=W(r.a.useState(T),2),ue=se[0],me=se[1],de=W(r.a.useState(!0),2),ge=de[0],pe=de[1],fe=W(r.a.useState(!1),2),be=fe[0],he=fe[1],Ee=W(r.a.useState(""),2),ve=Ee[0],Pe=Ee[1],ye=W(r.a.useState(null),2),je=ye[0],Ne=ye[1];if(!l&&null==i&&!B){B=!0;var Oe=ie;Oe=H({},Oe,{nickname:o.nickname}),Oe=H({},Oe,{role:o.roles}),Oe=H({},Oe,{about:o.about}),Oe=H({},Oe,{fb:o.fb}),Oe=H({},Oe,{ig:o.ig}),le(Oe),Pe(o.about),pe(!1)}if(!R&&null==D&&!M&&!re){M=!0;var xe=ue;xe=H({},xe,{regular:Object.keys(C.filter((function(e){return 0===e.post_type&&e}))).length}),xe=H({},xe,{cdream:Object.keys(C.filter((function(e){return 1===e.post_type&&e}))).length}),xe=H({},xe,{is_public:Object.keys(C.filter((function(e){return 1===e.is_public&&e}))).length}),me(xe)}if(!U&&null==A&&!M&&re){M=!0;var ke=ue;ke=H({},ke,{is_public:Object.keys(I.filter((function(e){return 1===e.is_public&&e}))).length}),me(ke)}var we=r.a.useCallback((function(e){B=!1,M=!1,me(H({},T)),le(H({},G));var a=Object(L.b)();w(e,a),c===e?_(e,a):J(e,a)}),[V]);return r.a.useEffect((function(){if(void 0!==e.location.defaultData?(we(e.location.defaultData.friend_id),Y(e.location.defaultData.friend_id),ce(!0)):(we(c),Y(c)),$){var a=te.current;null!==a&&a.focus()}}),[$]),r.a.createElement(O.a,{theme:K},r.a.createElement(g.a,null),r.a.createElement(E.a,{open:$,scroll:"paper",fullWidth:!0,maxWidth:"md","aria-labelledby":"avatar-dialog-title","aria-describedby":"avatar-dialog-description"},r.a.createElement(d.a,{id:"avatar-dialog-title"},a.currLang.texts.Avatar),r.a.createElement(m.a,{dividers:!0},r.a.createElement(j.a,{container:!0,className:"".concat(X.height12),id:"avatar-dialog-description",spacing:2},z.map((function(e,a){return r.a.createElement(j.a,{item:!0,xs:4,sm:3,key:a},r.a.createElement("div",{className:"".concat(X.relativePosition," ").concat(X.fullWidth," ").concat(X.equalHeight)},r.a.createElement(f.a,{onClick:function(){return a=e.id,void Ne(a);var a},className:"".concat(X.absolutePosition," ").concat(X.fullWidth," ").concat(X.fullHeight," ").concat(X.topLeft," ").concat(X.borderRadius50)},r.a.createElement(P.a,{src:e.url,className:"".concat(X.absolutePosition," ").concat(X.fullWidth," ").concat(X.fullHeight)})),je===e.id?r.a.createElement(S.a,{className:"".concat(X.absolutePosition," ").concat(X.topRight)}):r.a.createElement(r.a.Fragment,null)))})))),r.a.createElement(u.a,null,r.a.createElement(v.a,{onClick:function(){ee(!1)},color:"secondary"},a.currLang.buttons.cancel),r.a.createElement(v.a,{onClick:function(){ee(!1)},color:"primary"},a.currLang.buttons.Save))),r.a.createElement("div",{className:X.root},r.a.createElement(j.a,{className:"".concat(X.height12),container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(j.a,{item:!0,className:"".concat(X.mainGridBodyItem," ").concat(X.height11)},r.a.createElement(j.a,{className:"".concat(X.height5," ").concat(X.relativePosition),container:!0},r.a.createElement(j.a,{item:!0,xs:12,sm:6,className:"".concat(X.relativePosition)},r.a.createElement(b.a,{disabled:!!re,className:"".concat(X.formControl),onClick:function(){ee(!0)}},r.a.createElement(P.a,{src:"/images/example.jpg",style:{width:"120px",height:"120px"}}))),r.a.createElement(j.a,{item:!0,xs:12,sm:6,className:"".concat(X.relativePosition)},r.a.createElement("div",{className:"".concat(X.formControl)},r.a.createElement(p.a,{variant:"h5",align:"center",color:"textPrimary"},ie.nickname),r.a.createElement(p.a,{variant:"body2",align:"center",color:"textPrimary"},0===ie.role?a.currLang.texts.Admin:1===ie.role?a.currLang.texts.Moderator:a.currLang.texts.User)))),r.a.createElement(j.a,{className:"".concat(X.height3," ").concat(X.relativePosition),container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(j.a,{item:!0,xs:7},r.a.createElement(j.a,{className:"".concat(X.height3)},r.a.createElement(p.a,{align:"center"},a.currLang.texts.InfoDreams,":")),r.a.createElement(j.a,{className:"".concat(X.height9),container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(j.a,{className:"".concat(X.height4),container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(j.a,{item:!0,xs:6},r.a.createElement(p.a,null,a.currLang.texts.Public,":")),r.a.createElement(j.a,{item:!0,xs:1}),r.a.createElement(j.a,{item:!0,xs:2},r.a.createElement(p.a,{align:"center"},ue.is_public))),re?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"".concat(X.height4),container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(j.a,{item:!0,xs:6},r.a.createElement(p.a,null,a.currLang.texts.Regular,":")),r.a.createElement(j.a,{item:!0,xs:1}),r.a.createElement(j.a,{item:!0,xs:2},r.a.createElement(p.a,{align:"center"},ue.regular))),r.a.createElement(j.a,{className:"".concat(X.height4),container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(j.a,{item:!0,xs:6},r.a.createElement(p.a,null,a.currLang.texts.Cdream,":")),r.a.createElement(j.a,{item:!0,xs:1}),r.a.createElement(j.a,{item:!0,xs:2},r.a.createElement(p.a,{align:"center"},ue.cdream)))))),r.a.createElement(j.a,{item:!0,xs:5,className:"".concat(X.relativePosition)},r.a.createElement(j.a,{className:"".concat(X.height12),container:!0,direction:"column",justify:"center",alignItems:"stretch"},re?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"".concat(X.height6)},r.a.createElement("div",{className:"".concat(X.relativePosition," ").concat(X.fullHeight)},r.a.createElement(v.a,{className:"".concat(X.formControl," ").concat(X.width10),variant:"contained",color:"primary",onClick:function(){n.push({pathname:"/dreams",defaultData:{mode:"fromFriend",friend_id:V,prevUrl:"/profile"}})}},a.currLang.buttons.dreamJoirnal))),r.a.createElement(j.a,{className:"".concat(X.height6)},r.a.createElement("div",{className:"".concat(X.relativePosition," ").concat(X.fullHeight)},r.a.createElement(v.a,{className:"".concat(X.formControl," ").concat(X.width10),variant:"contained",color:"primary",onClick:function(){n.push({pathname:"/dreammap",defaultData:{mode:"fromFriend",nickName:ie.nickname,friend_id:V,prevUrl:"/profile"}})}},a.currLang.texts.DreamsMap)))):r.a.createElement(r.a.Fragment,null)))),r.a.createElement(j.a,{className:"".concat(X.height2," ").concat(X.relativePosition)},r.a.createElement(y.a,{className:"".concat(X.mainGridDreamsContainer," ").concat(X.mainGridDreamsBodyItemContainerPaper)},ge?r.a.createElement("div",{className:"".concat(X.formControl," ").concat(X.centerTextAlign)},r.a.createElement("div",{className:"".concat(X.inlineBlock," ").concat(X.relativePosition)},r.a.createElement(s.a,null)),r.a.createElement(p.a,{className:"".concat(X.relativePosition),component:"div"},a.currLang.texts.Loading)):be?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(X.absolutePosition," ").concat(X.hiddenOverflowX," ").concat(X.fullWidth," ").concat(X.fullHeight," ").concat(X.topLeft)},r.a.createElement(h.a,{className:"".concat(X.absolutePosition," ").concat(X.centerText),value:ve,onChange:function(e){Pe(e.target.value)},multiline:!0})),re?r.a.createElement(r.a.Fragment,null):r.a.createElement(b.a,{size:"small",className:"".concat(X.topLeftCorner),onClick:function(){if(ie.about!==ve){pe(!0);var e={id:V,nickname:ie.nickname,about:ve};k.h.post("/actions/users/updateuserdata",e).then((function(e){var a=ie;a=H({},a,{about:ve}),le(a),pe(!1)})).catch((function(e){alert("Cant update profile"),pe(!1)}))}he(!1)}},r.a.createElement(P.a,null,r.a.createElement(F.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(X.absolutePosition," ").concat(X.hiddenOverflowX," ").concat(X.fullWidth," ").concat(X.fullHeight," ").concat(X.topLeft)},r.a.createElement(p.a,{className:"".concat(X.absolutePosition," ").concat(X.centerText),component:"div"},ie.about)),re?r.a.createElement(r.a.Fragment,null):r.a.createElement(b.a,{size:"small",className:"".concat(X.topLeftCorner),onClick:function(){he(!0)}},r.a.createElement(P.a,null,r.a.createElement(q.a,null)))))),r.a.createElement(j.a,{className:"".concat(X.height2," ").concat(X.relativePosition)})),r.a.createElement(j.a,{item:!0,className:"".concat(X.mainGridBodyItem," ").concat(X.height1)},r.a.createElement(j.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(j.a,{item:!0},r.a.createElement(v.a,{className:X.actionButton,variant:"contained",color:"secondary",onClick:function(){n.push("/aeronauts")}},a.currLang.buttons.Back)))))))}J.propTypes={themeMode:l.a.object.isRequired,lang:l.a.object.isRequired,user_id:l.a.number.isRequired,userDataError:l.a.object.isRequired,userData:l.a.object.isRequired,userDataPending:l.a.object.isRequired,userPostsError:l.a.object.isRequired,userPosts:l.a.object.isRequired,userPostsPending:l.a.object.isRequired,connectPostsError:l.a.object.isRequired,connectPosts:l.a.object.isRequired,connectPostsPending:l.a.object.isRequired};a.default=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,user_id:e.auth.user.id,userDataError:Object(w.b)(e),userData:Object(w.a)(e),userDataPending:Object(w.c)(e),userPostsError:Object(C.b)(e),userPosts:Object(C.a)(e),userPostsPending:Object(C.c)(e),connectPostsError:Object(D.c)(e),connectPosts:Object(D.b)(e),connectPostsPending:Object(D.d)(e)}}),(function(e){return Object(o.bindActionCreators)({fetchUserData:k.e,fetchUserPosts:k.g,fetchConnectPosts:k.a},e)}))(J)}}]);
//# sourceMappingURL=18.index-bundle.js.map