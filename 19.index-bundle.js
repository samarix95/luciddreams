(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{898:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(23),o=t(24),s=t(4),i=t.n(s),l=t(97),m=t.n(l),u=t(743),h=t(263),d=t(268),g=t(872),p=t.n(g),b=t(871),v=t.n(b),f=t(2),E=t(7),j=t(56),y=t(40),N=t(105),A=t(96),k=t(74),P=t(270),O=t(146),S=t(144),U=t(264),w=t(99),L=t(262),C=t(13),x=t(868),R=t.n(x),M=t(869),_=t.n(M);function q(e){var a=e.lang,t=e.themeMode,n=e.setUserLogin,c=e.setUserPass,o=e.setUserPassRepeat,s=Object(C.d)(),i=Object(w.a)(t),l=function(e){e.preventDefault()};return r.a.createElement(L.a,{theme:i},r.a.createElement(h.a,null),r.a.createElement(U.a,{item:!0,className:"".concat(s.mainGridBodyItem," ").concat(s.height12)},r.a.createElement(U.a,{className:"".concat(s.height1," ").concat(s.relativePosition)}),r.a.createElement(U.a,{className:"".concat(s.height1," ").concat(s.relativePosition)},r.a.createElement(P.a,{variant:"h5",component:"div",className:"".concat(s.centerButton)},a.currLang.buttons.signUp)),r.a.createElement(U.a,{className:"".concat(s.height1," ").concat(s.relativePosition)}),r.a.createElement(S.a,{className:"".concat(s.height1," ").concat(s.width10," ").concat(s.SearchPaper," ").concat(s.relativePosition," ").concat(s.horizontalCenter),component:"form",onSubmit:l},r.a.createElement(R.a,{className:"".concat(s.margin)}),r.a.createElement(O.a,{placeholder:"Email",type:"email",onChange:function(e){n(e.target.value)}})),r.a.createElement(U.a,{className:"".concat(s.height2," ").concat(s.relativePosition)}),r.a.createElement(S.a,{className:"".concat(s.height1," ").concat(s.width10," ").concat(s.SearchPaper," ").concat(s.relativePosition," ").concat(s.horizontalCenter),component:"form",onSubmit:l},r.a.createElement(_.a,{className:"".concat(s.margin)}),r.a.createElement(O.a,{placeholder:a.currLang.texts.password,type:"password",onChange:function(e){c(e.target.value)}})),r.a.createElement(U.a,{className:"".concat(s.height1," ").concat(s.relativePosition)}),r.a.createElement(S.a,{className:"".concat(s.height1," ").concat(s.width10," ").concat(s.SearchPaper," ").concat(s.relativePosition," ").concat(s.horizontalCenter),component:"form",onSubmit:l},r.a.createElement(_.a,{className:"".concat(s.margin)}),r.a.createElement(O.a,{placeholder:a.currLang.texts.passwordAgain,type:"password",onChange:function(e){o(e.target.value)}})),r.a.createElement(U.a,{className:"".concat(s.height3," ").concat(s.relativePosition)})))}q.propTypes={themeMode:i.a.object.isRequired,lang:i.a.object.isRequired};var B=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang}}),(function(e){return Object(o.bindActionCreators)({},e)}))(q),I=t(870),D=t.n(I);function K(e){var a=e.lang,t=e.themeMode,n=e.setUserNickName,c=Object(C.d)(),o=Object(w.a)(t);return r.a.createElement(L.a,{theme:o},r.a.createElement(h.a,null),r.a.createElement(U.a,{item:!0,className:"".concat(c.mainGridBodyItem," ").concat(c.height12)},r.a.createElement(U.a,{className:"".concat(c.height1," ").concat(c.relativePosition)}),r.a.createElement(U.a,{className:"".concat(c.height1," ").concat(c.relativePosition)},r.a.createElement(P.a,{variant:"h5",component:"div",className:"".concat(c.centerButton)},a.currLang.texts.ChangeNickname)),r.a.createElement(U.a,{className:"".concat(c.height3," ").concat(c.relativePosition)}),r.a.createElement(S.a,{className:"".concat(c.height1," ").concat(c.width10," ").concat(c.SearchPaper," ").concat(c.relativePosition," ").concat(c.horizontalCenter),component:"form",onSubmit:function(e){e.preventDefault()}},r.a.createElement(D.a,{className:"".concat(c.margin)}),r.a.createElement(O.a,{placeholder:a.currLang.texts.nickname,type:"text",onChange:function(e){n(e.target.value)}})),r.a.createElement(U.a,{className:"".concat(c.height6," ").concat(c.relativePosition)})))}K.propTypes={themeMode:i.a.object.isRequired,lang:i.a.object.isRequired};var T=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang}}),(function(e){return Object(o.bindActionCreators)({},e)}))(K),W=t(272),H=t(352),z=t(351),G=t(149),F=t(271),J=t(348),Z=t(337),Q=t(94);function V(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function X(e){var a=e.lang,t=e.themeMode,n=e.setUserAvatar,c=e.avatars,o=e.avatarsPending,s=e.avatarsError,i=e.fetchAvatars,l=e.setSnackbar,m=Object(C.d)(),u=Object(w.a)(t),d=V(r.a.useState(!1),2),g=d[0],p=d[1],b=V(r.a.useState(""),2),v=b[0],E=b[1];s&&l({type:f.K,snackbar:{open:!0,variant:"error",message:a.currLang.errors.AvatarsLoadError}});return r.a.useEffect((function(){i()}),[]),r.a.createElement(L.a,{theme:u},r.a.createElement(h.a,null),r.a.createElement(J.a,{open:g,onClose:function(){p(!1)},scroll:"paper",fullWidth:!0,maxWidth:"md","aria-labelledby":"avatar-dialog-title","aria-describedby":"avatar-dialog-description"},r.a.createElement(z.a,{id:"avatar-dialog-title"},a.currLang.texts.ChangeAvatar),r.a.createElement(H.a,{dividers:!0},r.a.createElement(U.a,{container:!0,className:"".concat(m.height12," ").concat(m.relativePosition," ").concat(m.minHeight100px),id:"avatar-dialog-description",spacing:2},o?r.a.createElement("div",{className:"".concat(m.formControl," ").concat(m.centerTextAlign)},r.a.createElement("div",{className:"".concat(m.inlineBlock," ").concat(m.relativePosition)},r.a.createElement(W.a,null)),r.a.createElement(P.a,{className:"".concat(m.relativePosition),component:"div"},a.currLang.texts.Loading)):c.map((function(e,a){return r.a.createElement(U.a,{item:!0,xs:4,sm:3,key:a},r.a.createElement("div",{className:"".concat(m.relativePosition," ").concat(m.fullWidth," ").concat(m.equalHeight)},r.a.createElement(G.a,{onClick:function(){return a=e.id,t=e.url,E(t),n(a),void p(!1);var a,t},className:"".concat(m.absolutePosition," ").concat(m.fullWidth," ").concat(m.fullHeight," ").concat(m.topLeft," ").concat(m.borderRadius50)},r.a.createElement(Z.a,{src:e.url,className:"".concat(m.absolutePosition," ").concat(m.fullWidth," ").concat(m.fullHeight)}))))}))))),r.a.createElement(U.a,{item:!0,className:"".concat(m.mainGridBodyItem," ").concat(m.height12)},r.a.createElement(U.a,{className:"".concat(m.height1," ").concat(m.relativePosition)}),r.a.createElement(U.a,{className:"".concat(m.height1," ").concat(m.relativePosition)},r.a.createElement(P.a,{variant:"h6",component:"div",className:"".concat(m.centerButton)},a.currLang.texts.ChangeAvatar)),r.a.createElement(U.a,{className:"".concat(m.height1," ").concat(m.relativePosition)},r.a.createElement(P.a,{variant:"body",component:"div",className:"".concat(m.centerButton)},"(",a.currLang.texts.orSkipStep,")")),r.a.createElement(U.a,{className:"".concat(m.height1," ").concat(m.relativePosition)}),r.a.createElement(U.a,{className:"".concat(m.height3," ").concat(m.relativePosition," ").concat(m.horizontalCenter," ").concat(m.inlineBlock)},r.a.createElement("img",{className:"".concat(m.fullHeight),src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}),r.a.createElement(F.a,{className:"".concat(m.absolutePosition," ").concat(m.fullHeight," ").concat(m.fullWidth," ").concat(m.absoluteZero),onClick:function(){p(!0)}},r.a.createElement(Z.a,{className:"".concat(m.absolutePosition," ").concat(m.fullHeight," ").concat(m.fullWidth," ").concat(m.absoluteZero),src:v}))),r.a.createElement(U.a,{className:"".concat(m.height5," ").concat(m.relativePosition)})))}X.propTypes={themeMode:i.a.object.isRequired,lang:i.a.object.isRequired,avatarsError:i.a.object.isRequired,avatars:i.a.object.isRequired,avatarsPending:i.a.object.isRequired,setSnackbar:i.a.func.isRequired};var Y=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,avatarsPending:Object(Q.d)(e),avatars:Object(Q.b)(e),avatarsError:Object(Q.c)(e)}}),(function(e){return Object(o.bindActionCreators)({fetchAvatars:y.a,setSnackbar:function(a){return e(Object(E.I)(a))}},e)}))(X);function $(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ee(e){var a=e.lang,t=e.themeMode,n=e.history,c=e.setSnackbar,o=e.setUserState,s=e.createdUser,i=e.createUserError,l=e.fetchCreateUser,g=e.resetCreateUserError,b=e.updateUserData,E=e.updateUserDataError,N=e.fetchUpdateUserData,A=e.resetUpdateUserDataError,P=Object(C.d)(),O=Object(w.a)(t),S=$(r.a.useState(!1),2),U=S[0],x=S[1],R=$(r.a.useState(0),2),M=R[0],_=R[1],q=$(r.a.useState(""),2),I=q[0],D=q[1],K=$(r.a.useState(""),2),W=K[0],H=K[1],z=$(r.a.useState(""),2),G=z[0],F=z[1],J=$(r.a.useState(""),2),Z=J[0],Q=J[1],V=$(r.a.useState(1),2),X=V[0],ee=V[1];if(i&&(i.email?c({type:f.K,snackbar:{open:!0,variant:"error",message:i.email}}):i.password?c({type:f.K,snackbar:{open:!0,variant:"error",message:i.password}}):c({type:f.K,snackbar:{open:!0,variant:"error",message:i}}),g(),U&&x(!1)),E&&(c({type:f.K,snackbar:{open:!0,variant:"error",message:E}}),A(),U&&x(!1)),Object.keys(s).length>0&&M===s.next_signup_step-1&&(U&&x(!1),_(s.next_signup_step),null===localStorage.getItem("jwtToken"))){localStorage.setItem("jwtToken",s.token),Object(j.a)(s.token);var ae=m()(s.token);o({type:f.I,payload:ae})}Object.keys(b).length>0&&M===b.next_signup_step-1&&(U&&x(!1),_(b.next_signup_step)),Object.keys(b).length>0&&M===y.l&&(c({type:f.K,snackbar:{open:!0,variant:"success",message:a.currLang.texts.sucessRegistration}}),n.push("/luciddreams"));var te=[r.a.createElement(B,{setUserLogin:D,setUserPass:H,setUserPassRepeat:F},null),r.a.createElement(T,{setUserNickName:Q},null),r.a.createElement(Y,{setUserAvatar:ee},null)];return r.a.useEffect((function(){void 0!==e.location.defaultData&&(_(e.location.defaultData.signup_step),s.newId=e.location.defaultData.id)}),[]),r.a.createElement(L.a,{theme:O},r.a.createElement(h.a,null),r.a.createElement("div",{className:P.root},r.a.createElement(u.a,{position:"bottom",variant:"dots",steps:y.l,activeStep:M,nextButton:r.a.createElement(d.a,{className:"".concat(P.minWidth100px),size:"small",onClick:M===te.length-1?function(){x(!0),N(s.newId,{avatar_id:X,curr_signup_step:M},Object(k.b)())}:function(){switch(M){case 0:if(0===I.length){c({type:f.K,snackbar:{open:!0,variant:"error",message:a.currLang.errors.emailLenght}});break}if(G!==W){c({type:f.K,snackbar:{open:!0,variant:"error",message:a.currLang.errors.passwordsCompare}});break}if(0===W.length||0===G.length){c({type:f.K,snackbar:{open:!0,variant:"error",message:a.currLang.errors.passwordLenght}});break}var e;switch(x(!0),a.currLang.current){case"En":e=0;break;case"Ru":e=1;break;default:e=0}l({email:I,password:W,password2:G,language:e,curr_signup_step:0});break;case 1:if(0===Z.length){c({type:f.K,snackbar:{open:!0,variant:"error",message:a.currLang.errors.nicknameLenght}});break}x(!0),N(s.newId,{nickname:Z,curr_signup_step:M},Object(k.b)())}},disabled:U},U?r.a.createElement(r.a.Fragment,null,M===te.length-1?r.a.createElement(v.a,null):r.a.createElement(p.a,null)):r.a.createElement(r.a.Fragment,null,M===te.length-1?a.currLang.buttons.Finish:a.currLang.buttons.Next,M===te.length-1?r.a.createElement(v.a,null):r.a.createElement(p.a,null))),backButton:r.a.createElement(d.a,{className:"".concat(P.minWidth100px),size:"small",disabled:!0})}),te[M]))}ee.propTypes={themeMode:i.a.object.isRequired,lang:i.a.object.isRequired,setSnackbar:i.a.func.isRequired,setUserState:i.a.func.isRequired};a.default=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,createdUser:Object(N.b)(e),createUserPending:Object(N.d)(e),createUserError:Object(N.c)(e),updateUserData:Object(A.a)(e),updateUserDataError:Object(A.b)(e)}}),(function(e){return Object(o.bindActionCreators)({setSnackbar:function(a){return e(Object(E.I)(a))},setUserState:function(a){return e(Object(E.K)(a))},fetchCreateUser:y.c,resetCreateUserError:y.m,fetchUpdateUserData:y.g,resetUpdateUserDataError:y.o},e)}))(ee)}}]);
//# sourceMappingURL=19.index-bundle.js.map