(this["webpackJsonpmobile-web-frontend-luciddreams"]=this["webpackJsonpmobile-web-frontend-luciddreams"]||[]).push([[20],{198:function(e,t,n){"use strict";n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return O})),n.d(t,"j",(function(){return k})),n.d(t,"f",(function(){return v})),n.d(t,"a",(function(){return y}));var o=n(27),a=n(67),r=n(55),c=n(14),i=n(46),s="https://ldserver.herokuapp.com",u=function(e){return function(t){return t(Object(o.P)()),fetch(s+"/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(n){var s=Object(a.c)(n.token);t(Object(o.O)(s)),t(Object(o.u)({variant:"success",message:i.a[e.language].texts.Wellcome})),r.a.push(c.a.MainPage)})).catch((function(n){t(Object(o.b)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},l=function(e){return function(t){return t(Object(o.P)()),fetch(s+"/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(n){var s=Object(a.c)(n.token);t(Object(o.O)(s)),t(Object(o.u)({variant:"success",message:i.a[e.language].texts.Wellcome})),r.a.push(c.a.MainPage)})).catch((function(n){t(Object(o.b)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},f=function(){return function(e){return e(Object(o.H)()),fetch(s+"/api/technic/published",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify()}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(t){e(Object(o.F)(t))})).catch((function(t){e(Object(o.G)()),t.json().then((function(t){e(Object(o.u)({variant:"error",message:t.error}))}))}))}},p=function(){return function(e){return e(Object(o.E)()),fetch(s+"/api/tag",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify()}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(t){e(Object(o.C)(t))})).catch((function(t){e(Object(o.D)()),t.json().then((function(t){e(Object(o.u)({variant:"error",message:t.error}))}))}))}},j=function(e){return function(t){return t(Object(o.H)()),fetch("".concat(s,"/api/technic/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",token:localStorage.token},body:JSON.stringify(e.data)}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(n){t(Object(o.u)({variant:"success",message:n.result})),t(f()),r.a.push({pathname:c.a.ReadTechnic,defaultData:{id:e.id}})})).catch((function(n){t(Object(o.G)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},m=function(e){return function(t){return t(Object(o.S)()),fetch("".concat(s,"/api/post/user/").concat(e.create_user),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify()}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(e){t(Object(o.Q)(e))})).catch((function(n){t(Object(o.R)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},h=function(e){return function(t){return t(Object(o.l)()),fetch("".concat(s,"/api/post"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify(e)}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(e){t(Object(o.j)(e)),r.a.push(c.a.Dreams)})).catch((function(n){t(Object(o.k)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},g=function(e){return function(t){return t(Object(o.N)()),fetch("".concat(s,"/api/post/").concat(e.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify(e)}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(n){t(Object(o.L)(n)),t(m({language:e.language,create_user:e.create_user})),!1!==e.redirect&&r.a.push({pathname:c.a.ReadDream,defaultData:{id:e.id}})})).catch((function(n){t(Object(o.M)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},d=function(e){return function(t){return t(Object(o.r)()),fetch("".concat(s,"/api/post/").concat(e.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify()}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(n){t(Object(o.p)(n)),t(m({language:e.language,create_user:e.create_user})),r.a.push(c.a.Dreams)})).catch((function(n){t(Object(o.q)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},b=function(e){return function(t){return t(Object(o.x)()),fetch("".concat(s,"/api/comment/").concat(e.post_id),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify()}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(e){t(Object(o.v)(e))})).catch((function(n){t(Object(o.w)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},O=function(e){return function(t){return t(Object(o.i)()),fetch("".concat(s,"/api/comment"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify(e)}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(n){t(Object(o.g)(n)),t(b({language:e.language,post_id:e.post_id}))})).catch((function(n){t(Object(o.h)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},k=function(e){return function(t){return t(Object(o.K)()),fetch("".concat(s,"/api/comment/").concat(e.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify(e)}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(n){t(Object(o.I)(n)),t(b({language:e.language,post_id:e.post_id}))})).catch((function(n){t(Object(o.J)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}},v=function e(t){return function(n){return n(Object(o.B)()),fetch("".concat(s,"/geticons"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify(t)}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(a){a.length>0?n(Object(o.z)(a)):(n(Object(o.u)({variant:"info",message:i.a[t.language].texts["FindIcon".concat(Math.floor(5*Math.random()))]})),n(e(t)))})).catch((function(e){n(Object(o.A)()),e.json().then((function(e){n(Object(o.u)({variant:"error",message:i.a[t.language].errors[e.error]}))}))}))}},y=function(e){return function(t){return t(Object(o.f)()),fetch("".concat(s,"/api/tag"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",token:localStorage.token},body:JSON.stringify(e)}).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(e)})).then((function(n){t(Object(o.d)(n)),r.a.push(e.backPath)})).catch((function(n){t(Object(o.e)()),n.json().then((function(n){t(Object(o.u)({variant:"error",message:i.a[e.language].errors[n.error]}))}))}))}}},503:function(e,t,n){"use strict";n.r(t);var o=n(262),a=n(0),r=n.n(a),c=n(26),i=n(21),s=n(437),u=n(371),l=n(130),f=n(128),p=n(263),j=n(55),m=n(14),h=n(64),g=n(46),d=n(198),b=n(49),O=n(47);t.default=Object(c.b)((function(e){return{language:Object(O.a)(e),authPending:Object(b.d)(e)}}),(function(e){return Object(i.bindActionCreators)({signUp:d.n},e)}))((function(e){var t=e.language,n=e.authPending,a=e.signUp,c=Object(h.a)(),i=r.a.useState(""),d=Object(o.a)(i,2),b=d[0],O=d[1],k=r.a.useState(""),v=Object(o.a)(k,2),y=v[0],P=v[1],S=r.a.useState(""),T=Object(o.a)(S,2),N=T[0],E=T[1];return r.a.createElement("div",{className:c.root},r.a.createElement(f.a,{className:"".concat(c.paper)},r.a.createElement(p.a,{spacing:1,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(p.a,{item:!0,className:"".concat(c.margin1)},r.a.createElement(u.a,{className:c.input,autoComplete:"off",type:"email",id:"input-login",label:g.a[t].texts.Email,variant:"outlined",onBlur:function(e){O(e.target.value)}})),r.a.createElement(p.a,{item:!0,className:"".concat(c.margin1)},r.a.createElement(u.a,{className:c.input,autoComplete:"off",onBlur:function(e){P(e.target.value)},type:"text",id:"input-nickname",label:g.a[t].texts.Nickname,variant:"outlined"})),r.a.createElement(p.a,{item:!0,className:"".concat(c.margin1)},r.a.createElement(u.a,{className:c.input,autoComplete:"new-password",onBlur:function(e){E(e.target.value)},type:"password",id:"input-password",label:g.a[t].texts.Password,variant:"outlined"})),n?r.a.createElement(p.a,{item:!0,className:"".concat(c.margin1)},r.a.createElement(s.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{item:!0,className:"".concat(c.margin1)},r.a.createElement(l.a,{fullWidth:!0,size:"small",onClick:function(){a({login:b,password:N,nickname:y,language:t})},variant:"outlined",color:"primary"},g.a[t].buttons.SignUp)),r.a.createElement(p.a,{item:!0,className:"".concat(c.margin1)},r.a.createElement(l.a,{fullWidth:!0,size:"small",onClick:function(){j.a.push(m.a.Sign)},variant:"outlined",color:"primary"},g.a[t].buttons.Back))))))}))}}]);
//# sourceMappingURL=20.e7b0779c.chunk.js.map