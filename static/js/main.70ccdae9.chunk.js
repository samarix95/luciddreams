(this.webpackJsonplucid_dream=this.webpackJsonplucid_dream||[]).push([[0],{325:function(e,t,a){e.exports=a.p+"static/media/map.71ce46a8.png"},326:function(e,t,a){e.exports=a.p+"static/media/sun.4f817e2f.png"},327:function(e,t,a){e.exports=a.p+"static/media/moon.ca0fb531.png"},328:function(e,t,a){e.exports=a.p+"static/media/astronaut.7219d35a.png"},329:function(e,t,a){e.exports=a.p+"static/media/cloud.7fb181bd.svg"},353:function(e,t,a){e.exports=a(517)},358:function(e,t,a){},363:function(e,t,a){},517:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),o=a.n(i),c=(a(358),a(29)),s=a(575),l=(a(363),a(69)),u=Object(l.a)(),m=a(92),d=a(320),p=a(7),g="GET_ERRORS",b="SET_CURRENT_USER",f="SET_CLOUD",h="CLEAR_CLOUD",y="SET_STAR",E="CLEAR_STAR",v="SET_LANG",w="SET_THEME_MODE",O="SET_SNACKBAR_MODE",x={current:"En",buttons:{signIn:"Sign in",signUp:"Sign up",dreamJoirnal:"Dream joirnal",addDream:"Add dream",addCDream:"Add C-dream",techniques:"Techniques",adventures:"Adventures",close:"Back",about:"About us",cancel:"Cancel",add:"Add",Edit:"Edit",Delete:"Delete",Save:"Save"},texts:{about:"About us About us About us About us About us About us About us About us About us About us ",or:"OR",nickname:"Nickname",password:"Password",passwordAgain:"Password again",cancel:"Cancel",sucessRegistration:"You are sign up successful",hello:"Hello, ",changleLanguage:"Save change language to ",success:"Success",title:"Title",content:"What's a dream",tags:"Locations",technics:"Technics",rating:"Realistics",Dream:"Regular dream",Cdream:"C-dream",NoDreams:"You don't have dreams",pickDate:"Date",pickTime:"Time",TapToShow:"Tap on text to show highlights",Public:"Public",Publish:"Unpublish",Unpublish:"Publish",PublicAlert:"Are you sure you want to public the dream?",PublicText:"After public your friends can read this dream.",PublicDescription:"Your friends can read this dream",UnpublicAlert:"Are you sure you want to unpublic the dream?",UnpublicText:"After unpublic your friends can't read this dream.",UnpublicDescription:"Your friends can't read this dream",DeleteAlert:"Are you sure you want to remove the dream?",DeleteText:"You can't restore dream. Never."},errors:{emailLenght:"Email must not be empty",nicknameLenght:"Nickname must not be empty",passwordLenght:"Password must not be empty",password2Lenght:"Password must not be empty",passwordsCompare:"Passwords not equal",UserNotExist:"Invalid email or password",EmailIsNotValid:"Invalid email",IncorrectPassword:"Invalid email or password",EmailIsBusy:"Email is busy",PasswordLenght5Symbols:"Minimum password length: 5 symbols",NotLogin:"You not loggin in",EmptyTitle:"Title must not be empty",EmptyDream:"Dream must not be empty",NoChanges:"No changes",CantDeletePost:"Error deleting dream"}};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var j={currLang:x};var D=a(16);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C={clouds:[]};function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I={stars:[]};function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var T={palette:{type:"dark",primary:{main:"#f9a825"},secondary:{main:"#f50057"},error:{main:"#cc0000"}}};function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _=a(364),M={isAuthenticated:!1,user:{},loading:!1},G={};function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var U={snackbar:{open:!1,variant:"",message:""}};var z=Object(m.c)({lang:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{currLang:t.currLangState});default:return e}},clouds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return L({},e,{clouds:[].concat(Object(D.a)(e.clouds),[t.cloudState])});case h:return L({},e,{clouds:[]});default:return e}},stars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return P({},e,{stars:[].concat(Object(D.a)(e.stars),[t.starState])});case E:return P({},e,{stars:[]});default:return e}},themeMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{palette:t.palette});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return R({},e,{isAuthenticated:!_(t.payload),user:t.payload});case"USER_LOADING":return R({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{snackbar:t.snackbar});default:return e}}}),F=[d.a],H=Object(m.d)(z,{},m.a.apply(void 0,F)),Y=a(163),V=a.n(Y),J=a(136),q=a.n(J),K=function(e){e?q.a.defaults.headers.common.Authorization=e:delete q.a.defaults.headers.common.Authorization};function X(){if(localStorage.jwtToken){var e=localStorage.jwtToken;K(e);var t=V()(e);H.dispatch({type:b,payload:t});var a=Date.now()/1e3;return!(t.exp<a)}}var $=a(9),Z=a(2);function Q(e){return{type:v,currLangState:e}}function ee(e){return{type:e.type,snackbar:e.snackbar}}var te=a(3),ae=Object(c.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(te.a)(e,["component","auth"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/"})}}))})),ne=a(173),re=a(81),ie=a.n(re),oe=a(566),ce=a(560),se=a(342),le=a(576),ue=a(123),me=a(175),de=a(577),pe=a(565),ge=a(573),be=a(110),fe=a.n(be),he=a(80),ye=a(160),Ee=a(551),ve=a(27),we=a(572),Oe=a(578),xe=a(117),ke=a.n(xe),je=a(41),De=a(330),Ne=a.n(De),Le=a(331),Ce=a.n(Le),Se=a(332),Pe=a.n(Se),Ie=a(333),Be=a.n(Ie),Te=a(325),Ae=a.n(Te),Re=a(326),_e=a.n(Re),Me=a(327),Ge=a.n(Me),We=a(328),Ue=a.n(We),ze=a(329),Fe=a.n(ze),He={amountStars:25,amountClouds:5,size:{min:1,max:5,giant:9},duration:{min:5,max:25}},Ye={success:Ne.a,warning:Ce.a,error:Pe.a,info:Be.a};function Ve(e,t){return e+Math.random()*(t-e)}var Je=Object(je.a)((function(e){return{contentPaper:{backgroundColor:e.palette.text.main,padding:10},pickerGridContainer:{position:"relative",width:"85%",left:"50%",transform:"translateX(-50%)",marginBottom:"5px"},div85width:{position:"relative",width:"85%",top:"65%",left:"50%",transform:"translate(-50%, -50%)"},ratingGridContainer:{position:"relative",width:"100%",top:"65%",left:"50%",transform:"translate(-50%, -50%)"},pickers:{position:"relative",width:"90%",left:"50%",transform:"translateX(-50%)"},avatarRoot:{textAlign:"center",width:"100%"},verySmallAvatar:{margin:e.spacing(1),width:e.spacing(3),height:e.spacing(3),display:"inline-block"},smallAvatar:{margin:e.spacing(.5),width:e.spacing(5),height:e.spacing(5),display:"inline-block"},smallChip:{margin:e.spacing(.5)},centerCircularProgress:{position:"relative",top:"50%",left:"50%"},mainGridDreamsBodyItemContainer:{position:"absolute",boxSizing:"border-box",maxHeight:"90%",overflow:"auto",borderRadius:"4px"},mainGridDreamsBodyItemContainerPaper:{height:"100%",opacity:.9},mainGridDreamsBodyItem:{overflow:"hidden"},mainGridDreamsContainer:{height:"100%",position:"relative",width:"90%",left:"50%",transform:"translateX(-50%)"},card:{maxWidth:"100%",height:"100%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},textField:{width:"100%"},margin:{margin:e.spacing(1)},root:{flexGrow:1,position:"relative",width:"100%",height:window.innerHeight-1,overflow:"hidden"},mainPage:{top:0,left:0,position:"absolute",transition:"all 0.3s linear",width:"100%",height:"100%"},aboutPage:{position:"absolute",transition:"all 0.3s linear",top:"100%",width:"100%",height:"100%"},AppDivDark:{position:"fixed",background:"radial-gradient(ellipse at center, rgba(8, 25, 42, 1) 20%, rgba(1, 4, 6, 1) 100%)",opacity:1,margin:0,width:"100%",height:"100%",zIndex:-3},AppDivLight:{position:"absolute",background:"radial-gradient(ellipse at center, rgba(207, 225, 237, 1) 20%, rgba(127, 170, 202, 1) 100%)",transition:"opacity 0.5s linear",margin:0,opacity:0,width:"100%",height:"100%",zIndex:-3},AppStarsDiv:{transition:"opacity 0.5s linear",opacity:0,position:"absolute",width:"100%",height:"100%",overflow:"hidden",zIndex:-2},AppCloudsDiv:{transition:"opacity 0.5s linear",opacity:0,position:"absolute",width:"100%",height:"100%",overflow:"hidden",zIndex:-2},AppStar:{borderRadius:"100%",position:"absolute",background:"radial-gradient(ellipse at center, rgba(177, 198, 219, 1) 2%, rgba(5, 63, 118, 1) 100%)",filter:"blur(1px)",animation:"$shine infinite alternate",zIndex:-1},AppCloud:{position:"absolute",backgroundRepeat:"no-repeat",backgroundImage:"url("+Fe.a+")",animation:"$moveclouds infinite linear",zIndex:-1},image:{position:"relative",left:"50%",top:"25%",transform:"translate(-50%, -25%)",width:"35vw !important",height:"35vw",borderRadius:"50%"},SkyDiv:{position:"absolute",borderRadius:"50%",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"},MoonSrc:{backgroundSize:"cover",background:"url("+Ge.a+")",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:"all 0.3s linear"},SunSrc:{backgroundSize:"cover",background:"url("+_e.a+")",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:"all 0.3s linear"},AstronautButton:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"25vw !important",height:"25vw",borderRadius:"50%"},AstronautDiv:{position:"absolute",borderRadius:"50%",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",animation:"$swinging 30s infinite linear"},AstronautImg:{backgroundSize:"cover",background:"url("+Ue.a+")",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:"filter 0.5s linear"},MapButton:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"25vw !important",height:"25vw",borderRadius:"10%"},MapDiv:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",animation:"$swinging 30s infinite linear"},MapImg:{backgroundSize:"cover",background:"url("+Ae.a+")",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:"filter 0.5s linear"},mainGridContainer:{height:"100%"},mainGridHeadItem:{maxWidth:"100% !Important"},mainGridBodyItem:{maxWidth:"100% !Important"},menuButtonContainerItem:{maxWidth:"100% !Important"},menuButtonContainer:{height:"100% !Important"},menuButtonGrid:{},menuDivButton:{maxWidth:"100% !Important",padding:"10px"},menuButton:{minWidth:"55vw",maxWidth:"55vw"},actionButton:{minWidth:"40vw",maxWidth:"40vw"},mainGridFooterItem:{maxWidth:"100% !Important"},menuButtonContainerFooterLanguageButtons:{},aboutGridContainer:{width:"100%",height:"100%",margin:0},fullMinWidth:{minWidth:"100% !Important",position:"relative"},inputDiv:{minWidth:"85% !Important",maxWidth:"85% !Important",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:1},inputScrollableDiv:{minWidth:"85% !Important",maxWidth:"85% !Important",height:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:1},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:1},aboutGridItem:{width:"100%"},mainPaperGridBodyItem:{maxWidth:"100% !Important"},paper:{height:"90%",margin:e.spacing(3,2),opacity:.9},minMargin:{margin:e.spacing(.5)},VKLoginDiv:{position:"absolute",width:"15vw",height:"15vw"},VKLoginButton:{background:"url(https://dressirovka70.ru/wp-content/uploads/2019/10/1200px-VK.com-logo.svg1_-1024x1024.png)",boxShadow:"0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)",backgroundSize:"cover",borderRadius:"25%",width:"100%",height:"100%"},"@keyframes shine":{"0%":{transform:"scale(1)",opacity:"1"},"20%":{transform:"scale(.9)",opacity:".8"},"40%":{transform:"scale(1)",opacity:".9"},"60%":{transform:"scale(.2)",opacity:".1"},"80%":{transform:"scale(.5)",opacity:".5"},"100%":{transform:"scale(.9)",opacity:".9"}},"@keyframes moveclouds":{"100%":{left:"-100%"}},"@keyframes swinging":{"0%":{transform:"rotate(0)"},"10%":{transform:"rotate(12deg)"},"20%":{transform:"rotate(-10deg)"},"30%":{transform:"rotate(9deg)"},"40%":{transform:"rotate(-8deg)"},"50%":{transform:"rotate(7deg)"},"60%":{transform:"rotate(-6deg)"},"70%":{transform:"rotate(5deg)"},"80%":{transform:"rotate(-4deg)"},"90%":{transform:"rotate(3deg)"},"100%":{transform:"rotate(0)"}}}})),qe=q.a.create({baseURL:"https://ldserver.herokuapp.com",timeout:1e4,headers:{"Access-Control-Allow-Origin":"*"}});function Ke(e,t){return!!Object.keys(t).every((function(t){return e.hasOwnProperty(t)}))&&Object.keys(e).every((function(a){return"object"==typeof e[a]?Ke(e[a],t[a]):e[a]===t[a]}))}function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ze=[];var Qe=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,auth:e.auth}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Je(),a=e.lang,n=e.themeMode,i=e.history,o=e.auth,c=e.setSnackbar,s=Object(ye.a)(n);Object.assign(s,{overrides:{MUIRichTextEditor:{root:{border:"1px solid gray",borderRadius:"4px",height:"100%"},container:{height:"100%",margin:"0 !Important"},toolbar:{display:"flex",alignItems:"center",justifyContent:"center",height:"20%",minHeight:"48px",margin:"0 !Important",borderBottom:"1px solid gray",borderRadius:"4px"},placeHolder:{},editor:{height:"69%",width:"100%",position:"relative",overflow:"hidden"},editorContainer:{padding:"18.5px 14px",borderRadius:"4px",position:"relative",boxSizing:"border-box",maxHeight:"100%",overflow:"auto"}}}});var l=r.a.useState(!1),u=Object($.a)(l,2),m=u[0],d=u[1],p=r.a.useState(!1),g=Object($.a)(p,2),b=g[0],f=g[1],h=r.a.useState(""),y=Object($.a)(h,2),E=y[0],v=y[1],w=r.a.useState(new Date),x=Object($.a)(w,2),k=x[0],j=x[1],D=r.a.useState(),N=Object($.a)(D,2),L=N[0],C=N[1],S=r.a.useState(),P=Object($.a)(S,2),I=P[0],B=P[1],T=r.a.useState([]),A=Object($.a)(T,2),R=A[0],_=A[1],M=r.a.useState({}),G=Object($.a)(M,2),W=G[0],U=G[1],z=function(e){j(e)};return r.a.useEffect((function(){if(qe.get("/gettags").then((function(e){U(e.data)})).catch((function(e){console.log(e)})),"undefined"!==typeof e.location.defaultData){d(!0),Ze=[];var t=e.location.defaultData,a=t.post_title,n=t.dream_date,r=t.post_content,i=t.tags;v(a),j(n),C(r),B(r),"string"===typeof i[0][0]&&(i.forEach((function(e){var t={};t.id=Number(e[0]),t.name_rus=e[1],t.name_eng=e[2],t.img_url=e[3],Ze.push(t)})),_(Ze))}}),[e.location.defaultData,a.currLang]),r.a.createElement(Ee.a,{theme:s},r.a.createElement(ce.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(pe.a,{className:t.mainGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:11,className:t.mainGridBodyItem},r.a.createElement(me.a,{className:t.paper},r.a.createElement(pe.a,{container:!0,className:t.mainGridContainer,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(pe.a,{item:!0,xs:2,className:t.fullMinWidth},r.a.createElement(se.a,{className:t.inputDiv,required:!0,id:"outlined-required",value:E,label:a.currLang.texts.title,variant:"outlined",onChange:function(e){v(e.target.value)}})),r.a.createElement(pe.a,{item:!0,xs:2,className:t.fullMinWidth},r.a.createElement(ve.a,{utils:ne.a,locale:(a.currLang.current,ie.a)},r.a.createElement(pe.a,{className:t.pickerGridContainer,container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:7},r.a.createElement(we.a,{className:t.pickers,id:"date-picker-dialog",label:a.currLang.texts.pickDate,format:"dd.MM.yyyy",value:k,onChange:z,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(pe.a,{item:!0,xs:5},r.a.createElement(Oe.a,{className:t.pickers,id:"time-picker",label:a.currLang.texts.pickTime,value:k,onChange:z,ampm:!1,KeyboardButtonProps:{"aria-label":"change time"}}))))),r.a.createElement(pe.a,{item:!0,xs:5,className:t.fullMinWidth},r.a.createElement("div",{className:t.inputScrollableDiv},r.a.createElement(fe.a,{value:L,onChange:function(e){var t=e.getCurrentContent(),a=Object(he.convertToRaw)(t),n=JSON.stringify(a);I!==n&&B(n)},label:a.currLang.texts.content,inlineToolbar:!1,controls:["bold","italic","underline","strikethrough","colorfill"],customControls:[{name:"colorfill",icon:r.a.createElement(ke.a,null),type:"inline",inlineStyle:{backgroundColor:"yellow",color:"black"}}]}))),r.a.createElement(pe.a,{item:!0,xs:3,className:t.fullMinWidth},W.length?r.a.createElement(ge.a,{multiple:!0,className:t.inputDiv,id:"tags-outlined",size:"small",options:W,getOptionLabel:function(e){return r.a.createElement(de.a,{size:"small",className:t.chip,avatar:r.a.createElement(le.a,{src:e.img_url}),label:"Ru"===a.currLang.current?e.name_rus:e.name_eng})},defaultValue:Ze.map((function(e){return W[e.id-1]})),onChange:function(e,t){return function(e,t){_(t)}(0,t)},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:a.currLang.texts.tags,fullWidth:!0}))}}):r.a.createElement("div",{className:t.inputDiv},r.a.createElement(oe.a,null)))))),r.a.createElement(pe.a,{item:!0,xs:1,className:t.mainGridBodyItem},b?r.a.createElement(oe.a,null):r.a.createElement(pe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(pe.a,{item:!0},r.a.createElement(ue.a,{variant:"contained",color:"secondary",className:t.actionButton,onClick:function(){m?i.push("/dreams"):i.push("/luciddreams")}},a.currLang.buttons.close)),r.a.createElement(pe.a,{item:!0},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.actionButton,onClick:function(){return function(){f(!0);var t=!1,n="";if("undefined"!==typeof E?0===E.length&&(n=a.currLang.errors.EmptyTitle,t=!0):(n=a.currLang.errors.EmptyTitle,t=!0),"undefined"!==typeof I?0===JSON.parse(I).blocks[0].text.length&&(n=a.currLang.errors.EmptyDream,t=!0):(n=a.currLang.errors.EmptyDream,t=!0),t)c({type:O,snackbar:{open:!0,variant:"error",message:n}}),f(!1);else if(m){var r=!1,s=!1,l={post_id:e.location.defaultData.post_id};if(e.location.defaultData.post_title!==E&&(l.title=E,r=!0),e.location.defaultData.dream_date.getTime()!==k.getTime()&&(l.dreamDate=k.toLocaleString("ru-RU",{timeZone:"Europe/London"}),r=!0),e.location.defaultData.post_content!==I&&(l.content=I,r=!0),Ze.length===R.length&&Ke(Ze,R)||(r=!0,s=!0),r){if(s){var u=Ze.filter((function(e){return!R.some((function(t){return t.id===e.id}))})),d=R.filter((function(e){return!Ze.some((function(t){return t.id===e.id}))}));if(d.length>0){var p={};d.map((function(e,t){return p[t]=e})),l.tags=$e({},l.tags,{add:p})}if(u.length>0){var g={};u.map((function(e,t){return g[t]=e})),l.tags=$e({},l.tags,{remove:g})}}qe.post("/actions/users/updatepost",l).then((function(e){f(!1),c({type:O,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),i.push("/dreams")})).catch((function(e){console.log(e),f(!1)}))}else c({type:O,snackbar:{open:!0,variant:"error",message:a.currLang.errors.NoChanges}}),f(!1)}else{var b={title:E,dreamDate:k.toLocaleString("ru-RU",{timeZone:"Europe/London"}),content:I,create_user:o.user.id,post_type:0,nickname:o.user.nickname,tags:R};qe.post("/actions/users/createpost",b).then((function(e){f(!1),c({type:O,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),i.push("/luciddreams")})).catch((function(e){f(!1)}))}}()}},m?a.currLang.buttons.Save:a.currLang.buttons.add)))))))})),et=a(212),tt=a(530),at=a(46),nt=a(569),rt=a(538),it=a(340),ot=a(579),ct=a(13);function st(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?st(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):st(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ut={PaperProps:{style:{maxHeight:248,width:250}}};function mt(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightSmall:a.typography.fontWeightMedium}}var dt=[],pt=[];var gt=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,auth:e.auth}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Je(),a=Object(ct.a)(),n=e.lang,i=e.themeMode,o=e.history,c=e.auth,s=e.setSnackbar,l=Object(ye.a)(i);Object.assign(l,{overrides:{MUIRichTextEditor:{root:{border:"1px solid gray",borderRadius:"4px",height:"100%"},container:{height:"100%",margin:"0 !Important"},toolbar:{display:"flex",alignItems:"center",justifyContent:"center",height:"20%",minHeight:"48px",margin:"0 !Important",borderBottom:"1px solid gray",borderRadius:"4px"},placeHolder:{},editor:{height:"69%",width:"100%",position:"relative",overflow:"hidden"},editorContainer:{padding:"18.5px 14px",borderRadius:"4px",position:"relative",boxSizing:"border-box",maxHeight:"100%",overflow:"auto"}}}});var u=r.a.useState(!1),m=Object($.a)(u,2),d=m[0],p=m[1],g=r.a.useState(!1),b=Object($.a)(g,2),f=b[0],h=b[1],y=r.a.useState(""),E=Object($.a)(y,2),v=E[0],w=E[1],x=r.a.useState(new Date),k=Object($.a)(x,2),j=k[0],D=k[1],N=r.a.useState(),L=Object($.a)(N,2),C=L[0],S=L[1],P=r.a.useState(),I=Object($.a)(P,2),B=I[0],T=I[1],A=r.a.useState([]),R=Object($.a)(A,2),_=R[0],M=R[1],G=r.a.useState([]),W=Object($.a)(G,2),U=W[0],z=W[1],F=r.a.useState(1),H=Object($.a)(F,2),Y=H[0],V=H[1],J=r.a.useState({}),q=Object($.a)(J,2),K=q[0],X=q[1],Z=r.a.useState({}),Q=Object($.a)(Z,2),ee=Q[0],te=Q[1],ae=function(e){D(e)};return r.a.useEffect((function(){if(qe.get("/gettags").then((function(e){X(e.data)})).catch((function(e){console.log(e)})),qe.get("/gettechnics").then((function(e){te(e.data)})).catch((function(e){console.log(e)})),"undefined"!==typeof e.location.defaultData){p(!0),dt=[],pt=[];var t=e.location.defaultData,a=t.post_title,r=t.dream_date,i=t.post_content,o=t.technics,c=t.tags,s=t.rating;w(a),D(r),S(i),T(i),"string"===typeof c[0][0]&&(c.forEach((function(e){var t={};t.id=Number(e[0]),t.name_rus=e[1],t.name_eng=e[2],t.img_url=e[3],pt.push(t)})),M(pt)),"string"===typeof o[0][0]&&("Ru"===n.currLang.current?o.map((function(e){return dt.push(e[1])})):o.map((function(e){return dt.push(e[2])})),z(dt)),V(s)}}),[e.location.defaultData,n.currLang]),r.a.createElement(Ee.a,{theme:l},r.a.createElement(ce.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(pe.a,{className:t.mainGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:11,className:t.mainGridBodyItem},r.a.createElement(me.a,{className:t.paper},r.a.createElement(pe.a,{className:t.mainGridContainer,style:{flexWrap:"nowrap"},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(pe.a,{item:!0,xs:2,className:t.fullMinWidth},r.a.createElement(se.a,{className:t.inputDiv,required:!0,id:"outlined-required",value:v,label:n.currLang.texts.title,variant:"outlined",onChange:function(e){w(e.target.value)}})),r.a.createElement(pe.a,{item:!0,xs:1,className:t.fullMinWidth},r.a.createElement(ve.a,{utils:ne.a,locale:(n.currLang.current,ie.a)},r.a.createElement(pe.a,{className:t.pickerGridContainer,container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:7},r.a.createElement(we.a,{className:t.pickers,id:"date-picker-dialog",label:n.currLang.texts.pickDate,format:"dd.MM.yyyy",value:j,onChange:ae,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(pe.a,{item:!0,xs:5},r.a.createElement(Oe.a,{className:t.pickers,id:"time-picker",label:n.currLang.texts.pickTime,value:j,onChange:ae,ampm:!1,KeyboardButtonProps:{"aria-label":"change time"}}))))),r.a.createElement(pe.a,{item:!0,xs:4,className:t.fullMinWidth},r.a.createElement("div",{className:t.inputScrollableDiv},r.a.createElement(fe.a,{value:C,onChange:function(e){var t=e.getCurrentContent(),a=Object(he.convertToRaw)(t),n=JSON.stringify(a);B!==n&&T(n)},label:n.currLang.texts.content,inlineToolbar:!1,controls:["bold","italic","underline","strikethrough","colorfill"],customControls:[{name:"colorfill",icon:r.a.createElement(ke.a,null),type:"inline",inlineStyle:{backgroundColor:"yellow",color:"black"}}]}))),r.a.createElement(pe.a,{item:!0,xs:2,className:t.fullMinWidth},r.a.createElement(et.a,{className:t.inputDiv},r.a.createElement(tt.a,{id:"technics-chip-label"},n.currLang.texts.technics),r.a.createElement(rt.a,{labelId:"technics-chip-label",id:"technics-chip",multiple:!0,value:U,onChange:function(e){z(e.target.value)},input:r.a.createElement(it.a,{id:"select-technics-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e){return r.a.createElement(de.a,{size:"small",key:e,label:e,className:t.chip})})))},MenuProps:ut},Object.keys(ee).map((function(e){return r.a.createElement(nt.a,{key:ee[e].id+" chip",value:"Ru"===n.currLang.current?ee[e].name_rus:ee[e].name_eng,style:mt(ee[e].name_eng,U,a)},"Ru"===n.currLang.current?ee[e].name_rus:ee[e].name_eng)}))))),r.a.createElement(pe.a,{item:!0,xs:2,className:t.fullMinWidth},K.length?r.a.createElement(ge.a,{multiple:!0,className:t.inputDiv,id:"tags-outlined",size:"small",options:K,getOptionLabel:function(e){return r.a.createElement(de.a,{size:"small",className:t.chip,avatar:r.a.createElement(le.a,{src:e.img_url}),label:"Ru"===n.currLang.current?e.name_rus:e.name_eng})},defaultValue:pt.map((function(e){return K[e.id-1]})),onChange:function(e,t){return function(e,t){M(t)}(0,t)},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:n.currLang.texts.tags,fullWidth:!0}))}}):r.a.createElement("div",{className:t.inputDiv},r.a.createElement(oe.a,null))),r.a.createElement(pe.a,{item:!0,xs:1,className:t.fullMinWidth},r.a.createElement("div",{className:t.div85width},r.a.createElement(pe.a,{className:t.ratingGridContainer,container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:6},r.a.createElement(at.a,{component:"legend"},n.currLang.texts.rating," :")),r.a.createElement(pe.a,{item:!0,xs:6},r.a.createElement(ot.a,{name:"simple-controlled",value:Y,onChange:function(e,t){V(t)}})))))))),r.a.createElement(pe.a,{item:!0,xs:1,className:t.mainGridBodyItem},f?r.a.createElement(oe.a,null):r.a.createElement(pe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(pe.a,{item:!0},r.a.createElement(ue.a,{variant:"contained",color:"secondary",className:t.actionButton,onClick:function(){d?o.push("/dreams"):o.push("/luciddreams")}},n.currLang.buttons.close)),r.a.createElement(pe.a,{item:!0},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.actionButton,onClick:function(){return function(){h(!0);var t=!1,a="";if("undefined"!==typeof v?0===v.length&&(a=n.currLang.errors.EmptyTitle,t=!0):(a=n.currLang.errors.EmptyTitle,t=!0),"undefined"!==typeof B?0===JSON.parse(B).blocks[0].text.length&&(a=n.currLang.errors.EmptyDream,t=!0):(a=n.currLang.errors.EmptyDream,t=!0),t)s({type:O,snackbar:{open:!0,variant:"error",message:a}}),h(!1);else if(d){var r=!1,i=!1,l={post_id:e.location.defaultData.post_id};if(e.location.defaultData.post_title!==v&&(l.title=v,r=!0),e.location.defaultData.dream_date.getTime()!==j.getTime()&&(l.dreamDate=j.toLocaleString("ru-RU",{timeZone:"Europe/London"}),r=!0),e.location.defaultData.post_content!==B&&(l.content=B,r=!0),e.location.defaultData.rating!==Y&&(l.rating=Y,r=!0),!function(e,t){for(var a={},n=0;n<e.length;n++){a[e[n]+typeof e[n]]=1}for(var r=0;r<t.length;r++){var i=t[r]+typeof t[r];if(!a[i])return!1;a[i]=2}for(var o in a)if(1===a[o])return!1;return!0}(dt,U)){r=!0;var u=dt.filter((function(e){return!U.some((function(t){return t===e}))})),m=U.filter((function(e){return!dt.some((function(t){return t===e}))}));if(m.length>0){var p={};m.map((function(e,t){return p[t]=e})),l.technics=lt({},l.technics,{add:p})}if(u.length>0){var g={};u.map((function(e,t){return g[t]=e})),l.technics=lt({},l.technics,{remove:g})}}if(pt.length===_.length&&Ke(pt,_)||(r=!0,i=!0),r){if(i){var b=pt.filter((function(e){return!_.some((function(t){return t.id===e.id}))})),f=_.filter((function(e){return!pt.some((function(t){return t.id===e.id}))}));if(f.length>0){var y={};f.map((function(e,t){return y[t]=e})),l.tags=lt({},l.tags,{add:y})}if(b.length>0){var E={};b.map((function(e,t){return E[t]=e})),l.tags=lt({},l.tags,{remove:E})}}qe.post("/actions/users/updatepost",l).then((function(e){h(!1),s({type:O,snackbar:{open:!0,variant:"success",message:n.currLang.texts.success}}),o.push("/dreams")})).catch((function(e){console.log(e),h(!1)}))}else s({type:O,snackbar:{open:!0,variant:"error",message:n.currLang.errors.NoChanges}}),h(!1)}else{var w={title:v,dreamDate:j.toLocaleString("ru-RU",{timeZone:"Europe/London"}),content:B,create_user:c.user.id,rating:Y,post_type:1,nickname:c.user.nickname,tags:_,technics:U};qe.post("/actions/users/createpost",w).then((function(e){h(!1),s({type:O,snackbar:{open:!0,variant:"success",message:n.currLang.texts.success}}),o.push("/luciddreams")})).catch((function(e){h(!1)}))}}()}},d?n.currLang.buttons.Save:n.currLang.buttons.add)))))))})),bt=a(557),ft=a(559),ht=a(561),yt=a(564),Et=a(524),vt=a(523),wt=a(567),Ot=a(562),xt=a(555),kt=a(554),jt=a(219),Dt=a(556),Nt=a(558),Lt=a(574),Ct=a(571),St=a(521),Pt=a(553),It=a(322),Bt=a(120),Tt=a.n(Bt),At=a(335),Rt=a.n(At),_t=a(119),Mt=a.n(_t),Gt=a(334),Wt=a.n(Gt),Ut=a(217),zt=a.n(Ut);function Ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Yt=Object(c.b)((function(e){return{lang:e.lang,palette:e.themeMode.palette}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Je(),a=e.item,n=a.post_id,i=a.post_title,o=a.post_content,c=a.post_type,s=a.tags,l=a.technics,u=a.rating,m=a.dream_date,d=a.is_public,g=e.lang,b=e.palette,f=e.history,h=e.setSnackbar,y=r.a.useState(!1),E=Object($.a)(y,2),v=E[0],w=E[1],x=r.a.useState(null),k=Object($.a)(x,2),j=k[0],D=k[1],N=r.a.useState(!1),L=Object($.a)(N,2),C=L[0],S=L[1],P=r.a.useState(!1),I=Object($.a)(P,2),B=I[0],T=I[1],A=r.a.useState({header:"",body:"",commit:"",action:""}),R=Object($.a)(A,2),_=R[0],M=R[1],G=new Date(m).getDate()+"."+(new Date(m).getMonth()+1)+"."+new Date(m).getFullYear()+" "+new Date(m).getHours()+":"+("0"+new Date(m).getMinutes()).slice(-2),W=o.toString(),U=JSON.parse(W),z=Object(he.convertFromRaw)(U),F=he.EditorState.createWithContent(z).getCurrentContent().getPlainText("");r.a.useEffect((function(){T(1===d)}),[d]);var H=function(){D(null)},Y=function(t,a){var r=_;switch(t){case"public":a.target.checked?(r=Ht({},r,{header:g.currLang.texts.PublicAlert}),r=Ht({},r,{body:g.currLang.texts.PublicText}),r=Ht({},r,{commit:g.currLang.texts.Publish}),r=Ht({},r,{action:"publicOk"}),M(r)):(r=Ht({},r,{header:g.currLang.texts.UnpublicAlert}),r=Ht({},r,{body:g.currLang.texts.UnpublicText}),r=Ht({},r,{commit:g.currLang.texts.Unpublish}),r=Ht({},r,{action:"publicOk"}),M(r)),S(!0),H();break;case"edit":H(),0===c?f.push({pathname:"/addregulardream",defaultData:{post_id:n,post_title:i,dream_date:new Date(m),post_content:o,tags:s}}):1===c&&f.push({pathname:"/addcdream",defaultData:{post_id:n,post_title:i,dream_date:new Date(m),post_content:o,tags:s,technics:l,rating:u}});break;case"delete":r=Ht({},r,{header:g.currLang.texts.DeleteAlert}),r=Ht({},r,{body:g.currLang.texts.DeleteText}),r=Ht({},r,{commit:g.currLang.buttons.Delete}),r=Ht({},r,{action:"deleteOk"}),M(r),H(),S(!0);break;case"closeAlert":S(!1);break;case"deleteOk":var d={post_id:n};qe.post("/actions/users/deletepost",d).then((function(t){H(),h({type:O,snackbar:{open:!0,variant:"success",message:g.currLang.texts.success}}),S(!1),e.loadPosts()})).catch((function(e){h({type:O,snackbar:{open:!0,variant:"error",message:g.currLang.texts.CantDeletePost}}),H(),S(!1)}));break;case"publicOk":if(H(),S(!1),B){var p={post_id:n,newPublic:0};qe.post("/actions/users/updatepost",p).then((function(e){T(!1),h({type:O,snackbar:{open:!0,variant:"success",message:g.currLang.texts.success}})})).catch((function(e){T(!0)}))}else{var b={post_id:n,newPublic:1};qe.post("/actions/users/updatepost",b).then((function(e){T(!0),h({type:O,snackbar:{open:!0,variant:"success",message:g.currLang.texts.success}})})).catch((function(e){T(!1)}))}break;default:console.log("Command not found")}};return r.a.createElement(pe.a,{item:!0,xs:12,style:{marginTop:"15px",marginBottom:"15px",width:"100%",height:"auto",borderRadius:"4px"}},r.a.createElement(St.a,{open:C,onClose:function(){return Y("closeAlert")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ot.a,{id:"alert-dialog-title"},_.header),r.a.createElement(Et.a,null,r.a.createElement(ht.a,{id:"alert-dialog-description"},_.body)),r.a.createElement(vt.a,null,r.a.createElement(ue.a,{onClick:function(){return Y("closeAlert")},color:"secondary"},g.currLang.buttons.cancel),r.a.createElement(ue.a,{onClick:function(){return Y(_.action)},color:"primary",autoFocus:!0},_.commit))),r.a.createElement(It.a,{id:"simple-menu",anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:H},r.a.createElement(nt.a,null,r.a.createElement(wt.a,null,r.a.createElement(yt.a,{control:r.a.createElement(Lt.a,{onChange:function(e){return Y("public",e)},checked:B,value:"checkedB",color:"primary"})})),g.currLang.texts.Public),r.a.createElement(nt.a,{onClick:function(){return Y("edit")}},r.a.createElement(wt.a,null,r.a.createElement(zt.a,{fontSize:"small"})),g.currLang.buttons.Edit),r.a.createElement(nt.a,{onClick:function(){return Y("delete")}},r.a.createElement(wt.a,null,r.a.createElement(zt.a,{fontSize:"small"})),g.currLang.buttons.Delete)),r.a.createElement(Pt.a,{raised:!1,className:t.card},r.a.createElement(Dt.a,{title:i,subheader:G,action:r.a.createElement(jt.a,{"aria-label":"settings",onClick:function(e){D(e.currentTarget)}},r.a.createElement(Wt.a,null))}),r.a.createElement(xt.a,null,r.a.createElement("div",{className:t.avatarRoot},r.a.createElement("div",{style:{padding:"12px"}},B?r.a.createElement(Ct.a,{disableFocusListener:!0,disableTouchListener:!0,title:g.currLang.texts.PublicDescription},r.a.createElement(Mt.a,null)):r.a.createElement(Ct.a,{disableFocusListener:!0,disableTouchListener:!0,title:g.currLang.texts.UnpublicDescription},r.a.createElement(Tt.a,null))),r.a.createElement(de.a,{variant:"outlined",label:0===c?g.currLang.texts.Dream:g.currLang.texts.Cdream}),l.map((function(e,a){return e[0]?r.a.createElement(de.a,{className:t.smallChip,key:a,label:"Ru"===g.currLang.current?e[1]:e[2]}):""}))),r.a.createElement("div",{className:t.avatarRoot},s.map((function(e,a){return e[0]?r.a.createElement(Ct.a,{key:a,disableFocusListener:!0,disableTouchListener:!0,title:"Ru"===g.currLang.current?e[1]:e[2]},r.a.createElement(le.a,{className:t.smallAvatar,alt:"Remy Sharp",src:e[3],style:"dark"===b.type?{filter:"invert(1)"}:{}})):""})))),r.a.createElement(kt.a,{disableSpacing:!0},r.a.createElement(at.a,{noWrap:!v,variant:"body2",style:{padding:"12px"}},v?g.currLang.texts.TapToShow:F),r.a.createElement(jt.a,{className:Object(Z.a)(t.expand,Object(p.a)({},t.expandOpen,v)),onClick:function(){w(!v)},"aria-expanded":v,"aria-label":"show more"},r.a.createElement(Rt.a,null))),r.a.createElement(Nt.a,{in:v,timeout:"auto",unmountOnExit:!0},r.a.createElement(xt.a,null,r.a.createElement(me.a,{className:t.contentPaper},r.a.createElement(fe.a,{controls:["bold","italic","underline","strikethrough","colorfill"],customControls:[{name:"colorfill",icon:r.a.createElement(ke.a,null),type:"inline",inlineStyle:{backgroundColor:"yellow",color:"black"}}],readOnly:!0,toolbar:!1,value:o})),0===c?"":r.a.createElement(pe.a,{style:{paddingTop:"10px"},container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:6},r.a.createElement(at.a,{component:"legend",variant:"body2"},g.currLang.texts.rating,":")),r.a.createElement(pe.a,{item:!0,xs:6},r.a.createElement(ot.a,{name:"simple-controlled",value:u,readOnly:!0})))))))}));var Vt=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,auth:e.auth}}),(function(e){return{}}))((function(e){var t=e.lang,a=e.themeMode,n=e.history,i=e.auth,o=Object(ye.a)(a),c=Je(),s=r.a.useState(!0),l=Object($.a)(s,2),u=l[0],m=l[1],d=r.a.useState([]),p=Object($.a)(d,2),g=p[0],b=p[1],f=r.a.useCallback((function(){m(!0),qe.post("/actions/users/getuserposts",{id:i.user.id}).then((function(e){b(e.data),m(!1)})).catch((function(e){m(!1)}))}),[i.user.id]);return r.a.useEffect((function(){f()}),[f]),r.a.createElement(Ee.a,{theme:o},r.a.createElement(ce.a,null),r.a.createElement("div",{className:c.root},r.a.createElement(pe.a,{className:c.mainGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:11,zeroMinWidth:!0,className:c.mainGridDreamsBodyItem},u?r.a.createElement("div",{className:c.centerCircularProgress},r.a.createElement(bt.a,{disableShrink:!0})):r.a.createElement(ft.a,{className:c.mainGridDreamsBodyItemContainer},r.a.createElement(me.a,{className:c.mainGridDreamsBodyItemContainerPaper},0!==g.length?r.a.createElement(pe.a,{className:c.mainGridDreamsContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},g.map((function(e,t){return r.a.createElement(Yt,{item:e,key:t,history:n,loadPosts:f})}))):r.a.createElement("div",null,r.a.createElement("div",{style:{position:"relative",left:"50%",transform:"translateX(-50%)",width:200,height:100}}),r.a.createElement("div",{style:{position:"relative",left:"50%",transform:"translateX(-50%)",width:200,height:200,background:"url('https://static.thenounproject.com/png/603669-200.png') no-repeat center"}}),r.a.createElement("div",{style:{position:"relative",left:"50%",transform:"translateX(-50%)",width:200,height:100,textAlign:"center"}},r.a.createElement(at.a,null,t.currLang.texts.NoDreams)))))),r.a.createElement(pe.a,{item:!0,xs:1,zeroMinWidth:!0,className:c.mainGridBodyItem},r.a.createElement(pe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",spacing:1},r.a.createElement(pe.a,{item:!0,xs:6,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"secondary",className:c.actionButton,onClick:function(){n.push("/luciddreams")}},t.currLang.buttons.close)),r.a.createElement(pe.a,{item:!0,xs:6}))))))})),Jt=a(535),qt=a(221),Kt=a(570),Xt=a(563),$t=a(172),Zt=a.n($t),Qt=a(213),ea=a.n(Qt),ta={current:"Ru",buttons:{signIn:"\u0412\u0445\u043e\u0434",signUp:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",dreamJoirnal:"\u0414\u043d\u0435\u0432\u043d\u0438\u043a \u0441\u043d\u043e\u0432",addDream:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043d",addCDream:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0441\u043e\u0437\u043d\u0430\u043d\u043d\u044b\u0439 \u0441\u043e\u043d",techniques:"\u0422\u0435\u0445\u043d\u0438\u043a\u0438",adventures:"\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",close:"\u041d\u0430\u0437\u0430\u0434",about:"\u041e \u043d\u0430\u0441",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",Edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",Delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",Save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},texts:{about:"\u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441",or:"\u0418\u041b\u0418",nickname:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f",password:"\u041f\u0430\u0440\u043e\u043b\u044c",passwordAgain:"\u041f\u043e\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",sucessRegistration:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c",hello:"\u041f\u0440\u0438\u0432\u0435\u0442, ",changleLanguage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430 \u043d\u0430 ",success:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",content:"\u0427\u0442\u043e \u0441\u043d\u0438\u043b\u043e\u0441\u044c",tags:"\u041c\u0435\u0441\u0442\u0430",technics:"\u0422\u0435\u0445\u043d\u0438\u043a\u0438",rating:"\u0420\u0435\u0430\u043b\u0438\u0441\u0442\u0438\u0447\u043d\u043e\u0441\u0442\u044c",Dream:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u0441\u043e\u043d",Cdream:"\u041eC",NoDreams:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043d\u043e\u0432",pickDate:"\u0414\u0430\u0442\u0430",pickTime:"\u0412\u0440\u0435\u043c\u044f",TapToShow:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0442\u0435\u043a\u0441\u0442, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e\u0434\u0441\u0432\u0435\u0447\u0438\u0432\u0430\u043d\u0438\u0435",Public:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e",Publish:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",Unpublish:"\u0421\u043a\u0440\u044b\u0442\u044c",PublicAlert:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u043d?",PublicText:"\u041f\u043e\u0441\u043b\u0435 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0432\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u0441\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043e\u043d.",PublicDescription:"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043e\u043d",UnpublicAlert:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043a\u0440\u044b\u0442\u044c \u0441\u043e\u043d?",UnpublicText:"\u041f\u043e\u0441\u043b\u0435 \u0441\u043a\u0440\u044b\u0442\u0438\u044f \u0432\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u043d\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043e\u043d.",UnpublicDescription:"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043e\u043d",DeleteAlert:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u043d?",DeleteText:"\u041f\u043e\u0441\u043b\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u043d \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c. \u041d\u0438\u043a\u043e\u0433\u0434\u0430."},errors:{emailLenght:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",nicknameLenght:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f",passwordLenght:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",password2Lenght:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",passwordsCompare:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442",UserNotExist:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",EmailIsNotValid:"\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",IncorrectPassword:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",EmailIsBusy:"Email \u0437\u0430\u043d\u044f\u0442",PasswordLenght5Symbols:"\u0414\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f - \u0431\u043e\u043b\u044c\u0448\u0435 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",NotLogin:"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u044b",EmptyTitle:"\u041f\u0443\u0441\u0442\u043e\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",EmptyDream:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441\u043d\u0430",NoChanges:"\u041d\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",CantDeletePost:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u043d\u0430"}};function aa(e){return r.a.createElement(Xt.a,Object.assign({},e,{direction:"down"}))}var na=Object(c.b)((function(e){return{lang:e.lang,themeMode:e.themeMode,auth:e.auth}}),(function(e){return{setCurrLangAction:function(t){return e(Q(t))},setTheme:function(t){return e({type:(a=t).type,palette:a.palette});var a},setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Je(),a=e.lang,n=e.themeMode,i=e.auth,o=e.history,c=e.setCurrLangAction,s=e.setTheme,l=e.setSnackbar,u=Object(ye.a)(n),m=r.a.useState(void 0),d=Object($.a)(m,2),p=d[0],g=d[1],b=r.a.useState(!1),f=Object($.a)(b,2),h=f[0],y=f[1],E=r.a.useState(""),v=Object($.a)(E,2),k=v[0],j=v[1],D=r.a.useState(void 0),N=Object($.a)(D,2),L=N[0],C=N[1],S=function(e){e!==a.currLang.current&&("Ru"===e&&(g(a.currLang.current),c(ta),j(e),C((function(){return aa})),y(!0)),"En"!==a.currLang.current&&(g(a.currLang.current),c(x),j(e),C((function(){return aa})),y(!0)))},P=function(){switch(p){case"En":c(x);break;case"Ru":c(ta);break;default:c(x)}y(!1)};return r.a.useEffect((function(){var e={id:i.user.id};qe.post("/actions/users/getuserdata",e).then((function(e){0===e.data.language?c(x):c(ta)})).catch((function(e){0===i.user.language?c(x):c(ta)}))}),[t,s,c,i.user.language,i.user.times_mode,i.user.id]),r.a.createElement(Ee.a,{theme:u},r.a.createElement(ce.a,null),r.a.createElement(Kt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:"top, center",open:h,TransitionComponent:L},r.a.createElement(Jt.a,{"aria-describedby":"lang-snackbar",message:r.a.createElement(at.a,{className:t.mainGridContainer,align:"center",id:"lang-snackbar",variant:"body2"},a.currLang.texts.changleLanguage+k+" ?"),action:[r.a.createElement("div",{key:"lang-snackbar-buttons"},r.a.createElement(jt.a,{key:"save","aria-label":"save",color:"inherit",onClick:function(){var e;switch(a.currLang.current){case"En":e=0;break;case"Ru":e=1;break;default:e=0}var t={language:e,id:i.user.id,nickname:i.user.nickname};X()?qe.post("/actions/users/updateuserdata",t).then((function(e){l({type:O,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),y(!1)})).catch((function(e){P()})):(l({type:O,snackbar:{open:!0,variant:"error",message:a.currLang.errors.NotLogin}}),P())}},r.a.createElement(ea.a,null)),r.a.createElement(jt.a,{key:"close","aria-label":"close",color:"inherit",onClick:P},r.a.createElement(Zt.a,null)))]})),r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.mainPage},r.a.createElement(pe.a,{className:t.mainGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:4,className:t.mainGridHeadItem},r.a.createElement(pe.a,{container:!0,className:t.mainGridContainer,direction:"row",justify:"space-around",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:4},r.a.createElement(qt.a,{className:t.AstronautButton,type:"button",focusRipple:!0,onClick:function(){alert("\u0422\u0443\u0442 \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043a\u043e\u0441\u043c\u043e\u043d\u0430\u0444\u0442\u0430")}},r.a.createElement("div",{className:t.AstronautDiv},r.a.createElement("div",{className:t.AstronautImg,style:"light"===n.palette.type?{filter:"invert(0)"}:{filter:"invert(1)"}})))),r.a.createElement(pe.a,{item:!0,xs:4},r.a.createElement(qt.a,{className:t.image,type:"button",focusRipple:!0,onClick:function(){var e="light"===n.palette.type?"dark":"light",t="light"===n.palette.type?"#f9a825":"#3f51b5",a=(n.palette.type,"#f50057");s({type:w,palette:{type:e,primary:{main:t},secondary:{main:a}}})}},r.a.createElement("div",{className:t.SkyDiv},r.a.createElement("div",{className:t.SunSrc,style:"dark"===n.palette.type?{transform:"translateY(36vw)"}:{transform:"translateY(0)"}}),r.a.createElement("div",{className:t.MoonSrc,style:"dark"===n.palette.type?{transform:"translateY(0)"}:{transform:"translateY(-36vw)"}})))),r.a.createElement(pe.a,{item:!0,xs:4},r.a.createElement(qt.a,{className:t.MapButton,type:"button",focusRipple:!0,onClick:function(){alert("\u0422\u0443\u0442 \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043a\u0430\u0440\u0442\u044b")}},r.a.createElement("div",{className:t.MapDiv},r.a.createElement("div",{className:t.MapImg,style:"light"===n.palette.type?{filter:"invert(0)"}:{filter:"invert(1)"}})))))),r.a.createElement(pe.a,{item:!0,xs:1,className:t.mainGridHeadItem},r.a.createElement(pe.a,{className:t.mainGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:12,className:t.menuButtonContainerItem},r.a.createElement(at.a,{className:t.mainGridContainer,align:"center",variant:"h6"},a.currLang.texts.hello+i.user.nickname)))),r.a.createElement(pe.a,{item:!0,xs:6,className:t.mainGridBodyItem},r.a.createElement(pe.a,{className:t.mainGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{className:t.menuButtonContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:12,className:t.menuButtonContainerItem},r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.menuButton,onClick:function(){X()?o.push("/dreams"):o.push("/")}},a.currLang.buttons.dreamJoirnal)),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.menuButton,onClick:function(){X()?o.push("/addregulardream"):o.push("/")}},a.currLang.buttons.addDream)),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.menuButton,onClick:function(){X()?o.push("/addcdream"):o.push("/")}},a.currLang.buttons.addCDream)),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.menuButton},a.currLang.buttons.techniques)),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.menuButton},a.currLang.buttons.adventures)))))),r.a.createElement(pe.a,{item:!0,xs:1,className:t.mainGridFooterItem},r.a.createElement(pe.a,{className:t.menuButtonContainerFooterLanguageButtons,container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(pe.a,{item:!0},r.a.createElement(ue.a,{onClick:function(){S("Ru")}},"RU")),r.a.createElement(pe.a,{item:!0},r.a.createElement(ue.a,{onClick:function(){S("En")}},"EN"))))))))})),ra=a(529),ia=a(337),oa=a(336),ca=a.n(oa);function sa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function la(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ua=r.a.forwardRef((function(e,t){return r.a.createElement(Xt.a,Object.assign({direction:"up",ref:t},e))}));var ma=Object(c.b)((function(e){return{themeMode:e.themeMode,lang:e.lang}}),(function(e){return{setCurrLang:function(t){return e(Q(t))},setUserState:function(t){return e({type:(a=t).type,payload:a.payload});var a},setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Je(),a=e.history,n=e.themeMode,i=e.lang,o=e.setUserState,c=e.setSnackbar,s=e.setCurrLang,l=Object(ye.a)(n),u=r.a.useState({email:"",password:""}),m=Object($.a)(u,2),d=m[0],p=m[1],f=r.a.useState({email:"",nickname:"",password:"",password2:""}),h=Object($.a)(f,2),y=h[0],E=h[1],v=r.a.useState({emailErr:!1,emailErrText:"",nicknameErr:!1,nicknameErrText:"",passwordErr:!1,passwordErrText:"",password2Err:!1,password2ErrText:""}),w=Object($.a)(v,2),k=w[0],j=w[1],D=r.a.useState(!1),N=Object($.a)(D,2),L=N[0],C=N[1],S=r.a.useState(!1),P=Object($.a)(S,2),I=P[0],B=P[1],T=r.a.useState(!1),A=Object($.a)(T,2),R=A[0],_=A[1],M=r.a.useState(!1),G=Object($.a)(M,2),W=G[0],U=G[1],z=r.a.useState({mainPage:!0,aboutPage:!1}),F=Object($.a)(z,2),H=F[0],Y=F[1],J=function(e){e.preventDefault()},q=function(){var e=!1,t=k;0===y.email.length&&(t=la({},t,{emailErr:!0}),t=la({},t,{emailErrText:i.currLang.errors.emailLenght}),e=!0),0===y.nickname.length&&(t=la({},t,{nicknameErr:!0}),t=la({},t,{nicknameErrText:i.currLang.errors.nicknameLenght}),e=!0),0===y.password.length&&(t=la({},t,{passwordErr:!0}),t=la({},t,{passwordErrText:i.currLang.errors.passwordLenght}),e=!0),0===y.password2.length&&(t=la({},t,{password2Err:!0}),t=la({},t,{password2ErrText:i.currLang.errors.password2Lenght}),e=!0),y.password!==y.password2&&(t=la({},t,{passwordErr:!0}),t=la({},t,{passwordErrText:i.currLang.errors.passwordsCompare}),t=la({},t,{password2Err:!0}),t=la({},t,{password2ErrText:i.currLang.errors.passwordsCompare}),e=!0),e?(j(t),C(!1)):qe.post("/actions/users/register",y).then((function(e){c({type:O,snackbar:{open:!0,variant:"success",message:i.currLang.texts.sucessRegistration}});var t=y;t=la({},t,{email:""}),t=la({},t,{nickname:""}),t=la({},t,{password:""}),t=la({},t,{password2:""}),E(t),X("closeRegist"),X("openLogin"),C(!1)})).catch((function(e){var t="";o({type:g,payload:e.response.data}),"EmailIsBusy"===e.response.data.email&&(t=i.currLang.errors.EmailIsBusy),"PasswordLenght5Symbols"===e.response.data.password&&(t=i.currLang.errors.PasswordLenght5Symbols),c({type:O,snackbar:{open:!0,variant:"error",message:t}}),C(!1)}))},X=function(e){var t=H;switch(e){case"useVk":break;case"openLogin":_(!0);break;case"openRegist":U(!0);break;case"closeLogin":_(!1),B(!1);break;case"closeRegist":U(!1),B(!1);break;case"signIn":C(!0),qe.post("/actions/users/login",d).then((function(e){var t=e.data.token;localStorage.setItem("jwtToken",t),K(t);var n=V()(t);o({type:b,payload:n}),C(!1),a.push("/luciddreams")})).catch((function(e){var t="";"UserNotExist"===e.response.data.email&&(t=i.currLang.errors.UserNotExist),"EmailIsNotValid"===e.response.data.email&&(t=i.currLang.errors.EmailIsNotValid),"IncorrectPassword"===e.response.data.passwordincorrect&&(t=i.currLang.errors.IncorrectPassword),c({type:O,snackbar:{open:!0,variant:"error",message:t}}),C(!1)}));break;case"signUp":C(!0),q();break;case"openAboutPage":t=la({},t,{aboutPage:!0}),t=la({},t,{mainPage:!1}),Y(t);break;case"closeAboutPage":t=la({},t,{aboutPage:!1}),t=la({},t,{mainPage:!0}),Y(t)}},Z=function(e){s("Ru"===e?ta:x)};return r.a.createElement(Ee.a,{theme:l},r.a.createElement(ce.a,null),r.a.createElement("div",{className:t.root,id:"rootDiv"},r.a.createElement("div",{className:t.mainPage,style:!0===H.mainPage?{transform:"translateY(0%)"}:{transform:"translateY(-100%)"}},r.a.createElement(pe.a,{className:t.mainGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:11,className:t.mainGridBodyItem},r.a.createElement(pe.a,{className:t.menuButtonContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(pe.a,{item:!0,xs:3}),r.a.createElement(pe.a,{item:!0,xs:6,className:t.menuButtonContainerItem},r.a.createElement(St.a,{open:R,TransitionComponent:ua,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Ot.a,{id:"alert-dialog-slide-title"},i.currLang.buttons.signIn),r.a.createElement(Et.a,null,r.a.createElement(pe.a,{item:!0,xs:12,className:t.menuButtonContainerItem},r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(se.a,{className:t.textField,id:"email-field",type:"email",label:"Email",onBlur:function(e){!function(e){var t=d;t=la({},t,{email:e.target.value}),p(t)}(e)}})),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(se.a,{id:"password-field",className:t.textField,type:I?"text":"password",label:i.currLang.texts.password,onBlur:function(e){!function(e){var t=d;t=la({},t,{password:e.target.value}),p(t)}(e)},InputProps:{endAdornment:r.a.createElement(ra.a,{position:"end"},r.a.createElement(jt.a,{tabIndex:"-1",edge:"end","aria-label":"toggle password visibility",onClick:function(){B(!I)},onMouseDown:J},I?r.a.createElement(Tt.a,null):r.a.createElement(Mt.a,null)))}})),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(at.a,null,i.currLang.texts.or)),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(jt.a,{className:t.button,onClick:function(){X("useVk")},disabled:L},r.a.createElement(ca.a,{path:ia.a,size:2,color:"light"===n.palette.type?"rgba(0, 0, 0, 0.54)":"rgba(255, 255, 255, 1)"})))),L?r.a.createElement(oe.a,null):""),L?"":r.a.createElement(vt.a,null,r.a.createElement(ue.a,{onClick:function(){X("closeLogin")},color:"secondary",disabled:L},i.currLang.buttons.cancel),r.a.createElement(ue.a,{onClick:function(){X("signIn")},color:"primary",disabled:L},i.currLang.buttons.signIn))),r.a.createElement(St.a,{open:W,TransitionComponent:ua,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Ot.a,{id:"alert-dialog-slide-title"},i.currLang.buttons.signUp),r.a.createElement(Et.a,null,r.a.createElement(pe.a,{item:!0,xs:12,className:t.menuButtonContainerItem},r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(se.a,{error:k.emailErr,helperText:k.emailErrText,className:t.textField,id:"reg-email-field",type:"email",label:"Email",onBlur:function(e){!function(e){var t=k;t=la({},t,{emailErr:!1}),t=la({},t,{emailErrText:""}),j(t);var a=y;a=la({},a,{email:e.target.value}),E(a)}(e)}})),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(se.a,{error:k.nicknameErr,helperText:k.nicknameErrText,className:t.textField,id:"reg-nickname-field",type:"text",label:i.currLang.texts.nickname,onBlur:function(e){!function(e){var t=k;t=la({},t,{nicknameErr:!1}),t=la({},t,{nicknameErrText:""}),j(t);var a=y;a=la({},a,{nickname:e.target.value}),E(a)}(e)}})),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(se.a,{error:k.passwordErr,helperText:k.passwordErrText,id:"reg-password-field",className:t.textField,type:I?"text":"password",label:i.currLang.texts.password,onBlur:function(e){!function(e){var t=k;t=la({},t,{passwordErr:!1}),t=la({},t,{passwordErrText:""}),t=la({},t,{password2Err:!1}),t=la({},t,{password2ErrText:""}),j(t);var a=y;a=la({},a,{password:e.target.value}),E(a)}(e)},InputProps:{endAdornment:r.a.createElement(ra.a,{position:"end"},r.a.createElement(jt.a,{tabIndex:"-1",edge:"end","aria-label":"toggle password visibility",onClick:function(){B(!I)},onMouseDown:J},I?r.a.createElement(Tt.a,null):r.a.createElement(Mt.a,null)))}})),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(se.a,{error:k.password2Err,helperText:k.password2ErrText,id:"reg-password2-field",className:t.textField,type:I?"text":"password",label:i.currLang.texts.passwordAgain,onBlur:function(e){!function(e){var t=k;t=la({},t,{passwordErr:!1}),t=la({},t,{passwordErrText:""}),t=la({},t,{password2Err:!1}),t=la({},t,{password2ErrText:""}),j(t);var a=y;a=la({},a,{password2:e.target.value}),E(a)}(e)},InputProps:{endAdornment:r.a.createElement(ra.a,{position:"end"},r.a.createElement(jt.a,{tabIndex:"-1",edge:"end","aria-label":"toggle password visibility",onClick:function(){B(!I)},onMouseDown:J},I?r.a.createElement(Tt.a,null):r.a.createElement(Mt.a,null)))}}))),L?r.a.createElement(oe.a,null):""),L?"":r.a.createElement(vt.a,null,r.a.createElement(ue.a,{onClick:function(){X("closeRegist")},color:"secondary",disabled:L},i.currLang.buttons.cancel),r.a.createElement(ue.a,{onClick:function(){X("signUp")},color:"primary",disabled:L},i.currLang.buttons.signUp))),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.menuButton,onClick:function(){X("openLogin")}},i.currLang.buttons.signIn)),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.menuButton,onClick:function(){X("openRegist")}},i.currLang.buttons.signUp)),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"}),r.a.createElement(pe.a,{item:!0,xs:2,className:t.menuDivButton,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.menuButton,onClick:function(){return X("openAboutPage")}},i.currLang.buttons.about))),r.a.createElement(pe.a,{item:!0,xs:3}))),r.a.createElement(pe.a,{item:!0,xs:1,className:t.mainGridFooterItem},r.a.createElement(pe.a,{className:t.menuButtonContainerFooterLanguageButtons,container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(pe.a,{item:!0},r.a.createElement(ue.a,{onClick:function(){Z("Ru")}},"RU")),r.a.createElement(pe.a,{item:!0},r.a.createElement(ue.a,{onClick:function(){Z("En")}},"EN")))))),r.a.createElement("div",{className:t.aboutPage,style:!0===H.aboutPage?{transform:"translateY(-100%)"}:{transform:"translateY(0%)"}},r.a.createElement(pe.a,{className:t.aboutGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch",spacing:5},r.a.createElement(pe.a,{item:!0,className:t.aboutGridItem,align:"center"},r.a.createElement(me.a,{className:t.aboutPaper},r.a.createElement(at.a,null,i.currLang.texts.about))),r.a.createElement(pe.a,{item:!0,className:t.aboutGridItem,align:"center"},r.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.menuButton,onClick:function(){return X("closeAboutPage")}},i.currLang.buttons.close))))))})),da=a(281),pa=a(282),ga=Object(je.a)((function(e){return{success:{backgroundColor:da.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:pa.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function ba(e){var t=ga(),a=e.className,n=e.message,i=e.onClose,o=e.variant,c=Ye[o];return r.a.createElement(Jt.a,{className:Object(Z.a)(t[o],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(c,{className:Object(Z.a)(t.icon,t.iconVariant)}),r.a.createElement(at.a,{className:t.mainGridContainer,align:"center",variant:"body2"},n)),action:[r.a.createElement(jt.a,{key:"close","aria-label":"close",color:"inherit",onClick:i},r.a.createElement(Zt.a,{className:t.icon}))]})}var fa=Object(c.b)((function(e){return{open:e.snackbar.snackbar.open,variant:e.snackbar.snackbar.variant,message:e.snackbar.snackbar.message}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Je(),a=e.open,n=e.variant,i=e.message,o=r.a.useState(!1),c=Object($.a)(o,2),l=c[0],u=c[1],m=r.a.useState(""),d=Object($.a)(m,2),p=d[0],g=d[1],b=r.a.useState(""),f=Object($.a)(b,2),h=f[0],y=f[1],E=function(t,a){"clickaway"!==a&&(u(!1),e.setSnackbar({type:O,snackbar:{open:!1,variant:p,message:h}}))};return r.a.useEffect((function(){g(n),y(i),u(a)}),[a,n,i]),r.a.createElement("div",null,r.a.createElement(Kt.a,{open:l,onClose:E,autoHideDuration:3e3},r.a.createElement(ba,{className:t.margin,onClose:E,variant:p,message:h})),r.a.createElement(s.b,{exact:!0,path:"/",component:ma}),r.a.createElement(s.d,null,r.a.createElement(ae,{exact:!0,path:"/luciddreams",component:na}),r.a.createElement(ae,{exact:!0,path:"/dreams",component:Vt}),r.a.createElement(ae,{exact:!0,path:"/addregulardream",component:Qe}),r.a.createElement(ae,{exact:!0,path:"/addcdream",component:gt})))})),ha=X(),ya=[],Ea=[];ha?u.push("/luciddreams"):(localStorage.removeItem("jwtToken"),K(!1),H.dispatch({type:b,payload:null}),u.push("/")),(new Date).getHours()>=16||(new Date).getHours()>=0&&(new Date).getHours()<6?H.dispatch({type:w,palette:{type:"dark",primary:{main:"#f9a825"},secondary:{main:"#f50057"},error:{main:"#cc0000"}}}):H.dispatch({type:w,palette:{type:"light",primary:{main:"#3f51b5"},secondary:{main:"#f50057"},error:{main:"#cc0000"}}});var va=Object(c.b)((function(e){return{type:e.themeMode.palette.type}}),(function(e){return{}}))((function(e){var t=e.type,a=Je();ya=[],Ea=[];for(var n=0;n<He.amountStars;n++){var i=0===Math.round(10*Math.random())?He.size.giant:Ve(He.size.min,He.size.max);ya.push(r.a.createElement("div",{className:a.AppStar,key:n+"AppStar",style:{left:Ve(0,100)+"%",top:Ve(0,100)+"%",width:i+"px",height:i+"px",boxShadow:"0 0 "+i+"px "+i/2+"px #043668",animationDuration:Ve(He.duration.min,He.duration.max)+"s"}}))}for(var o=0;o<He.amountClouds;o++){var c=Math.round(50*Math.random()+90),l=Math.round(100*Math.random()/100*90),m=1.5*Math.random()-.5,d=90*Math.random()/100,p=30*Math.random()+15;Ea.push(r.a.createElement("div",{className:a.AppCloud,key:o+"AppCloud",style:{left:c+"%",top:l+"%",width:"400px",height:"100px",transform:"scale("+m+")",opacity:d,animationDuration:p+"s"}}))}return r.a.createElement(s.c,{history:u},r.a.createElement("div",{className:a.AppDivDark},r.a.createElement("div",{className:a.AppDivLight,style:"light"===t?{opacity:1}:{opacity:0}}),"light"===t?r.a.createElement("div",{className:a.AppCloudsDiv,style:"light"===t?{opacity:1}:{opacity:0}},Ea):r.a.createElement("div",{className:a.AppStarsDiv,style:"light"===t?{opacity:0}:{opacity:1}},ya)),r.a.createElement(fa,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement("div",{id:"global",style:{overflow:"auto",height:"100%",position:"relative"}},r.a.createElement(c.a,{store:H},r.a.createElement(va,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[353,1,2]]]);
//# sourceMappingURL=main.70ccdae9.chunk.js.map