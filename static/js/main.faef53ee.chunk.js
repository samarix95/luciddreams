(this.webpackJsonplucid_dream=this.webpackJsonplucid_dream||[]).push([[0],{411:function(e,t,a){e.exports=a.p+"static/media/map.71ce46a8.png"},412:function(e,t,a){e.exports=a.p+"static/media/sun.4f817e2f.png"},413:function(e,t,a){e.exports=a.p+"static/media/moon.ca0fb531.png"},414:function(e,t,a){e.exports=a.p+"static/media/astronaut.7219d35a.png"},415:function(e,t,a){e.exports=a.p+"static/media/cloud.7fb181bd.svg"},443:function(e,t,a){e.exports=a(789)},448:function(e,t,a){},453:function(e,t,a){},789:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),o=(a(448),a(20)),s=a(852),l=(a(453),a(80)),u=Object(l.a)(),m=a(108),d=a(409),p=a(7),g="GET_ERRORS",h="SET_CURRENT_USER",f="SET_CLOUD",b="CLEAR_CLOUD",E="SET_STAR",y="CLEAR_STAR",v="SET_LANG",O="SET_THEME_MODE",w="SET_SNACKBAR_MODE",j={current:"En",buttons:{signIn:"Sign in",signUp:"Sign up",dreamJoirnal:"Dream joirnal",addDream:"Add dream",addCDream:"Add C-dream",techniques:"Techniques",adventures:"Adventures",close:"Back",about:"About us",cancel:"Cancel",add:"Add",Edit:"Edit",Delete:"Delete",Save:"Save",addTag:"New loc"},texts:{about:"About us About us About us About us About us About us About us About us About us About us ",Nothink:"Nothink",nickname:"Nickname",password:"Password",passwordAgain:"Password again",cancel:"Cancel",sucessRegistration:"You are sign up successful",hello:"Hello, ",changleLanguage:"Save change language to ",success:"Success",title:"Title",description:"Description",content:"What's a dream",tags:"Locations",dreams:"Dreams",technics:"Technics",rating:"Realistics",Dream:"Regular dream",Cdream:"C-dream",NoDreams:"You don't have dreams",pickDate:"Date",pickTime:"Time",TapToShow:"Tap on text to show highlights",Public:"Public",Publish:"Unpublish",Unpublish:"Publish",PublicAlert:"Are you sure you want to public the dream?",PublicText:"After public your friends can read this dream.",PublicDescription:"Your friends can read this dream",UnpublicAlert:"Are you sure you want to unpublic the dream?",UnpublicText:"After unpublic your friends can't read this dream.",UnpublicDescription:"Your friends can't read this dream",DeleteAlert:"Are you sure you want to remove?",DeleteText:"You can't restore data.",Name:"Name",ChangeIcon:"Icon",FindIcon:"Search icon"},errors:{emailLenght:"Email must not be empty",nicknameLenght:"Nickname must not be empty",passwordLenght:"Password must not be empty",password2Lenght:"Password must not be empty",passwordsCompare:"Passwords not equal",UserNotExist:"Invalid email or password",EmailIsNotValid:"Invalid email",IncorrectPassword:"Invalid email or password",EmailIsBusy:"Email is busy",PasswordLenght5Symbols:"Minimum password length: 5 symbols",NotLogin:"You not loggin in",EmptyName:"Name must not be empty",EmptyTitle:"Title must not be empty",EmptyDescription:"Description must not be empty",EmptyDream:"Dream must not be empty",NoChanges:"No changes",CantDeletePost:"Error deleting dream",CantAddLocation:"Error add location",CantUpdateLocation:"Error update location",IconNotChange:"Change icon",ColorNotChange:"Change color"}};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var N={currLang:j};var x=a(17);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S={clouds:[]};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P={stars:[]};function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var _={palette:{type:"dark",primary:{main:"#f9a825"},secondary:{main:"#f50057"},error:{main:"#cc0000"}}};function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R=a(454),M={isAuthenticated:!1,user:{},loading:!1},G={};function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var W={snackbar:{open:!1,variant:"",message:""}};var z=Object(m.c)({lang:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{currLang:t.currLangState});default:return e}},clouds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return C({},e,{clouds:[].concat(Object(x.a)(e.clouds),[t.cloudState])});case b:return C({},e,{clouds:[]});default:return e}},stars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return I({},e,{stars:[].concat(Object(x.a)(e.stars),[t.starState])});case y:return I({},e,{stars:[]});default:return e}},themeMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{palette:t.palette});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return A({},e,{isAuthenticated:!R(t.payload),user:t.payload});case"USER_LOADING":return A({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{snackbar:t.snackbar});default:return e}}}),F=[d.a],H=Object(m.d)(z,{},m.a.apply(void 0,F)),J=a(202),q=a.n(J),V=a(156),Y=a.n(V),K=function(e){e?Y.a.defaults.headers.common.Authorization=e:delete Y.a.defaults.headers.common.Authorization};function X(){if(localStorage.jwtToken){var e=localStorage.jwtToken;K(e);var t=q()(e);H.dispatch({type:h,payload:t});var a=Date.now()/1e3;return!(t.exp<a)}}var Z=a(8),$=a(2);function Q(e){return{type:v,currLangState:e}}function ee(e){return{type:e.type,snackbar:e.snackbar}}var te=a(3),ae=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(te.a)(e,["component","auth"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/"})}}))})),ne=a(827),re=a(828),ce=a(138),ie=a(854),oe=a(823),se=a(829),le=a(422),ue=a.n(le),me=a(128),de=a.n(me),pe=Y.a.create({baseURL:"https://ldserver.herokuapp.com",timeout:1e4,headers:{"Access-Control-Allow-Origin":"*"}}),ge=a(199),he=a(826),fe=a(272),be=a(279),Ee=a(50),ye=a(825),ve=a(428),Oe=a(810),we=a(853),je=a(209),ke=a.n(je),Ne=a(44),xe=a(416),De=a.n(xe),Ce=a(417),Se=a.n(Ce),Le=a(418),Ie=a.n(Le),Pe=a(419),Be=a.n(Pe),_e=a(411),Te=a.n(_e),Ae=a(412),Re=a.n(Ae),Me=a(413),Ge=a.n(Me),Ue=a(414),We=a.n(Ue),ze=a(415),Fe=a.n(ze),He={amountStars:25,amountClouds:5,size:{min:1,max:5,giant:9},duration:{min:5,max:25}},Je={success:De.a,warning:Se.a,error:Ie.a,info:Be.a};function qe(e,t){return e+Math.random()*(t-e)}var Ve=Object(Ne.a)((function(e){return{formControl:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"auto",height:"auto"},SwipeableViews:{position:"relative",height:"90%","& .react-swipeable-view-container":{height:"100% !Important"}},media:{height:140},iconCenter:{display:"block",margin:"auto"},dreamCardDiv:{marginTop:"15px",marginBottom:"15px",width:"100%",height:"auto",borderRadius:"4px"},divDreamsNotFoundImg:{background:"url('https://static.thenounproject.com/png/603669-200.png') no-repeat center"},divDreamsNotFound:{position:"relative",left:"50%",transform:"translateX(-50%)",width:200,height:100,textAlign:"center"},contentPaper:{backgroundColor:e.palette.text.main,padding:10},pickerGridContainer:{position:"relative",width:"85%",left:"50%",transform:"translateX(-50%)",marginBottom:"5px"},div85width:{position:"relative",width:"85%",top:"65%",left:"50%",transform:"translate(-50%, -50%)"},ratingGridContainer:{position:"relative",width:"100%",top:"65%",left:"50%",transform:"translate(-50%, -50%)"},pickers:{position:"relative",width:"90%",left:"50%",transform:"translateX(-50%)"},avatarRoot:{textAlign:"center",width:"100%"},verySmallAvatar:{margin:e.spacing(1),width:e.spacing(3),height:e.spacing(3),display:"inline-flex !Important"},smallAvatar:{margin:e.spacing(.5),width:e.spacing(5),height:e.spacing(5),display:"inline-flex !Important"},smallChip:{margin:e.spacing(.5)},mainGridDreamsBodyItemContainer:{paddingTop:"16px",position:"absolute",boxSizing:"border-box",maxHeight:"90%",overflow:"auto",borderRadius:"4px"},mainGridDreamsBodyItemContainerPaper:{height:"100%",opacity:.9},hiddenOverflow:{overflow:"hidden"},mainGridDreamsContainer:{height:"100%",position:"relative",width:"90%",left:"50%",transform:"translateX(-50%)"},card:{maxWidth:"100%",height:"100%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},textField:{width:"100%"},margin:{margin:e.spacing(1)},root:{flexGrow:1,position:"relative",width:"100%",height:window.innerHeight-.1,overflow:"hidden"},mainPage:{top:0,left:0,position:"absolute",transition:"all 0.3s linear",width:"100%",height:"100%"},aboutPage:{position:"absolute",transition:"all 0.3s linear",top:"100%",width:"100%",height:"100%"},AppDivDark:{position:"fixed",background:"radial-gradient(ellipse at center, rgba(8, 25, 42, 1) 20%, rgba(1, 4, 6, 1) 100%)",opacity:1,margin:0,width:"100%",height:"100%",zIndex:-3},AppDivLight:{position:"absolute",background:"radial-gradient(ellipse at center, rgba(207, 225, 237, 1) 20%, rgba(127, 170, 202, 1) 100%)",transition:"opacity 0.5s linear",margin:0,opacity:0,width:"100%",height:"100%",zIndex:-3},AppStarsDiv:{transition:"opacity 0.5s linear",opacity:0,position:"absolute",width:"100%",height:"100%",overflow:"hidden",zIndex:-2},AppCloudsDiv:{transition:"opacity 0.5s linear",opacity:0,position:"absolute",width:"100%",height:"100%",overflow:"hidden",zIndex:-2},AppStar:{borderRadius:"100%",position:"absolute",background:"radial-gradient(ellipse at center, rgba(177, 198, 219, 1) 2%, rgba(5, 63, 118, 1) 100%)",filter:"blur(1px)",animation:"$shine infinite alternate",zIndex:-1},AppCloud:{position:"absolute",backgroundRepeat:"no-repeat",backgroundImage:"url("+Fe.a+")",animation:"$moveclouds infinite linear",zIndex:-1},image:{position:"relative",left:"50%",top:"25%",transform:"translate(-50%, -25%)",width:"35vw !important",height:"35vw",borderRadius:"50%"},SkyDiv:{position:"absolute",borderRadius:"50%",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"},MoonSrc:{backgroundSize:"cover",background:"url("+Ge.a+")",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:"all 0.3s linear"},SunSrc:{backgroundSize:"cover",background:"url("+Re.a+")",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:"all 0.3s linear"},AstronautButton:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"25vw !important",height:"25vw",borderRadius:"50%"},AstronautDiv:{position:"absolute",borderRadius:"50%",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",animation:"$swinging 30s infinite linear"},AstronautImg:{backgroundSize:"cover",background:"url("+We.a+")",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:"filter 0.5s linear"},MapButton:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"25vw !important",height:"25vw",borderRadius:"10%"},MapDiv:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",animation:"$swinging 30s infinite linear"},MapImg:{backgroundSize:"cover",background:"url("+Te.a+")",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:"filter 0.5s linear"},mainGridContainer:{height:"100% !Important",position:"relative"},mainGridBodyItem:{maxWidth:"100% !Important",position:"relative"},menuButtonContainer:{height:"100% !Important",position:"relative"},menuDivButton:{maxWidth:"100% !Important",position:"relative"},centerButton:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},menuButton:{minWidth:"55vw",maxWidth:"55vw",height:"75%"},actionButton:{minWidth:"40vw",maxWidth:"40vw"},poppupButton:{minWidth:"90%",maxWidth:"90%"},aboutGridContainer:{width:"100%",height:"100%",margin:0},fullMinWidth:{minWidth:"100% !Important",position:"relative"},inputDiv:{minWidth:"85% !Important",maxWidth:"85% !Important",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:1},inputScrollableDiv:{minWidth:"85% !Important",maxWidth:"85% !Important",height:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:1},noWrap:{flexWrap:"nowrap"},chip:{margin:1},aboutGridItem:{width:"100%"},paper:{height:"91%",marginTop:e.spacing(3),marginLeft:e.spacing(2),marginRight:e.spacing(2),opacity:.9},"@keyframes shine":{"0%":{transform:"scale(1)",opacity:"1"},"20%":{transform:"scale(.9)",opacity:".8"},"40%":{transform:"scale(1)",opacity:".9"},"60%":{transform:"scale(.2)",opacity:".1"},"80%":{transform:"scale(.5)",opacity:".5"},"100%":{transform:"scale(.9)",opacity:".9"}},"@keyframes moveclouds":{"100%":{left:"-100%"}},"@keyframes swinging":{"0%":{transform:"rotate(0)"},"10%":{transform:"rotate(12deg)"},"20%":{transform:"rotate(-10deg)"},"30%":{transform:"rotate(9deg)"},"40%":{transform:"rotate(-8deg)"},"50%":{transform:"rotate(7deg)"},"60%":{transform:"rotate(-6deg)"},"70%":{transform:"rotate(5deg)"},"80%":{transform:"rotate(-4deg)"},"90%":{transform:"rotate(3deg)"},"100%":{transform:"rotate(0)"}},height12:{height:"100%"},height11:{height:100/12*11-.1+"%"},height10:{height:100/12*10-.1+"%"},height9:{height:"74.9%"},height8:{height:100/12*8-.1+"%"},height7:{height:100/12*7-.1+"%"},height6:{height:"49.9%"},height5:{height:100/12*5-.1+"%"},height4:{height:100/12*4-.1+"%"},height3:{height:"24.9%"},height2:{height:100/12*2-.1+"%"},height1:{height:100/12*1-.1+"%"},height0:{height:"0%"}}}));var Ye=Object(o.b)((function(e){return{lang:e.lang,palette:e.themeMode.palette}}),(function(e){return{}}))((function(e){var t=Ve(),a=e.i,n=e.j,c=e.cellHeight,i=e.cellWidth,o=e.id,s=e.locations,l=e.palette,u=e.lang,m=e.loadMap,d=e.history,p=e.user_id,g=e.posts,h=r.a.useState(null),f=Object(Z.a)(h,2),b=f[0],E=f[1],y=r.a.useState(null),v=Object(Z.a)(y,2),O=v[0],w=v[1],j=r.a.useState(0),k=Object(Z.a)(j,2),N=k[0],x=k[1],D=Boolean(b),C=D?"simple-popover":void 0,S=O===o,L=function(e){var t=0;g.map((function(a){return a.tags.map((function(a){return parseInt(a[0])===e?t++:t+=0}))})),x(t)};return r.a.useEffect((function(){o&&w(o)}),[o]),r.a.createElement("td",{style:{height:c+"px",minWidth:i+"px",maxWidth:i+"px",padding:0,margin:0,transition:"all 0.1s",border:"1px rgb(128,128,128,0.8) solid"}},s.length?r.a.createElement("div",{className:t.aboutGridContainer,onClick:function(e){E(e.currentTarget),L(O)},style:"number"===typeof O?{backgroundImage:"url("+s.find((function(e){return e.id===O})).img_url+")",backgroundSize:"contain",backgroundColor:s.find((function(e){return e.id===O})).color,overflow:"hidden"}:{backgroundSize:"contain",backgroundColor:"rgb(192,192,192,0.6)",overflow:"hidden"}}):"",r.a.createElement(ve.a,{id:C,open:D,anchorEl:b,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height11),style:{padding:"16px"}},s.length?r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.height6)},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,xs:10,style:{textAlign:"center",position:"relative"}},r.a.createElement(Ee.a,{variant:"h6",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},"number"===typeof O?"Ru"===u.currLang.current?s.find((function(e){return e.id===O})).name_rus:s.find((function(e){return e.id===O})).name_eng:u.currLang.texts.Nothink)),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(be.a,{onClick:function(){d.push({pathname:"/addlocation",defaultData:{id:O,name_rus:s.find((function(e){return e.id===O})).name_rus,name_eng:s.find((function(e){return e.id===O})).name_eng,img_url:s.find((function(e){return e.id===O})).img_url,color:s.find((function(e){return e.id===O})).color,prevUrl:"/dreammap"}})},disabled:"number"!==typeof O},r.a.createElement(ke.a,{fontSize:"small"}))))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.height6)},r.a.createElement(oe.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center"},r.a.createElement(oe.a,{item:!0},r.a.createElement(fe.a,null,r.a.createElement(Oe.a,{value:"number"===typeof O?O:"",onChange:function(e){w(e.target.value),L(e.target.value)},MenuProps:{PaperProps:{style:{maxHeight:224,width:"auto"}}}},s.map((function(e,a){return r.a.createElement(ye.a,{key:a,value:e.id},r.a.createElement(we.a,{className:t.smallAvatar,src:e.id?e.img_url:"https://static.thenounproject.com/png/1446402-200.png",style:"dark"===l.type?{filter:"invert(1)"}:{}}))}))))),r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{disabled:0===N,onClick:function(){alert("\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c")}},u.currLang.texts.dreams,": ",N))))):""),r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height1)},r.a.createElement(oe.a,{className:t.menuDivButton,container:!0,direction:"row",justify:"space-around",alignItems:"stretch",style:{padding:"16px"}},r.a.createElement(oe.a,{item:!0,xs:6,align:"center"},r.a.createElement(ce.a,{className:t.poppupButton,variant:"contained",color:"secondary",onClick:function(){w(o),E(null)}},u.currLang.texts.cancel)),r.a.createElement(oe.a,{item:!0,xs:6,align:"center"},r.a.createElement(ce.a,{className:t.poppupButton,disabled:S,variant:"contained",color:"primary",onClick:function(){var e={user_id:p,i:a,j:n};e.oldLoc=o,e.newLoc=O,pe.post("/actions/users/updateusermap",e).then((function(e){})).catch((function(e){console.log(e)})),E(null),m()}},u.currLang.buttons.Save)))))))}));var Ke=Object(o.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,user_id:e.auth.user.id}}),(function(e){return{}}))((function(e){var t=e.lang,a=e.themeMode,n=e.history,c=e.user_id,i=Ve(),o=Object(ge.a)(a),s=r.a.useState(50),l=Object(Z.a)(s,2),u=l[0],m=l[1],d=r.a.useState({}),p=Object(Z.a)(d,2),g=p[0],h=p[1],f=r.a.useState(null),b=Object(Z.a)(f,2),E=b[0],y=b[1],v=r.a.useState(null),O=Object(Z.a)(v,2),w=O[0],j=O[1],k=r.a.useCallback((function(){pe.get("/gettags").then((function(e){h([{id:null}].concat(e.data))})).catch((function(e){console.log(e)})),pe.post("/actions/users/getusermap",{user_id:c}).then((function(e){y(JSON.parse(e.data.result))})).catch((function(e){console.log(e)}))}),[c]),N=r.a.useCallback((function(){pe.post("/actions/users/getuserposts",{id:c}).then((function(e){j(e.data)})).catch((function(e){}))}),[c]);return r.a.useEffect((function(){k(),N()}),[k,N]),r.a.createElement(he.a,{theme:o},r.a.createElement(ne.a,null),r.a.createElement("div",{className:i.root},r.a.createElement(oe.a,{container:!0,className:"".concat(i.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(i.hiddenOverflow," ").concat(i.height9)},r.a.createElement(re.a,{style:{paddingTop:"16px",height:"75%",width:"100%",position:"absolute"}},r.a.createElement("div",{style:{position:"relative",height:"100%",width:"100%",overflow:"auto"}},r.a.createElement("table",{style:{position:"relative",margin:"auto",borderCollapse:"collapse"}},r.a.createElement("tbody",null,null!==E?function(){var e=[],t=0,a=0;return Object.keys(E).forEach((function(i){var o=[];Object.keys(E[i]).forEach((function(e){o.push(r.a.createElement(Ye,{key:"cell"+t+a,i:t,j:a,cellHeight:.6*u,cellWidth:.6*u,dreamMap:E,id:E[i][e].id,locations:g,loadMap:k,history:n,user_id:c,posts:w})),t++})),e.push(r.a.createElement("tr",{key:"row"+a},o)),a++,t=0})),e}():r.a.createElement("tr",null,r.a.createElement("td",null))))))),r.a.createElement(oe.a,{item:!0,className:"".concat(i.mainGridBodyItem," ").concat(i.height2)},r.a.createElement(oe.a,{container:!0,className:i.mainGridContainer,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(oe.a,{item:!0,xs:1,align:"center"}),r.a.createElement(oe.a,{item:!0,xs:2,align:"center"},r.a.createElement(se.a,{size:"small",color:"secondary",onClick:function(){m(u-5)}},r.a.createElement(ue.a,null))),r.a.createElement(oe.a,{item:!0,xs:6,align:"center"},r.a.createElement(ie.a,{min:6,value:"number"===typeof u?u:0,onChange:function(e,t){m(t)}})),r.a.createElement(oe.a,{item:!0,xs:2,align:"center"},r.a.createElement(se.a,{size:"small",color:"primary",onClick:function(){m(u+5)}},r.a.createElement(de.a,null))),r.a.createElement(oe.a,{item:!0,xs:1,align:"center"}))),r.a.createElement(oe.a,{item:!0,className:"".concat(i.mainGridBodyItem," ").concat(i.height1)},r.a.createElement(oe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{className:i.actionButton,variant:"contained",color:"secondary",onClick:function(){n.push("/luciddreams")}},t.currLang.buttons.close)),r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{className:i.actionButton,variant:"contained",color:"primary",onClick:function(){n.push("/addlocation")}},t.currLang.buttons.add)))))))})),Xe=a(212),Ze=a.n(Xe),$e=a(423),Qe=a(831),et=a(797),tt=a(431),at=a(216),nt=a(849),rt=a(830);var ct=Object(o.b)((function(e){return{themeMode:e.themeMode,palette:e.themeMode.palette,lang:e.lang}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=e.lang,a=e.themeMode,n=e.history,c=e.palette,i=e.setSnackbar,o=Ve(),s=Object(ge.a)(a),l=r.a.useState(!1),u=Object(Z.a)(l,2),m=u[0],d=u[1],p=r.a.useState(0),g=Object(Z.a)(p,2),h=g[0],f=g[1],b=r.a.useState(""),E=Object(Z.a)(b,2),y=E[0],v=E[1],O=r.a.useState(!1),j=Object(Z.a)(O,2),k=j[0],N=j[1],x=r.a.useState([]),D=Object(Z.a)(x,2),C=D[0],S=D[1],L=r.a.useState(""),I=Object(Z.a)(L,2),P=I[0],B=I[1],_=r.a.useState(""),T=Object(Z.a)(_,2),A=T[0],R=T[1],M=r.a.useState(""),G=Object(Z.a)(M,2),U=G[0],W=G[1],z=r.a.useState(""),F=Object(Z.a)(z,2),H=F[0],J=F[1],q=r.a.useState(""),V=Object(Z.a)(q,2),Y=V[0],K=V[1];return r.a.useEffect((function(){if("undefined"!==typeof e.location.defaultData){if("number"===typeof e.location.defaultData.id){d(!0);var t=e.location.defaultData,a=t.name_rus,n=t.name_eng,r=t.img_url,c=t.color,i=t.prevUrl;W(a),R(n),J(r),K(c),v(i),N(!0),function e(t,a){pe.post("/actions/users/geticons",t).then((function(n){if(0===n.data.length)e(t,a);else{var r=[];r.push(a);var c=r.concat(n.data);S(c),N(!1)}}))}({name:n},r)}else{var o=e.location.defaultData.prevUrl;v(o)}}}),[e.location.defaultData]),r.a.createElement(he.a,{theme:s},r.a.createElement(ne.a,null),r.a.createElement("div",{className:o.root},r.a.createElement(oe.a,{container:!0,className:"".concat(o.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(o.mainGridBodyItem," ").concat(o.height11)},r.a.createElement(at.a,{className:o.paper},r.a.createElement(oe.a,{className:"".concat(o.height12),container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(o.mainGridBodyItem," ").concat(o.height5)},r.a.createElement(at.a,null,r.a.createElement(nt.a,{centered:!0,value:h,onChange:function(e,t){f(t)},indicatorColor:"primary",textColor:"primary"},r.a.createElement(rt.a,{label:"RU"}),r.a.createElement(rt.a,{label:"EN"}))),r.a.createElement(Ze.a,{className:o.SwipeableViews,animateHeight:!0,axis:"rtl"===s.direction?"x-reverse":"x",index:h,onChangeIndex:function(e){f(e)}},r.a.createElement(oe.a,{container:!0,className:"".concat(o.height12),direction:"column",justify:"center",alignItems:"center",role:"tabpanel"},r.a.createElement(oe.a,{item:!0,className:o.fullMinWidth},r.a.createElement(tt.a,{className:o.inputDiv,disabled:!!k,required:!0,id:"input-ru",value:U,label:t.currLang.texts.Name,variant:"outlined",onChange:function(e){W(e.target.value)}}))),r.a.createElement(oe.a,{container:!0,className:"".concat(o.height12),direction:"column",justify:"center",alignItems:"center",role:"tabpanel"},r.a.createElement(oe.a,{item:!0,className:o.fullMinWidth},r.a.createElement(tt.a,{className:o.inputDiv,disabled:!!k,required:!0,id:"input-en",value:A,label:t.currLang.texts.Name,variant:"outlined",onChange:function(e){R(e.target.value)}}))))),r.a.createElement(oe.a,{item:!0,className:"".concat(o.mainGridBodyItem," ").concat(o.height3)},r.a.createElement(oe.a,{className:"".concat(o.height12),container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(o.mainGridBodyItem," ").concat(o.height6)},r.a.createElement(tt.a,{className:o.inputDiv,disabled:!!k,value:P,id:"input-search",label:t.currLang.texts.FindIcon,variant:"outlined",onChange:function(e){var t=e.target.value,a=/[\u0430-\u044f\u0410-\u042f\u0451\u0401]/g;-1!==t.search(a)&&(t=t.replace(a,"")),B(t)},onBlur:function e(){if(0!==P.length){N(!0);var t={name:P.replace(/ /g,"%20")};pe.post("/actions/users/geticons",t).then((function(t){0===t.data.length?e():(S(t.data),N(!1))}))}}})),r.a.createElement(oe.a,{item:!0,className:"".concat(o.mainGridBodyItem," ").concat(o.height6)},r.a.createElement("div",{className:o.formControl},k?r.a.createElement(Qe.a,null):r.a.createElement(fe.a,{disabled:0===C.length},r.a.createElement(et.a,{id:"select-icon"},t.currLang.texts.ChangeIcon),r.a.createElement(Oe.a,{value:H,style:{minWidth:100},labelId:"select-icon",onChange:function(e){J(e.target.value)},MenuProps:{PaperProps:{style:{maxHeight:224,width:"auto"}}}},C.map((function(e,t){return r.a.createElement(ye.a,{key:t,value:e},r.a.createElement(we.a,{className:o.smallAvatar,src:e,style:"dark"===c.type?{filter:"invert(1)"}:{}}))})))))))),r.a.createElement(oe.a,{item:!0,className:"".concat(o.mainGridBodyItem," ").concat(o.height4)},r.a.createElement($e.SliderPicker,{className:o.inputDiv,color:Y,onChangeComplete:function(e,t){K(e.hex)}}))))),r.a.createElement(oe.a,{item:!0,className:"".concat(o.mainGridBodyItem," ").concat(o.height1)},r.a.createElement(oe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{className:o.actionButton,variant:"contained",color:"secondary",onClick:function(){0===y.length?n.push("/dreammap"):n.push(y)}},t.currLang.buttons.close)),r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:o.actionButton,onClick:function(){return function(){var a="",r=!1;if(m){var c=!1,o={id:e.location.defaultData.id};U!==e.location.defaultData.name_rus&&(o.name_rus=U,c=!0),A!==e.location.defaultData.name_eng&&(o.name_eng=A,c=!0),H!==e.location.defaultData.img_url&&(o.img_url=H,c=!0),Y!==e.location.defaultData.color&&(o.color=Y,c=!0),c?pe.post("/actions/users/updatelocation",o).then((function(e){i({type:w,snackbar:{open:!0,variant:"success",message:t.currLang.texts.success}}),0===y.length?n.push("/dreammap"):n.push(y)})).catch((function(e){i({type:w,snackbar:{open:!0,variant:"error",message:t.currLang.errors.CantUpdateLocation}})})):i({type:w,snackbar:{open:!0,variant:"error",message:t.currLang.errors.NoChanges}})}else if(0===Y.length&&(a=t.currLang.errors.ColorNotChange,r=!0),0===H.length&&(a=t.currLang.errors.IconNotChange,r=!0),0===U.length&&(a=t.currLang.errors.EmptyName,r=!0,f(0)),0===A.length&&(a=t.currLang.errors.EmptyName,r=!0,f(1)),r)i({type:w,snackbar:{open:!0,variant:"error",message:a}});else{var s={name_rus:U,name_eng:A,img_url:H,color:Y};pe.post("/actions/users/createlocation",s).then((function(e){i({type:w,snackbar:{open:!0,variant:"success",message:t.currLang.texts.success}}),0===y.length?n.push("/dreammap"):n.push(y)})).catch((function(e){i({type:w,snackbar:{open:!0,variant:"error",message:t.currLang.errors.CantAddLocation}})}))}}()}},m?t.currLang.buttons.Save:t.currLang.buttons.add)))))))})),it=a(214),ot=a(95),st=a.n(ot),lt=a(843),ut=a(855),mt=a(850),dt=a(129),pt=a.n(dt),gt=a(94),ht=a(30),ft=a(848),bt=a(856),Et=a(132),yt=a.n(Et);function vt(e,t){return!!Object.keys(t).every((function(t){return e.hasOwnProperty(t)}))&&Object.keys(e).every((function(a){return"object"==typeof e[a]?vt(e[a],t[a]):e[a]===t[a]}))}function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var jt=[];var kt=Object(o.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,auth:e.auth}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Ve(),a=e.lang,n=e.themeMode,c=e.history,i=e.auth,o=e.setSnackbar,s=Object(ge.a)(n);Object.assign(s,{overrides:{MUIRichTextEditor:{root:{border:"1px solid gray",borderRadius:"4px",height:"100%"},container:{height:"100%",margin:"0 !Important"},toolbar:{display:"flex",alignItems:"center",justifyContent:"center",height:"20%",minHeight:"48px",margin:"0 !Important",borderBottom:"1px solid gray",borderRadius:"4px"},placeHolder:{height:"72%"},editor:{height:"72%",width:"100%",position:"relative",overflow:"hidden"},editorContainer:{margin:"0 !Important",padding:"0px 14px",borderRadius:"4px",position:"relative",boxSizing:"border-box",maxHeight:"100%",overflow:"auto"}}}});var l=r.a.useState(!1),u=Object(Z.a)(l,2),m=u[0],d=u[1],p=r.a.useState(!1),g=Object(Z.a)(p,2),h=g[0],f=g[1],b=r.a.useState(""),E=Object(Z.a)(b,2),y=E[0],v=E[1],O=r.a.useState(new Date),j=Object(Z.a)(O,2),k=j[0],N=j[1],x=r.a.useState(),D=Object(Z.a)(x,2),C=D[0],S=D[1],L=r.a.useState(),I=Object(Z.a)(L,2),P=I[0],B=I[1],_=r.a.useState([]),T=Object(Z.a)(_,2),A=T[0],R=T[1],M=r.a.useState({}),G=Object(Z.a)(M,2),U=G[0],W=G[1],z=function(e){F(),N(e)},F=function(){var e={};window.localStorage.getItem("postDreamData")&&(e=JSON.parse(window.localStorage.getItem("postDreamData"))),e.selectedDate=k,0!==y.length&&(e.titleText=y),"undefined"!==typeof P&&0!==P.length&&(e.contentText=P),window.localStorage.setItem("postDreamData",JSON.stringify(e))};return r.a.useEffect((function(){if(window.localStorage.getItem("postDreamData")&&function(){var e=JSON.parse(window.localStorage.getItem("postDreamData")),t=e.selectedDate,a=e.titleText,n=e.contentText;"undefined"!==typeof t&&N(new Date(t)),"undefined"!==typeof a&&v(a),"undefined"!==typeof n&&(S(n),B(n))}(),jt=[],pe.get("/gettags").then((function(e){W(e.data)})).catch((function(e){console.log(e)})),"undefined"!==typeof e.location.defaultData){d(!0);var t=e.location.defaultData,a=t.post_title,n=t.dream_date,r=t.post_content,c=t.tags;v(a),N(n),S(r),B(r),"string"===typeof c[0][0]&&(c.forEach((function(e){var t={};t.id=Number(e[0]),t.name_rus=e[1],t.name_eng=e[2],t.img_url=e[3],jt.push(t)})),R(jt))}}),[e.location.defaultData,a.currLang]),r.a.createElement(he.a,{theme:s},r.a.createElement(ne.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height11)},r.a.createElement(at.a,{className:t.paper},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.fullMinWidth," ").concat(t.height2)},r.a.createElement(tt.a,{className:t.inputDiv,required:!0,id:"outlined-required",value:y,label:a.currLang.texts.title,variant:"outlined",onChange:function(e){v(e.target.value)},onBlur:F})),r.a.createElement(oe.a,{item:!0,className:"".concat(t.fullMinWidth," ").concat(t.height2)},r.a.createElement(ht.a,{utils:it.a,locale:(a.currLang.current,st.a)},r.a.createElement(oe.a,{container:!0,className:t.pickerGridContainer,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,xs:7},r.a.createElement(ft.a,{className:t.pickers,id:"date-picker-dialog",label:a.currLang.texts.pickDate,format:"dd.MM.yyyy",value:k,onChange:z,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(oe.a,{item:!0,xs:5},r.a.createElement(bt.a,{className:t.pickers,id:"time-picker",label:a.currLang.texts.pickTime,value:k,onChange:z,ampm:!1,KeyboardButtonProps:{"aria-label":"change time"}}))))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.fullMinWidth," ").concat(t.height5)},r.a.createElement("div",{className:t.inputScrollableDiv},r.a.createElement(pt.a,{value:C,onChange:function(e){var t=e.getCurrentContent(),a=Object(gt.convertToRaw)(t),n=JSON.stringify(a);P!==n&&(F(),B(n))},label:a.currLang.texts.content,inlineToolbar:!1,controls:["bold","italic","underline","strikethrough","colorfill"],customControls:[{name:"colorfill",icon:r.a.createElement(yt.a,null),type:"inline",inlineStyle:{backgroundColor:"yellow",color:"black"}}]}))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.fullMinWidth," ").concat(t.height3)},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,xs:10,style:{position:"relative"}},U.length?r.a.createElement(mt.a,{multiple:!0,className:t.inputDiv,id:"tags-outlined",size:"small",options:U,getOptionLabel:function(e){return r.a.createElement(ut.a,{size:"small",className:t.chip,avatar:r.a.createElement(we.a,{src:e.img_url}),label:"Ru"===a.currLang.current?e.name_rus:e.name_eng})},defaultValue:jt.map((function(e){return U[e.id-1]})),onChange:function(e,t){return function(e,t){R(t)}(0,t)},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(tt.a,Object.assign({},e,{label:a.currLang.texts.tags,fullWidth:!0}))}}):r.a.createElement("div",{className:t.inputDiv},r.a.createElement(lt.a,null))),r.a.createElement(oe.a,{item:!0,xs:2,style:{position:"relative"}},r.a.createElement(be.a,{onClick:function(){F(),c.push({pathname:"/addlocation",defaultData:{prevUrl:"/addregulardream"}})},className:"".concat(t.centerButton)},r.a.createElement(de.a,{fontSize:"small"})))))))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height1)},h?r.a.createElement(lt.a,null):r.a.createElement(oe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{variant:"contained",color:"secondary",className:t.actionButton,onClick:function(){m?c.push("/dreams"):c.push("/luciddreams"),window.localStorage.removeItem("postDreamData")}},a.currLang.buttons.close)),r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:t.actionButton,onClick:function(){return function(){f(!0);var t=!1,n="";if("undefined"!==typeof y?0===y.length&&(n=a.currLang.errors.EmptyTitle,t=!0):(n=a.currLang.errors.EmptyTitle,t=!0),"undefined"!==typeof P?0===JSON.parse(P).blocks[0].text.length&&(n=a.currLang.errors.EmptyDream,t=!0):(n=a.currLang.errors.EmptyDream,t=!0),t)o({type:w,snackbar:{open:!0,variant:"error",message:n}}),f(!1);else if(m){var r=!1,s=!1,l={post_id:e.location.defaultData.post_id};if(e.location.defaultData.post_title!==y&&(l.title=y,r=!0),e.location.defaultData.dream_date.getTime()!==k.getTime()&&(l.dreamDate=k.toLocaleString("ru-RU",{timeZone:"Europe/London"}),r=!0),e.location.defaultData.post_content!==P&&(l.content=P,r=!0),jt.length===A.length&&vt(jt,A)||(r=!0,s=!0),r){if(s){var u=jt.filter((function(e){return!A.some((function(t){return t.id===e.id}))})),d=A.filter((function(e){return!jt.some((function(t){return t.id===e.id}))}));if(d.length>0){var p={};d.map((function(e,t){return p[t]=e})),l.tags=wt({},l.tags,{add:p})}if(u.length>0){var g={};u.map((function(e,t){return g[t]=e})),l.tags=wt({},l.tags,{remove:g})}}pe.post("/actions/users/updatepost",l).then((function(e){f(!1),o({type:w,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),window.localStorage.removeItem("postDreamData"),c.push("/dreams")})).catch((function(e){console.log(e),f(!1)}))}else o({type:w,snackbar:{open:!0,variant:"error",message:a.currLang.errors.NoChanges}}),f(!1)}else{var h={title:y,dreamDate:k.toLocaleString("ru-RU",{timeZone:"Europe/London"}),content:P,create_user:i.user.id,post_type:0,nickname:i.user.nickname,tags:A};pe.post("/actions/users/createpost",h).then((function(e){f(!1),o({type:w,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),window.localStorage.removeItem("postDreamData"),c.push("/luciddreams")})).catch((function(e){f(!1)}))}}()}},m?a.currLang.buttons.Save:a.currLang.buttons.add)))))))})),Nt=a(857);function xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ct=[],St=[];var Lt=Object(o.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,auth:e.auth}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Ve(),a=e.lang,n=e.themeMode,c=e.history,i=e.auth,o=e.setSnackbar,s=Object(ge.a)(n);Object.assign(s,{overrides:{MUIRichTextEditor:{root:{border:"1px solid gray",borderRadius:"4px",height:"100%"},container:{height:"100%",margin:"0 !Important"},toolbar:{display:"flex",alignItems:"center",justifyContent:"center",height:"20%",minHeight:"48px",margin:"0 !Important",borderBottom:"1px solid gray",borderRadius:"4px"},placeHolder:{height:"72%"},editor:{height:"72%",width:"100%",position:"relative",overflow:"hidden"},editorContainer:{margin:"0 !Important",padding:"0px 14px",borderRadius:"4px",position:"relative",boxSizing:"border-box",maxHeight:"100%",overflow:"auto"}}}});var l=r.a.useState(!1),u=Object(Z.a)(l,2),m=u[0],d=u[1],p=r.a.useState(!1),g=Object(Z.a)(p,2),h=g[0],f=g[1],b=r.a.useState(""),E=Object(Z.a)(b,2),y=E[0],v=E[1],O=r.a.useState(new Date),j=Object(Z.a)(O,2),k=j[0],N=j[1],x=r.a.useState(),D=Object(Z.a)(x,2),C=D[0],S=D[1],L=r.a.useState(),I=Object(Z.a)(L,2),P=I[0],B=I[1],_=r.a.useState([]),T=Object(Z.a)(_,2),A=T[0],R=T[1],M=r.a.useState([]),G=Object(Z.a)(M,2),U=G[0],W=G[1],z=r.a.useState(1),F=Object(Z.a)(z,2),H=F[0],J=F[1],q=r.a.useState({}),V=Object(Z.a)(q,2),Y=V[0],K=V[1],X=r.a.useState({}),$=Object(Z.a)(X,2),Q=$[0],ee=$[1],te=function(e){ae(),N(e)},ae=function(){var e={};window.localStorage.getItem("post\u0421DreamData")&&(e=JSON.parse(window.localStorage.getItem("post\u0421DreamData"))),e.selectedDate=k,0!==y.length&&(e.titleText=y),"undefined"!==typeof P&&0!==P.length&&(e.contentText=P),window.localStorage.setItem("post\u0421DreamData",JSON.stringify(e))};return r.a.useEffect((function(){if(window.localStorage.getItem("post\u0421DreamData")&&function(){var e=JSON.parse(window.localStorage.getItem("post\u0421DreamData")),t=e.selectedDate,a=e.titleText,n=e.contentText;"undefined"!==typeof t&&N(new Date(t)),"undefined"!==typeof a&&v(a),"undefined"!==typeof n&&(S(n),B(n))}(),Ct=[],St=[],pe.get("/gettags").then((function(e){K(e.data)})).catch((function(e){console.log(e)})),pe.get("/gettechnics").then((function(e){ee(e.data)})).catch((function(e){console.log(e)})),"undefined"!==typeof e.location.defaultData){d(!0),Ct=[],St=[];var t=e.location.defaultData,a=t.post_title,n=t.dream_date,r=t.post_content,c=t.technics,i=t.tags,o=t.rating;v(a),N(n),S(r),B(r),"string"===typeof i[0][0]&&(i.forEach((function(e){var t={};t.id=Number(e[0]),t.name_rus=e[1],t.name_eng=e[2],t.img_url=e[3],St.push(t)})),R(St)),"string"===typeof c[0][0]&&(c.forEach((function(e){var t={};t.id=Number(e[0]),t.name_rus=e[1],t.name_eng=e[2],Ct.push(t)})),W(Ct)),J(o)}}),[e.location.defaultData,a.currLang]),r.a.createElement(he.a,{theme:s},r.a.createElement(ne.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(oe.a,{className:t.mainGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,xs:11,className:t.mainGridBodyItem},r.a.createElement(at.a,{className:t.paper},r.a.createElement(oe.a,{className:"".concat(t.mainGridContainer," ").concat(t.noWrap),container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(oe.a,{item:!0,xs:2,className:t.fullMinWidth},r.a.createElement(tt.a,{className:t.inputDiv,required:!0,id:"outlined-required",value:y,label:a.currLang.texts.title,variant:"outlined",onChange:function(e){v(e.target.value)},onBlur:ae})),r.a.createElement(oe.a,{item:!0,xs:1,className:t.fullMinWidth},r.a.createElement(ht.a,{utils:it.a,locale:(a.currLang.current,st.a)},r.a.createElement(oe.a,{className:t.pickerGridContainer,container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,xs:7},r.a.createElement(ft.a,{className:t.pickers,id:"date-picker-dialog",label:a.currLang.texts.pickDate,format:"dd.MM.yyyy",value:k,onChange:te,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(oe.a,{item:!0,xs:5},r.a.createElement(bt.a,{className:t.pickers,id:"time-picker",label:a.currLang.texts.pickTime,value:k,onChange:te,ampm:!1,KeyboardButtonProps:{"aria-label":"change time"}}))))),r.a.createElement(oe.a,{item:!0,xs:4,className:t.fullMinWidth},r.a.createElement("div",{className:t.inputScrollableDiv},r.a.createElement(pt.a,{value:C,onChange:function(e){var t=e.getCurrentContent(),a=Object(gt.convertToRaw)(t),n=JSON.stringify(a);P!==n&&(ae(),B(n))},label:a.currLang.texts.content,inlineToolbar:!1,controls:["bold","italic","underline","strikethrough","colorfill"],customControls:[{name:"colorfill",icon:r.a.createElement(yt.a,null),type:"inline",inlineStyle:{backgroundColor:"yellow",color:"black"}}]}))),r.a.createElement(oe.a,{item:!0,xs:2,className:t.fullMinWidth},r.a.createElement(oe.a,{container:!0,className:t.mainGridContainer,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(oe.a,{item:!0,xs:12,style:{position:"relative"}},Q.length?r.a.createElement(mt.a,{multiple:!0,className:t.inputDiv,id:"technics-outlined",size:"small",options:Q,getOptionLabel:function(e){return r.a.createElement(ut.a,{size:"small",className:t.chip,label:"Ru"===a.currLang.current?e.name_rus:e.name_eng})},defaultValue:Ct.map((function(e){return Q[e.id-1]})),onChange:function(e,t){return function(e,t){W(t)}(0,t)},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(tt.a,Object.assign({},e,{label:a.currLang.texts.technics,fullWidth:!0}))}}):r.a.createElement("div",{className:t.inputDiv},r.a.createElement(lt.a,null))))),r.a.createElement(oe.a,{item:!0,xs:2,className:t.fullMinWidth},r.a.createElement(oe.a,{container:!0,className:t.mainGridContainer,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(oe.a,{item:!0,xs:10,style:{position:"relative"}},Y.length?r.a.createElement(mt.a,{multiple:!0,className:t.inputDiv,id:"tags-outlined",size:"small",options:Y,getOptionLabel:function(e){return r.a.createElement(ut.a,{size:"small",className:t.chip,avatar:r.a.createElement(we.a,{src:e.img_url}),label:"Ru"===a.currLang.current?e.name_rus:e.name_eng})},defaultValue:St.map((function(e){return Y[e.id-1]})),onChange:function(e,t){return function(e,t){R(t)}(0,t)},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(tt.a,Object.assign({},e,{label:a.currLang.texts.tags,fullWidth:!0}))}}):r.a.createElement("div",{className:t.inputDiv},r.a.createElement(lt.a,null))),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(be.a,{onClick:function(){ae(),c.push({pathname:"/addlocation",defaultData:{prevUrl:"/addcdream"}})}},r.a.createElement(de.a,{fontSize:"small"}))))),r.a.createElement(oe.a,{item:!0,xs:1,className:t.fullMinWidth},r.a.createElement("div",{className:t.div85width},r.a.createElement(oe.a,{className:t.ratingGridContainer,container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,xs:6},r.a.createElement(Ee.a,{variant:"body2"},a.currLang.texts.rating,":")),r.a.createElement(oe.a,{item:!0,xs:6},r.a.createElement(Nt.a,{name:"simple-controlled",value:H,onChange:function(e,t){J(t)}})))))))),r.a.createElement(oe.a,{item:!0,xs:1,className:t.mainGridBodyItem},h?r.a.createElement(lt.a,null):r.a.createElement(oe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{variant:"contained",color:"secondary",className:t.actionButton,onClick:function(){window.localStorage.removeItem("post\u0421DreamData"),m?c.push("/dreams"):c.push("/luciddreams")}},a.currLang.buttons.close)),r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:t.actionButton,onClick:function(){return function(){f(!0);var t=!1,n="";if("undefined"!==typeof y?0===y.length&&(n=a.currLang.errors.EmptyTitle,t=!0):(n=a.currLang.errors.EmptyTitle,t=!0),"undefined"!==typeof P?0===JSON.parse(P).blocks[0].text.length&&(n=a.currLang.errors.EmptyDream,t=!0):(n=a.currLang.errors.EmptyDream,t=!0),t)o({type:w,snackbar:{open:!0,variant:"error",message:n}}),f(!1);else if(m){var r=!1,s=!1,l=!1,u={post_id:e.location.defaultData.post_id};if(e.location.defaultData.post_title!==y&&(u.title=y,r=!0),e.location.defaultData.dream_date.getTime()!==k.getTime()&&(u.dreamDate=k.toLocaleString("ru-RU",{timeZone:"Europe/London"}),r=!0),e.location.defaultData.post_content!==P&&(u.content=P,r=!0),e.location.defaultData.rating!==H&&(u.rating=H,r=!0),Ct.length===U.length&&vt(Ct,U)||(r=!0,l=!0),St.length===A.length&&vt(St,A)||(r=!0,s=!0),r){if(s){var d=St.filter((function(e){return!A.some((function(t){return t.id===e.id}))})),p=A.filter((function(e){return!St.some((function(t){return t.id===e.id}))}));if(p.length>0){var g={};p.map((function(e,t){return g[t]=e})),u.tags=Dt({},u.tags,{add:g})}if(d.length>0){var h={};d.map((function(e,t){return h[t]=e})),u.tags=Dt({},u.tags,{remove:h})}}if(l){var b=Ct.filter((function(e){return!U.some((function(t){return t.id===e.id}))})),E=U.filter((function(e){return!Ct.some((function(t){return t.id===e.id}))}));if(E.length>0){var v={};E.map((function(e,t){return v[t]=e})),u.technics=Dt({},u.technics,{add:v})}if(b.length>0){var O={};b.map((function(e,t){return O[t]=e})),u.technics=Dt({},u.technics,{remove:O})}}pe.post("/actions/users/updatepost",u).then((function(e){f(!1),o({type:w,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),window.localStorage.removeItem("post\u0421DreamData"),c.push("/dreams")})).catch((function(e){console.log(e),f(!1)}))}else o({type:w,snackbar:{open:!0,variant:"error",message:a.currLang.errors.NoChanges}}),f(!1)}else{var j={title:y,dreamDate:k.toLocaleString("ru-RU",{timeZone:"Europe/London"}),content:P,create_user:i.user.id,rating:H,post_type:1,nickname:i.user.nickname,tags:A,technics:U};pe.post("/actions/users/createpost",j).then((function(e){f(!1),o({type:w,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),window.localStorage.removeItem("post\u0421DreamData"),c.push("/luciddreams")})).catch((function(e){f(!1)}))}}()}},m?a.currLang.buttons.Save:a.currLang.buttons.add)))))))}));function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Bt=Object(o.b)((function(e){return{themeMode:e.themeMode,lang:e.lang}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Ve(),a=e.lang,n=e.themeMode,c=e.history,i=e.setSnackbar,o=Object(ge.a)(n),s=r.a.useState(!1),l=Object(Z.a)(s,2),u=l[0],m=l[1],d=r.a.useState(!1),p=Object(Z.a)(d,2),g=p[0],h=p[1],f=r.a.useState(0),b=Object(Z.a)(f,2),E=b[0],y=b[1],v=r.a.useState({titleRu:"",titleEn:"",descriptionRu:"",descriptionEn:""}),O=Object(Z.a)(v,2),j=O[0],k=O[1],N=r.a.useState({titleRu:!1,titleEn:!1,descriptionRu:!1,descriptionEn:!1}),x=Object(Z.a)(N,2),D=x[0],C=x[1],S=function(e,t){var a=j,n=D,r=e.target.value,c=/[\u0430-\u044f\u0410-\u042f\u0451\u0401]/g;switch(t){case"title-ru":a=Pt({},a,{titleRu:e.target.value}),n.titleRu&&(n=Pt({},n,{titleRu:!1}),C(n));break;case"title-en":-1!==r.search(c)&&(r=r.replace(c,"")),a=Pt({},a,{titleEn:r}),n.titleEn&&(n=Pt({},n,{titleEn:!1}),C(n));break;case"description-ru":a=Pt({},a,{descriptionRu:e.target.value}),n.descriptionRu&&(n=Pt({},n,{descriptionRu:!1}),C(n));break;case"description-en":-1!==r.search(c)&&(r=r.replace(c,"")),a=Pt({},a,{descriptionEn:r}),n.descriptionEn&&(n=Pt({},n,{descriptionEn:!1}),C(n))}k(a)};return r.a.useEffect((function(){if("undefined"!==typeof e.location.defaultData){h(!0);var t=e.location.defaultData.item,a=t.name_rus,n=t.name_eng,r=t.description_rus,c=t.description_eng,i={};i=Pt({},i,{titleRu:a}),i=Pt({},i,{titleEn:n}),i=Pt({},i,r?{descriptionRu:r}:{descriptionRu:"description_rus"}),i=Pt({},i,c?{descriptionEn:c}:{descriptionEn:"description_eng"}),k(i)}}),[e.location.defaultData]),r.a.createElement(he.a,{theme:o},r.a.createElement(ne.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height11)},r.a.createElement(at.a,{className:t.paper},r.a.createElement(at.a,{style:{position:"relative",height:"10%"}},r.a.createElement(nt.a,{centered:!0,value:E,onChange:function(e,t){y(t)},indicatorColor:"primary",textColor:"primary"},r.a.createElement(rt.a,{label:"RU"}),r.a.createElement(rt.a,{label:"EN"}))),r.a.createElement(Ze.a,{className:t.SwipeableViews,animateHeight:!0,axis:"rtl"===o.direction?"x-reverse":"x",index:E,onChangeIndex:function(e){y(e)}},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch",role:"tabpanel"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height2)},r.a.createElement(tt.a,{className:t.inputDiv,error:D.titleRu,required:!0,id:"title-ru",value:j.titleRu,label:a.currLang.texts.title,variant:"outlined",onChange:function(e){S(e,"title-ru")}})),r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height10)},r.a.createElement(tt.a,{className:t.inputDiv,error:D.descriptionRu,required:!0,id:"description-ru",multiline:!0,rows:"5",value:j.descriptionRu,label:a.currLang.texts.description,variant:"outlined",onChange:function(e){S(e,"description-ru")}}))),r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch",role:"tabpanel"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height2)},r.a.createElement(tt.a,{className:t.inputDiv,error:D.titleEn,required:!0,id:"title-en",value:j.titleEn,label:a.currLang.texts.title,variant:"outlined",onChange:function(e){S(e,"title-en")}})),r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height10)},r.a.createElement(tt.a,{className:t.inputDiv,error:D.descriptionEn,required:!0,id:"description-en",multiline:!0,rows:"5",value:j.descriptionEn,label:a.currLang.texts.description,variant:"outlined",onChange:function(e){S(e,"description-en")}})))))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height1)},u?r.a.createElement(lt.a,null):r.a.createElement(oe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{variant:"contained",color:"secondary",className:t.actionButton,onClick:function(){c.push("/technics")}},a.currLang.buttons.close)),r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:t.actionButton,onClick:function(){return function(){if(m(!0),g){var t=!1,n={id:e.location.defaultData.item.id};j.titleRu!==e.location.defaultData.item.name_rus&&(n.name_rus=j.titleRu,t=!0),j.descriptionRu!==e.location.defaultData.item.description_rus&&(n.description_rus=j.descriptionRu,t=!0),j.titleEn!==e.location.defaultData.item.name_eng&&(n.name_eng=j.titleEn,t=!0),j.descriptionEn!==e.location.defaultData.item.description_eng&&(n.description_eng=j.descriptionEn,t=!0),t?(pe.post("/actions/users/updatetechnic",n).then((function(e){m(!1),i({type:w,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),c.push("/addtechnics")})).catch((function(e){console.log(e),m(!1)})),m(!1)):(i({type:w,snackbar:{open:!0,variant:"error",message:a.currLang.errors.NoChanges}}),m(!1))}else{var r=!1,o="",s=D;0===j.titleRu.length&&(r=!0,o=a.currLang.errors.EmptyTitle,s=Pt({},s,{titleRu:!0}),y(0)),0!==j.titleEn.length||r||(r=!0,o=a.currLang.errors.EmptyTitle,s=Pt({},s,{titleEn:!0}),y(1)),0!==j.descriptionRu.length||r||(r=!0,o=a.currLang.errors.EmptyDescription,s=Pt({},s,{descriptionRu:!0}),y(0)),0!==j.descriptionEn.length||r||(r=!0,o=a.currLang.errors.EmptyDescription,s=Pt({},s,{descriptionEn:!0}),y(1)),r?(C(s),i({type:w,snackbar:{open:!0,variant:"error",message:o}}),m(!1)):pe.post("/actions/users/createtechnic",j).then((function(e){m(!1),i({type:w,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),c.push("/addtechnics")})).catch((function(e){console.log(e),m(!1)}))}}()}},g?a.currLang.buttons.Save:a.currLang.buttons.add)))))))})),_t=a(839),Tt=a(842),At=a(804),Rt=a(803),Mt=a(844),Gt=a(840),Ut=a(835),Wt=a(834),zt=a(836),Ft=a(838),Ht=a(851),Jt=a(847),qt=a(802),Vt=a(832),Yt=a(421),Kt=a(135),Xt=a.n(Kt),Zt=a(427),$t=a.n(Zt),Qt=a(134),ea=a.n(Qt),ta=a(426),aa=a.n(ta),na=a(425),ra=a.n(na);function ca(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ia(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ca(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oa=Object(o.b)((function(e){return{lang:e.lang,palette:e.themeMode.palette}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Ve(),a=e.item,n=a.post_id,c=a.post_title,i=a.post_content,o=a.post_type,s=a.tags,l=a.technics,u=a.rating,m=a.dream_date,d=a.is_public,g=e.lang,h=e.palette,f=e.history,b=e.setSnackbar,E=r.a.useState(!1),y=Object(Z.a)(E,2),v=y[0],O=y[1],j=r.a.useState(null),k=Object(Z.a)(j,2),N=k[0],x=k[1],D=r.a.useState(!1),C=Object(Z.a)(D,2),S=C[0],L=C[1],I=r.a.useState(!1),P=Object(Z.a)(I,2),B=P[0],_=P[1],T=r.a.useState({header:"",body:"",commit:"",action:""}),A=Object(Z.a)(T,2),R=A[0],M=A[1],G=new Date(m).getDate()+"."+(new Date(m).getMonth()+1)+"."+new Date(m).getFullYear()+" "+new Date(m).getHours()+":"+("0"+new Date(m).getMinutes()).slice(-2),U=i.toString(),W=JSON.parse(U),z=Object(gt.convertFromRaw)(W),F=gt.EditorState.createWithContent(z).getCurrentContent().getPlainText("");r.a.useEffect((function(){_(1===d)}),[d]);var H=function(){x(null)},J=function(t,a){var r=R;switch(t){case"public":a.target.checked?(r=ia({},r,{header:g.currLang.texts.PublicAlert}),r=ia({},r,{body:g.currLang.texts.PublicText}),r=ia({},r,{commit:g.currLang.texts.Publish}),r=ia({},r,{action:"publicOk"}),M(r)):(r=ia({},r,{header:g.currLang.texts.UnpublicAlert}),r=ia({},r,{body:g.currLang.texts.UnpublicText}),r=ia({},r,{commit:g.currLang.texts.Unpublish}),r=ia({},r,{action:"publicOk"}),M(r)),L(!0),H();break;case"edit":H(),0===o?f.push({pathname:"/addregulardream",defaultData:{post_id:n,post_title:c,dream_date:new Date(m),post_content:i,tags:s}}):1===o&&f.push({pathname:"/addcdream",defaultData:{post_id:n,post_title:c,dream_date:new Date(m),post_content:i,tags:s,technics:l,rating:u}});break;case"delete":r=ia({},r,{header:g.currLang.texts.DeleteAlert}),r=ia({},r,{body:g.currLang.texts.DeleteText}),r=ia({},r,{commit:g.currLang.buttons.Delete}),r=ia({},r,{action:"deleteOk"}),M(r),H(),L(!0);break;case"closeAlert":L(!1);break;case"deleteOk":var d={post_id:n};pe.post("/actions/users/deletepost",d).then((function(t){H(),b({type:w,snackbar:{open:!0,variant:"success",message:g.currLang.texts.success}}),L(!1),e.loadPosts()})).catch((function(e){b({type:w,snackbar:{open:!0,variant:"error",message:g.currLang.texts.CantDeletePost}}),H(),L(!1)}));break;case"publicOk":if(H(),L(!1),B){var p={post_id:n,newPublic:0};pe.post("/actions/users/updatepost",p).then((function(e){_(!1),b({type:w,snackbar:{open:!0,variant:"success",message:g.currLang.texts.success}})})).catch((function(e){_(!0)}))}else{var h={post_id:n,newPublic:1};pe.post("/actions/users/updatepost",h).then((function(e){_(!0),b({type:w,snackbar:{open:!0,variant:"success",message:g.currLang.texts.success}})})).catch((function(e){_(!1)}))}break;default:console.log("Command not found")}};return r.a.createElement(oe.a,{item:!0,className:t.dreamCardDiv},r.a.createElement(qt.a,{open:S,onClose:function(){return J("closeAlert")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Gt.a,{id:"alert-dialog-title"},R.header),r.a.createElement(At.a,null,r.a.createElement(_t.a,{id:"alert-dialog-description"},R.body)),r.a.createElement(Rt.a,null,r.a.createElement(ce.a,{onClick:function(){return J("closeAlert")},color:"secondary"},g.currLang.buttons.cancel),r.a.createElement(ce.a,{onClick:function(){return J(R.action)},color:"primary",autoFocus:!0},R.commit))),r.a.createElement(Yt.a,{id:"simple-menu",anchorEl:N,keepMounted:!0,open:Boolean(N),onClose:H},r.a.createElement(ye.a,null,r.a.createElement(Mt.a,null,r.a.createElement(Tt.a,{control:r.a.createElement(Ht.a,{onChange:function(e){return J("public",e)},checked:B,value:"checkedB",color:"primary"})})),g.currLang.texts.Public),r.a.createElement(ye.a,{onClick:function(){return J("edit")}},r.a.createElement(Mt.a,null,r.a.createElement(ke.a,{fontSize:"small"})),g.currLang.buttons.Edit),r.a.createElement(ye.a,{onClick:function(){return J("delete")}},r.a.createElement(Mt.a,null,r.a.createElement(ra.a,{fontSize:"small"})),g.currLang.buttons.Delete)),r.a.createElement(Vt.a,{raised:!0,className:t.card},r.a.createElement(zt.a,{style:{paddingBottom:"0px"},title:r.a.createElement(oe.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(oe.a,{item:!0,xs:10},r.a.createElement(Ee.a,{variant:"subtitle1"},c," (",0===o?g.currLang.texts.Dream:g.currLang.texts.Cdream,")")),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(Jt.a,{disableFocusListener:!0,disableTouchListener:!0,title:B?g.currLang.texts.PublicDescription:g.currLang.texts.UnpublicDescription},B?r.a.createElement(ea.a,{className:t.iconCenter}):r.a.createElement(Xt.a,{className:t.iconCenter})))),subheader:G,action:r.a.createElement(be.a,{"aria-label":"settings",onClick:function(e){x(e.currentTarget)}},r.a.createElement(aa.a,null))}),r.a.createElement(Wt.a,{disableSpacing:!0},r.a.createElement(Ee.a,{noWrap:!v,variant:"body2",style:{padding:"12px"}},v?g.currLang.texts.TapToShow:F),r.a.createElement(be.a,{className:Object($.a)(t.expand,Object(p.a)({},t.expandOpen,v)),onClick:function(){O(!v)},"aria-expanded":v,"aria-label":"show more"},r.a.createElement($t.a,null))),r.a.createElement(Ft.a,{in:v,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ut.a,null,r.a.createElement("div",{className:t.avatarRoot},l.map((function(e,a){return e[0]?r.a.createElement(ut.a,{className:t.smallChip,key:a,label:"Ru"===g.currLang.current?e[1]:e[2]}):""}))),r.a.createElement("div",{className:t.avatarRoot},s.map((function(e,a){return e[0]?r.a.createElement(Jt.a,{key:a,disableFocusListener:!0,disableTouchListener:!0,title:"Ru"===g.currLang.current?e[1]:e[2]},r.a.createElement(we.a,{className:t.smallAvatar,src:e[3],style:"dark"===h.type?{filter:"invert(1)"}:{}})):""}))),r.a.createElement(at.a,{className:t.contentPaper},r.a.createElement(pt.a,{controls:["bold","italic","underline","strikethrough","colorfill"],customControls:[{name:"colorfill",icon:r.a.createElement(yt.a,null),type:"inline",inlineStyle:{backgroundColor:"yellow",color:"black"}}],readOnly:!0,toolbar:!1,value:i})),0===o?"":r.a.createElement(oe.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",style:{paddingTop:"10px"}},r.a.createElement(oe.a,{item:!0,xs:6},r.a.createElement(Ee.a,{component:"legend",variant:"body2"},g.currLang.texts.rating,":")),r.a.createElement(oe.a,{item:!0,xs:6},r.a.createElement(Nt.a,{name:"simple-controlled",value:u,readOnly:!0})))))))}));var sa=Object(o.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,auth:e.auth}}),(function(e){return{}}))((function(e){var t=e.lang,a=e.themeMode,n=e.history,c=e.auth,i=Object(ge.a)(a),o=Ve(),s=r.a.useState(!0),l=Object(Z.a)(s,2),u=l[0],m=l[1],d=r.a.useState([]),p=Object(Z.a)(d,2),g=p[0],h=p[1],f=r.a.useCallback((function(){m(!0),pe.post("/actions/users/getuserposts",{id:c.user.id}).then((function(e){h(e.data),m(!1)})).catch((function(e){m(!1)}))}),[c.user.id]);return r.a.useEffect((function(){f()}),[f]),r.a.createElement(he.a,{theme:i},r.a.createElement(ne.a,null),r.a.createElement("div",{className:o.root},r.a.createElement(oe.a,{container:!0,className:"".concat(o.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(o.hiddenOverflow," ").concat(o.height11)},u?r.a.createElement("div",{className:o.formControl},r.a.createElement(Qe.a,null)):r.a.createElement(re.a,{className:o.mainGridDreamsBodyItemContainer},r.a.createElement(at.a,{className:o.mainGridDreamsBodyItemContainerPaper},0!==g.length?r.a.createElement(oe.a,{className:"".concat(o.mainGridDreamsContainer),container:!0,direction:"column",justify:"center",alignItems:"stretch"},g.map((function(e,t){return r.a.createElement(oa,{item:e,key:t,history:n,loadPosts:f})}))):r.a.createElement("div",null,r.a.createElement("div",{className:o.divDreamsNotFound}),r.a.createElement("div",{className:"".concat(o.divDreamsNotFound," ").concat(o.divDreamsNotFoundImg)}),r.a.createElement("div",{className:o.divDreamsNotFound},r.a.createElement(Ee.a,null,t.currLang.texts.NoDreams)))))),r.a.createElement(oe.a,{item:!0,className:"".concat(o.mainGridBodyItem," ").concat(o.height1)},r.a.createElement(oe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(oe.a,{item:!0,xs:6,align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"secondary",className:o.actionButton,onClick:function(){n.push("/luciddreams")}},t.currLang.buttons.close)),r.a.createElement(oe.a,{item:!0,xs:6}))))))})),la=a(807),ua=a(139),ma=a(846),da=a(841),pa=a(213),ga=a.n(pa),ha=a(273),fa=a.n(ha),ba={current:"Ru",buttons:{signIn:"\u0412\u0445\u043e\u0434",signUp:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",dreamJoirnal:"\u0414\u043d\u0435\u0432\u043d\u0438\u043a \u0441\u043d\u043e\u0432",addDream:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043d",addCDream:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0441",techniques:"\u0422\u0435\u0445\u043d\u0438\u043a\u0438",adventures:"\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",close:"\u041d\u0430\u0437\u0430\u0434",about:"\u041e \u043d\u0430\u0441",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",Edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",Delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",Save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",addTag:"+ \u043c\u0435\u0441\u0442\u043e"},texts:{about:"\u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441 \u041e \u043d\u0430\u0441",Nothink:"\u041d\u0438\u0447\u0435\u0433\u043e",nickname:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f",password:"\u041f\u0430\u0440\u043e\u043b\u044c",passwordAgain:"\u041f\u043e\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",sucessRegistration:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c",hello:"\u041f\u0440\u0438\u0432\u0435\u0442, ",changleLanguage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430 \u043d\u0430 ",success:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:"\u0427\u0442\u043e \u0441\u043d\u0438\u043b\u043e\u0441\u044c",tags:"\u041c\u0435\u0441\u0442\u0430",dreams:"\u0421\u043d\u043e\u0432",technics:"\u0422\u0435\u0445\u043d\u0438\u043a\u0438",rating:"\u0420\u0435\u0430\u043b\u0438\u0441\u0442\u0438\u0447\u043d\u043e\u0441\u0442\u044c",Dream:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u0441\u043e\u043d",Cdream:"\u041eC",NoDreams:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043d\u043e\u0432",pickDate:"\u0414\u0430\u0442\u0430",pickTime:"\u0412\u0440\u0435\u043c\u044f",TapToShow:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0442\u0435\u043a\u0441\u0442, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e\u0434\u0441\u0432\u0435\u0447\u0438\u0432\u0430\u043d\u0438\u0435",Public:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e",Publish:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",Unpublish:"\u0421\u043a\u0440\u044b\u0442\u044c",PublicAlert:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u043d?",PublicText:"\u041f\u043e\u0441\u043b\u0435 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0432\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u0441\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043e\u043d.",PublicDescription:"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043e\u043d",UnpublicAlert:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043a\u0440\u044b\u0442\u044c \u0441\u043e\u043d?",UnpublicText:"\u041f\u043e\u0441\u043b\u0435 \u0441\u043a\u0440\u044b\u0442\u0438\u044f \u0432\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u043d\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043e\u043d.",UnpublicDescription:"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043e\u043d",DeleteAlert:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?",DeleteText:"\u041f\u043e\u0441\u043b\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c.",Name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",ChangeIcon:"\u0418\u043a\u043e\u043d\u043a\u0430",FindIcon:"\u041f\u043e\u0438\u0441\u043a \u0438\u043a\u043e\u043d\u043a\u0438 (English only)"},errors:{emailLenght:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",nicknameLenght:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f",passwordLenght:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",password2Lenght:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",passwordsCompare:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442",UserNotExist:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",EmailIsNotValid:"\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",IncorrectPassword:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",EmailIsBusy:"Email \u0437\u0430\u043d\u044f\u0442",PasswordLenght5Symbols:"\u0414\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f - \u0431\u043e\u043b\u044c\u0448\u0435 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",NotLogin:"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u044b",EmptyName:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",EmptyTitle:"\u041f\u0443\u0441\u0442\u043e\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",EmptyDescription:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",EmptyDream:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441\u043d\u0430",NoChanges:"\u041d\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",CantDeletePost:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u043d\u0430",CantAddLocation:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043b\u043e\u043a\u0430\u0446\u0438\u0438",CantUpdateLocation:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043b\u043e\u043a\u0430\u0446\u0438\u0438",IconNotChange:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043a\u043e\u043d\u043a\u0443",ColorNotChange:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442"}};function Ea(e){return r.a.createElement(da.a,Object.assign({},e,{direction:"down"}))}var ya=Object(o.b)((function(e){return{lang:e.lang,themeMode:e.themeMode,auth:e.auth}}),(function(e){return{setCurrLangAction:function(t){return e(Q(t))},setTheme:function(t){return e({type:(a=t).type,palette:a.palette});var a},setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Ve(),a=e.lang,n=e.themeMode,c=e.auth,i=e.history,o=e.setCurrLangAction,s=e.setTheme,l=e.setSnackbar,u=Object(ge.a)(n),m=r.a.useState(void 0),d=Object(Z.a)(m,2),p=d[0],g=d[1],h=r.a.useState(!1),f=Object(Z.a)(h,2),b=f[0],E=f[1],y=r.a.useState(""),v=Object(Z.a)(y,2),k=v[0],N=v[1],x=r.a.useState(void 0),D=Object(Z.a)(x,2),C=D[0],S=D[1],L=function(e){e!==a.currLang.current&&("Ru"===e&&(g(a.currLang.current),o(ba),N(e),S((function(){return Ea})),E(!0)),"En"!==a.currLang.current&&(g(a.currLang.current),o(j),N(e),S((function(){return Ea})),E(!0)))},I=function(){switch(p){case"En":o(j);break;case"Ru":o(ba);break;default:o(j)}E(!1)};return r.a.useEffect((function(){var e={id:c.user.id};pe.post("/actions/users/getuserdata",e).then((function(e){0===e.data.language?o(j):o(ba)})).catch((function(e){0===c.user.language?o(j):o(ba)}))}),[t,s,o,c.user.language,c.user.times_mode,c.user.id]),r.a.createElement(he.a,{theme:u},r.a.createElement(ne.a,null),r.a.createElement(ma.a,{open:b,anchorOrigin:{vertical:"top",horizontal:"center"},key:"top, center",TransitionComponent:C},r.a.createElement(la.a,{"aria-describedby":"lang-snackbar",message:r.a.createElement(Ee.a,{className:"".concat(t.height12),align:"center",id:"lang-snackbar",variant:"body2"},a.currLang.texts.changleLanguage+k+" ?"),action:[r.a.createElement("div",{key:"lang-snackbar-buttons"},r.a.createElement(be.a,{key:"save","aria-label":"save",color:"inherit",onClick:function(){var e;switch(a.currLang.current){case"En":e=0;break;case"Ru":e=1;break;default:e=0}var t={language:e,id:c.user.id,nickname:c.user.nickname};X()?pe.post("/actions/users/updateuserdata",t).then((function(e){l({type:w,snackbar:{open:!0,variant:"success",message:a.currLang.texts.success}}),E(!1)})).catch((function(e){I()})):(l({type:w,snackbar:{open:!0,variant:"error",message:a.currLang.errors.NotLogin}}),I())}},r.a.createElement(fa.a,null)),r.a.createElement(be.a,{key:"close","aria-label":"close",color:"inherit",onClick:I},r.a.createElement(ga.a,null)))]})),r.a.createElement("div",{className:t.root},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height4)},r.a.createElement(oe.a,{container:!0,className:t.mainGridContainer,direction:"row",justify:"space-around",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,xs:4},r.a.createElement(ua.a,{className:t.AstronautButton,type:"button",focusRipple:!0,onClick:function(){alert("\u0422\u0443\u0442 \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043a\u043e\u0441\u043c\u043e\u043d\u0430\u0444\u0442\u0430")}},r.a.createElement("div",{className:t.AstronautDiv},r.a.createElement("div",{className:t.AstronautImg,style:"light"===n.palette.type?{filter:"invert(0)"}:{filter:"invert(1)"}})))),r.a.createElement(oe.a,{item:!0,xs:4},r.a.createElement(ua.a,{className:t.image,type:"button",focusRipple:!0,onClick:function(){var e="light"===n.palette.type?"dark":"light",t="light"===n.palette.type?"#f9a825":"#3f51b5",a=(n.palette.type,"#f50057");s({type:O,palette:{type:e,primary:{main:t},secondary:{main:a}}})}},r.a.createElement("div",{className:t.SkyDiv},r.a.createElement("div",{className:t.SunSrc,style:"dark"===n.palette.type?{transform:"translateY(36vw)"}:{transform:"translateY(0)"}}),r.a.createElement("div",{className:t.MoonSrc,style:"dark"===n.palette.type?{transform:"translateY(0)"}:{transform:"translateY(-36vw)"}})))),r.a.createElement(oe.a,{item:!0,xs:4},r.a.createElement(ua.a,{className:t.MapButton,type:"button",focusRipple:!0,onClick:function(){X()?i.push("/dreammap"):i.push("/")}},r.a.createElement("div",{className:t.MapDiv},r.a.createElement("div",{className:t.MapImg,style:"light"===n.palette.type?{filter:"invert(0)"}:{filter:"invert(1)"}})))))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height1)},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height12)},r.a.createElement(Ee.a,{className:t.mainGridContainer,align:"center",variant:"h6"},a.currLang.texts.hello+c.user.nickname)))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height6)},r.a.createElement(oe.a,{container:!0,className:"".concat(t.menuButtonContainer," ").concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.menuDivButton," ").concat(t.height2),align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:"".concat(t.menuButton," ").concat(t.centerButton),onClick:function(){X()?i.push("/dreams"):i.push("/")}},a.currLang.buttons.dreamJoirnal)),r.a.createElement(oe.a,{item:!0,className:"".concat(t.menuDivButton," ").concat(t.height2),align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:"".concat(t.menuButton," ").concat(t.centerButton),onClick:function(){X()?i.push("/addregulardream"):i.push("/")}},a.currLang.buttons.addDream)),r.a.createElement(oe.a,{item:!0,className:"".concat(t.menuDivButton," ").concat(t.height2),align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:"".concat(t.menuButton," ").concat(t.centerButton),onClick:function(){X()?i.push("/addcdream"):i.push("/")}},a.currLang.buttons.addCDream)),r.a.createElement(oe.a,{item:!0,className:"".concat(t.menuDivButton," ").concat(t.height2),align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:"".concat(t.menuButton," ").concat(t.centerButton),onClick:function(){X()?i.push("/technics"):i.push("/")}},a.currLang.buttons.techniques)),r.a.createElement(oe.a,{item:!0,className:"".concat(t.menuDivButton," ").concat(t.height2),align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:"".concat(t.menuButton," ").concat(t.centerButton)},a.currLang.buttons.adventures)))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height1)},r.a.createElement(oe.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{onClick:function(){L("Ru")}},"RU")),r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{onClick:function(){L("En")}},"EN")))))))})),va=a(805);function Oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ja=r.a.forwardRef((function(e,t){return r.a.createElement(da.a,Object.assign({direction:"up",ref:t},e))}));var ka=Object(o.b)((function(e){return{themeMode:e.themeMode,lang:e.lang}}),(function(e){return{setCurrLang:function(t){return e(Q(t))},setUserState:function(t){return e({type:(a=t).type,payload:a.payload});var a},setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Ve(),a=e.history,n=e.themeMode,c=e.lang,i=e.setUserState,o=e.setSnackbar,s=e.setCurrLang,l=Object(ge.a)(n),u=r.a.useState({email:"",password:""}),m=Object(Z.a)(u,2),d=m[0],p=m[1],f=r.a.useState({email:"",nickname:"",password:"",password2:""}),b=Object(Z.a)(f,2),E=b[0],y=b[1],v=r.a.useState({emailErr:!1,emailErrText:"",nicknameErr:!1,nicknameErrText:"",passwordErr:!1,passwordErrText:"",password2Err:!1,password2ErrText:""}),O=Object(Z.a)(v,2),k=O[0],N=O[1],x=r.a.useState(!1),D=Object(Z.a)(x,2),C=D[0],S=D[1],L=r.a.useState(!1),I=Object(Z.a)(L,2),P=I[0],B=I[1],_=r.a.useState(!1),T=Object(Z.a)(_,2),A=T[0],R=T[1],M=r.a.useState(!1),G=Object(Z.a)(M,2),U=G[0],W=G[1],z=r.a.useState({mainPage:!0,aboutPage:!1}),F=Object(Z.a)(z,2),H=F[0],J=F[1],V=function(e){e.preventDefault()},Y=function(){var e=!1,t=k;0===E.email.length&&(t=wa({},t,{emailErr:!0}),t=wa({},t,{emailErrText:c.currLang.errors.emailLenght}),e=!0),0===E.nickname.length&&(t=wa({},t,{nicknameErr:!0}),t=wa({},t,{nicknameErrText:c.currLang.errors.nicknameLenght}),e=!0),0===E.password.length&&(t=wa({},t,{passwordErr:!0}),t=wa({},t,{passwordErrText:c.currLang.errors.passwordLenght}),e=!0),0===E.password2.length&&(t=wa({},t,{password2Err:!0}),t=wa({},t,{password2ErrText:c.currLang.errors.password2Lenght}),e=!0),E.password!==E.password2&&(t=wa({},t,{passwordErr:!0}),t=wa({},t,{passwordErrText:c.currLang.errors.passwordsCompare}),t=wa({},t,{password2Err:!0}),t=wa({},t,{password2ErrText:c.currLang.errors.passwordsCompare}),e=!0),e?(N(t),S(!1)):pe.post("/actions/users/register",E).then((function(e){o({type:w,snackbar:{open:!0,variant:"success",message:c.currLang.texts.sucessRegistration}});var t=E;t=wa({},t,{email:""}),t=wa({},t,{nickname:""}),t=wa({},t,{password:""}),t=wa({},t,{password2:""}),y(t),X("closeRegist"),X("openLogin"),S(!1)})).catch((function(e){var t="";i({type:g,payload:e.response.data}),"EmailIsBusy"===e.response.data.email&&(t=c.currLang.errors.EmailIsBusy),"PasswordLenght5Symbols"===e.response.data.password&&(t=c.currLang.errors.PasswordLenght5Symbols),o({type:w,snackbar:{open:!0,variant:"error",message:t}}),S(!1)}))},X=function(e){var t=H;switch(e){case"useVk":break;case"openLogin":R(!0);break;case"openRegist":W(!0);break;case"closeLogin":R(!1),B(!1);break;case"closeRegist":W(!1),B(!1);break;case"signIn":S(!0),pe.post("/actions/users/login",d).then((function(e){var t=e.data.token;localStorage.setItem("jwtToken",t),K(t);var n=q()(t);i({type:h,payload:n}),S(!1),a.push("/luciddreams")})).catch((function(e){var t="";"UserNotExist"===e.response.data.email&&(t=c.currLang.errors.UserNotExist),"EmailIsNotValid"===e.response.data.email&&(t=c.currLang.errors.EmailIsNotValid),"IncorrectPassword"===e.response.data.passwordincorrect&&(t=c.currLang.errors.IncorrectPassword),o({type:w,snackbar:{open:!0,variant:"error",message:t}}),S(!1)}));break;case"signUp":S(!0),Y();break;case"openAboutPage":t=wa({},t,{aboutPage:!0}),t=wa({},t,{mainPage:!1}),J(t);break;case"closeAboutPage":t=wa({},t,{aboutPage:!1}),t=wa({},t,{mainPage:!0}),J(t)}},$=function(e){s("Ru"===e?ba:j)};return r.a.createElement(he.a,{theme:l},r.a.createElement(ne.a,null),r.a.createElement(qt.a,{keepMounted:!0,open:A,TransitionComponent:ja,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Gt.a,{id:"alert-dialog-slide-title"},c.currLang.buttons.signIn),r.a.createElement(At.a,null,r.a.createElement(oe.a,{className:"".concat(t.menuDivButton),align:"center"},r.a.createElement(tt.a,{className:t.textField,id:"email-field",type:"email",label:"Email",onBlur:function(e){!function(e){var t=d;t=wa({},t,{email:e.target.value}),p(t)}(e)}})),r.a.createElement(oe.a,{className:"".concat(t.menuDivButton),align:"center"},r.a.createElement(tt.a,{id:"password-field",className:t.textField,type:P?"text":"password",label:c.currLang.texts.password,onBlur:function(e){!function(e){var t=d;t=wa({},t,{password:e.target.value}),p(t)}(e)},InputProps:{endAdornment:r.a.createElement(va.a,{position:"end"},r.a.createElement(be.a,{tabIndex:"-1",edge:"end","aria-label":"toggle password visibility",onClick:function(){B(!P)},onMouseDown:V},P?r.a.createElement(Xt.a,null):r.a.createElement(ea.a,null)))}})),C?r.a.createElement(lt.a,null):""),C?"":r.a.createElement(Rt.a,null,r.a.createElement(ce.a,{onClick:function(){X("closeLogin")},color:"secondary",disabled:C},c.currLang.buttons.cancel),r.a.createElement(ce.a,{onClick:function(){X("signIn")},color:"primary",disabled:C},c.currLang.buttons.signIn))),r.a.createElement(qt.a,{keepMounted:!0,open:U,TransitionComponent:ja,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Gt.a,{id:"alert-dialog-slide-title"},c.currLang.buttons.signUp),r.a.createElement(At.a,null,r.a.createElement(oe.a,{className:"".concat(t.menuDivButton),align:"center"},r.a.createElement(tt.a,{id:"reg-email-field",error:k.emailErr,helperText:k.emailErrText,className:t.textField,type:"email",label:"Email",onBlur:function(e){!function(e){var t=k;t=wa({},t,{emailErr:!1}),t=wa({},t,{emailErrText:""}),N(t);var a=E;a=wa({},a,{email:e.target.value}),y(a)}(e)}})),r.a.createElement(oe.a,{className:"".concat(t.menuDivButton),align:"center"},r.a.createElement(tt.a,{id:"reg-nickname-field",error:k.nicknameErr,helperText:k.nicknameErrText,className:t.textField,type:"text",label:c.currLang.texts.nickname,onBlur:function(e){!function(e){var t=k;t=wa({},t,{nicknameErr:!1}),t=wa({},t,{nicknameErrText:""}),N(t);var a=E;a=wa({},a,{nickname:e.target.value}),y(a)}(e)}})),r.a.createElement(oe.a,{className:"".concat(t.menuDivButton),align:"center"},r.a.createElement(tt.a,{id:"reg-password-field",error:k.passwordErr,helperText:k.passwordErrText,className:t.textField,type:P?"text":"password",label:c.currLang.texts.password,onBlur:function(e){!function(e){var t=k;t=wa({},t,{passwordErr:!1}),t=wa({},t,{passwordErrText:""}),t=wa({},t,{password2Err:!1}),t=wa({},t,{password2ErrText:""}),N(t);var a=E;a=wa({},a,{password:e.target.value}),y(a)}(e)},InputProps:{endAdornment:r.a.createElement(va.a,{position:"end"},r.a.createElement(be.a,{tabIndex:"-1",edge:"end","aria-label":"toggle password visibility",onClick:function(){B(!P)},onMouseDown:V},P?r.a.createElement(Xt.a,null):r.a.createElement(ea.a,null)))}})),r.a.createElement(oe.a,{className:"".concat(t.menuDivButton),align:"center"},r.a.createElement(tt.a,{id:"reg-password2-field",error:k.password2Err,helperText:k.password2ErrText,className:t.textField,type:P?"text":"password",label:c.currLang.texts.passwordAgain,onBlur:function(e){!function(e){var t=k;t=wa({},t,{passwordErr:!1}),t=wa({},t,{passwordErrText:""}),t=wa({},t,{password2Err:!1}),t=wa({},t,{password2ErrText:""}),N(t);var a=E;a=wa({},a,{password2:e.target.value}),y(a)}(e)},InputProps:{endAdornment:r.a.createElement(va.a,{position:"end"},r.a.createElement(be.a,{tabIndex:"-1",edge:"end","aria-label":"toggle password visibility",onClick:function(){B(!P)},onMouseDown:V},P?r.a.createElement(Xt.a,null):r.a.createElement(ea.a,null)))}})),C?r.a.createElement(lt.a,null):""),C?"":r.a.createElement(Rt.a,null,r.a.createElement(ce.a,{onClick:function(){X("closeRegist")},color:"secondary",disabled:C},c.currLang.buttons.cancel),r.a.createElement(ce.a,{onClick:function(){X("signUp")},color:"primary",disabled:C},c.currLang.buttons.signUp))),r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.mainPage,style:!0===H.mainPage?{transform:"translateY(0%)"}:{transform:"translateY(-100%)"}},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height11)},r.a.createElement(oe.a,{container:!0,className:"".concat(t.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(t.height3)}),r.a.createElement(oe.a,{item:!0,className:"".concat(t.height6," ").concat(t.menuDivButton)},r.a.createElement(oe.a,{item:!0,className:"".concat(t.menuDivButton," ").concat(t.height2),align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:"".concat(t.menuButton," ").concat(t.centerButton),onClick:function(){X("openLogin")}},c.currLang.buttons.signIn)),r.a.createElement(oe.a,{item:!0,className:"".concat(t.menuDivButton," ").concat(t.height2),align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:"".concat(t.menuButton," ").concat(t.centerButton),onClick:function(){X("openRegist")}},c.currLang.buttons.signUp)),r.a.createElement(oe.a,{item:!0,className:"".concat(t.menuDivButton," ").concat(t.height2),align:"center"}),r.a.createElement(oe.a,{item:!0,className:"".concat(t.menuDivButton," ").concat(t.height2),align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:"".concat(t.menuButton," ").concat(t.centerButton),onClick:function(){return X("openAboutPage")}},c.currLang.buttons.about))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.height3)}))),r.a.createElement(oe.a,{item:!0,className:"".concat(t.mainGridBodyItem," ").concat(t.height1)},r.a.createElement(oe.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{onClick:function(){$("Ru")}},"RU")),r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{onClick:function(){$("En")}},"EN")))))),r.a.createElement("div",{className:t.aboutPage,style:!0===H.aboutPage?{transform:"translateY(-100%)"}:{transform:"translateY(0%)"}},r.a.createElement(oe.a,{className:t.aboutGridContainer,container:!0,direction:"column",justify:"center",alignItems:"stretch",spacing:5},r.a.createElement(oe.a,{item:!0,className:t.aboutGridItem,align:"center"},r.a.createElement(at.a,{className:t.aboutPaper},r.a.createElement(Ee.a,null,c.currLang.texts.about))),r.a.createElement(oe.a,{item:!0,className:t.aboutGridItem,align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:t.menuButton,onClick:function(){return X("closeAboutPage")}},c.currLang.buttons.close))))))})),Na=a(833),xa=a(837);function Da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Da(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Sa=Object(o.b)((function(e){return{lang:e.lang,palette:e.themeMode.palette,auth:e.auth}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=e.item,a=e.lang,n=e.auth,c=e.history,i=Ve(),o=r.a.useState(!1),s=Object(Z.a)(o,2),l=s[0],u=s[1],m=r.a.useState({header:"",body:"",commit:"",action:""}),d=Object(Z.a)(m,2),p=d[0],g=d[1],h=function(n){switch(n){case"edit":c.push({pathname:"/addtechnics",defaultData:{item:t}});break;case"delete":var r=p;r=Ca({},r,{header:a.currLang.texts.DeleteAlert}),r=Ca({},r,{body:a.currLang.texts.DeleteText}),r=Ca({},r,{commit:a.currLang.buttons.Delete}),r=Ca({},r,{action:"deleteOk"}),g(r),u(!0);break;case"deleteOk":u(!1),e.loadTechnics();break;case"closeAlert":u(!1)}};return r.a.createElement(oe.a,{item:!0,className:i.dreamCardDiv},r.a.createElement(qt.a,{open:l,onClose:function(){return h("closeAlert")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Gt.a,{id:"alert-dialog-title"},p.header),r.a.createElement(At.a,null,r.a.createElement(_t.a,{id:"alert-dialog-description"},p.body)),r.a.createElement(Rt.a,null,r.a.createElement(ce.a,{onClick:function(){return h("closeAlert")},color:"secondary"},a.currLang.buttons.cancel),r.a.createElement(ce.a,{onClick:function(){return h(p.action)},color:"primary",autoFocus:!0},p.commit))),r.a.createElement(Vt.a,{raised:!0,className:i.card},r.a.createElement(Na.a,null,r.a.createElement(xa.a,{className:i.media,image:"https://4.bp.blogspot.com/-imM00o7SslA/V8NXohT8AmI/AAAAAAAAFOM/F7h1SZjMaCU4mJ6PlwUlx7tpePjVJWlcACLcB/s1600/Cockpit%2B2.png"}),r.a.createElement(Ut.a,null,r.a.createElement(Ee.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Ru"===a.currLang.current?t.name_rus:t.name_eng),r.a.createElement(Ee.a,{variant:"body2",color:"textSecondary",component:"p"},"Ru"===a.currLang.current?t.description_rus:t.description_eng))),n.user.roles<2?r.a.createElement(Wt.a,null,r.a.createElement(ce.a,{size:"small",color:"secondary",onClick:function(){h("delete")}},a.currLang.buttons.Delete),r.a.createElement(ce.a,{size:"small",color:"primary",onClick:function(){h("edit")}},a.currLang.buttons.Edit)):""))}));var La=Object(o.b)((function(e){return{themeMode:e.themeMode,lang:e.lang,auth:e.auth}}),(function(e){return{}}))((function(e){var t=e.lang,a=e.themeMode,n=e.history,c=e.auth,i=Object(ge.a)(a),o=Ve(),s=r.a.useState(!0),l=Object(Z.a)(s,2),u=l[0],m=l[1],d=r.a.useState([]),p=Object(Z.a)(d,2),g=p[0],h=p[1],f=r.a.useCallback((function(){m(!0),pe.get("/gettechnics").then((function(e){h(e.data),m(!1)})).catch((function(e){m(!1)}))}),[]);return r.a.useEffect((function(){f()}),[f]),r.a.createElement(he.a,{theme:i},r.a.createElement(ne.a,null),r.a.createElement("div",{className:o.root},r.a.createElement(oe.a,{container:!0,className:"".concat(o.height12),direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(oe.a,{item:!0,className:"".concat(o.hiddenOverflow," ").concat(o.height11)},u?r.a.createElement("div",{className:o.formControl},r.a.createElement(Qe.a,null)):r.a.createElement(re.a,{className:o.mainGridDreamsBodyItemContainer},r.a.createElement(at.a,{className:o.mainGridDreamsBodyItemContainerPaper},r.a.createElement(oe.a,{container:!0,className:o.mainGridDreamsContainer,direction:"column",justify:"center",alignItems:"stretch"},g.map((function(e,t){return r.a.createElement(Sa,{key:t,item:e,loadTechnics:f,history:n})})))))),r.a.createElement(oe.a,{item:!0,className:"".concat(o.mainGridBodyItem," ").concat(o.height1)},r.a.createElement(oe.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(oe.a,{item:!0},r.a.createElement(ce.a,{variant:"contained",color:"secondary",className:o.actionButton,onClick:function(){n.push("/luciddreams")}},t.currLang.buttons.close)),c.user.roles<2?r.a.createElement(oe.a,{item:!0,align:"center"},r.a.createElement(ce.a,{variant:"contained",color:"primary",className:o.actionButton,onClick:function(){X()?n.push("/addtechnics"):n.push("/")}},t.currLang.buttons.add)):r.a.createElement(oe.a,{item:!0,xs:6}))))))})),Ia=a(370),Pa=a(371),Ba=Object(Ne.a)((function(e){return{success:{backgroundColor:Ia.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Pa.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function _a(e){var t=Ba(),a=e.className,n=e.message,c=e.onClose,i=e.variant,o=Je[i];return r.a.createElement(la.a,{className:Object($.a)(t[i],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(o,{className:Object($.a)(t.icon,t.iconVariant)}),r.a.createElement(Ee.a,{className:t.mainGridContainer,align:"center",variant:"body2"},n)),action:[r.a.createElement(be.a,{key:"close","aria-label":"close",color:"inherit",onClick:c},r.a.createElement(ga.a,{className:t.icon}))]})}var Ta=Object(o.b)((function(e){return{open:e.snackbar.snackbar.open,variant:e.snackbar.snackbar.variant,message:e.snackbar.snackbar.message}}),(function(e){return{setSnackbar:function(t){return e(ee(t))}}}))((function(e){var t=Ve(),a=e.open,n=e.variant,c=e.message,i=r.a.useState(!1),o=Object(Z.a)(i,2),l=o[0],u=o[1],m=r.a.useState(""),d=Object(Z.a)(m,2),p=d[0],g=d[1],h=r.a.useState(""),f=Object(Z.a)(h,2),b=f[0],E=f[1],y=function(t,a){"clickaway"!==a&&(u(!1),e.setSnackbar({type:w,snackbar:{open:!1,variant:p,message:b}}))};return r.a.useEffect((function(){g(n),E(c),u(a)}),[a,n,c]),r.a.createElement("div",null,r.a.createElement(ma.a,{open:l,onClose:y,autoHideDuration:3e3},r.a.createElement(_a,{className:t.margin,onClose:y,variant:p,message:b})),r.a.createElement(s.b,{exact:!0,path:"/",component:ka}),r.a.createElement(s.d,null,r.a.createElement(ae,{exact:!0,path:"/dreammap",component:Ke}),r.a.createElement(ae,{exact:!0,path:"/addlocation",component:ct}),r.a.createElement(ae,{exact:!0,path:"/luciddreams",component:ya}),r.a.createElement(ae,{exact:!0,path:"/dreams",component:sa}),r.a.createElement(ae,{exact:!0,path:"/addregulardream",component:kt}),r.a.createElement(ae,{exact:!0,path:"/addcdream",component:Lt}),r.a.createElement(ae,{exact:!0,path:"/technics",component:La}),r.a.createElement(ae,{exact:!0,path:"/addtechnics",component:Bt})))})),Aa=X(),Ra=[],Ma=[];Aa?u.push("/luciddreams"):(localStorage.removeItem("jwtToken"),K(!1),H.dispatch({type:h,payload:null}),u.push("/")),(new Date).getHours()>=16||(new Date).getHours()>=0&&(new Date).getHours()<6?H.dispatch({type:O,palette:{type:"dark",primary:{main:"#f9a825"},secondary:{main:"#f50057"},error:{main:"#cc0000"}}}):H.dispatch({type:O,palette:{type:"light",primary:{main:"#3f51b5"},secondary:{main:"#f50057"},error:{main:"#cc0000"}}});var Ga=Object(o.b)((function(e){return{type:e.themeMode.palette.type}}),(function(e){return{}}))((function(e){var t=e.type,a=Ve();Ra=[],Ma=[];for(var n=0;n<He.amountStars;n++){var c=0===Math.round(10*Math.random())?He.size.giant:qe(He.size.min,He.size.max);Ra.push(r.a.createElement("div",{className:a.AppStar,key:n+"AppStar",style:{left:qe(0,100)+"%",top:qe(0,100)+"%",width:c+"px",height:c+"px",boxShadow:"0 0 "+c+"px "+c/2+"px #043668",animationDuration:qe(He.duration.min,He.duration.max)+"s"}}))}for(var i=0;i<He.amountClouds;i++){var o=Math.round(50*Math.random()+150),l=Math.round(100*Math.random()/100*90),m=2*Math.random()-.5,d=90*Math.random()/100,p=30*Math.random()+15;Ma.push(r.a.createElement("div",{className:a.AppCloud,key:i+"AppCloud",style:{left:o+"%",top:l+"%",width:"400px",height:"100px",transform:"scale("+m+")",opacity:d,animationDuration:p+"s"}}))}return r.a.createElement(s.c,{history:u},r.a.createElement("div",{className:a.AppDivDark},r.a.createElement("div",{className:a.AppDivLight,style:"light"===t?{opacity:1}:{opacity:0}}),"light"===t?r.a.createElement("div",{className:a.AppCloudsDiv,style:"light"===t?{opacity:1}:{opacity:0}},Ma):r.a.createElement("div",{className:a.AppStarsDiv,style:"light"===t?{opacity:0}:{opacity:1}},Ra)),r.a.createElement(Ta,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement("div",{id:"global"},r.a.createElement(o.a,{store:H},r.a.createElement(Ga,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[443,1,2]]]);
//# sourceMappingURL=main.faef53ee.chunk.js.map